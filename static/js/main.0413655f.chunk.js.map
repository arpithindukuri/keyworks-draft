{"version":3,"sources":["redux/dashboardSlice.tsx","data/ISOData.tsx","data/NISTData.tsx","redux/frameworkSlice.tsx","data/PCIData.tsx","redux/threatFeedSlice.tsx","redux/store.tsx","context/AppContext.tsx","assets/logo-12.svg","redux/hooks.tsx","components/layout/DrawerData.tsx","components/layout/Drawer.tsx","components/pages/Dashboard/DashboardActions.tsx","components/pages/Framework/FrameworkActions.tsx","components/layout/Layout.tsx","components/Module.tsx","components/widgets/PieChartRating.tsx","util/index.tsx","components/pages/Framework/FrameworkSummary.tsx","components/widgets/FrameworkCompliance.tsx","components/pages/Framework/AlertList.tsx","components/widgets/FrameworkAlerts.tsx","components/widgets/HighRiskAssets.tsx","components/widgets/Ratings.tsx","components/widgets/RatingTrends.tsx","components/widgets/RegulatoryCompliance.tsx","data/ThreatData.tsx","components/widgets/Map.tsx","components/widgets/TopThreats.tsx","redux/widgetSlice.tsx","components/DotGrid.tsx","components/ErrorBoundary.tsx","components/pages/Dashboard/Dashboard.tsx","components/pages/Dashboard/EditDashboard.tsx","components/pages/Framework/AllOverviews.tsx","data/AvailableFrameworks.tsx","components/pages/Framework/FrameworkAdmin.tsx","components/pages/Framework/Framework.tsx","components/pages/ThreatFeed/ManageThreatFeed.tsx","Router.tsx","components/pages/Framework/ManageFramework.tsx","components/pages/Framework/ViewFramework.tsx","components/pages/Dashboard/ViewDashboard.tsx","Theme.tsx","App.tsx","index.tsx"],"names":["dashboardSlice","createSlice","name","initialState","dashboards","id","isActive","owner","hasAccess","layout","w","h","x","y","i","minW","maxW","minH","maxH","moved","static","isDraggable","isResizable","isBounded","reducers","add","state","action","payload","newDashboard","remove","index","findIndex","dash","splice","update","updateDashboardLayout","newLayout","dropLayout","removeWidget","dashboardId","widgetIndex","wid","widgetId","actions","selectDashboardSlice","dashboard","selectDashboards","selectDashboardById","createSelector","find","ISOAlerts","title","child","severity","timestamp","format","Date","NISTAlerts","frameworks","dateAdopted","alerts","controls","description","nestedControls","requiredProcesses","process","dateUploaded","link","status","compliance","Math","random","requiredDocuments","document","frameworkSlice","newFramework","frame","updateControl","frameworkId","replaceControl","control","controlId","newControl","undefined","map","item","length","selectFrameworks","framework","selectFrameworkById","countActiveControls","result","countActiveControlsHelper","countAllControlsHelper","countActiveControlDocuments","countActiveControlDocumentsHelper","countValidControlDocuments","countValidControlDocumentsHelper","countActiveControlProcesses","countActiveControlProcessesHelper","countValidControlProcesses","countValidControlProcessesHelper","getControlsCompliance","getControlsComplianceHelper","countCompliantControls","countCompliantControlsHelper","availableThreatFeeds","url","threatFeeds","username","password","token","v4","lastSyncTimestamp","pollInterval","threatFeedSlice","newThreatFeed","threatFeed","selectThreatFeeds","store","configureStore","reducer","devTools","AppContext","createContext","type","setType","clearType","AppProvider","children","useState","setState","Provider","value","prev","useAppDispatch","useDispatch","useAppSelector","useSelector","useDashboardItems","nestedListItems","filter","icon","toLowerCase","isNested","useFrameworkItems","useTuneItem","useStyles","makeStyles","theme","createStyles","drawer","width","drawerWidth","flexShrink","drawerPaper","drawerHeader","display","alignItems","padding","spacing","mixins","toolbar","justifyContent","drawerContainer","overflow","drawerItemIcon","color","palette","text","secondary","transition","transitions","create","easing","easeOut","duration","shortest","drawerItemIconRotated","transform","nested","paddingLeft","Drawer","open","classes","drawerItems","className","variant","anchor","paper","List","DrawerItem","useDivider","history","useHistory","location","useLocation","React","recursivelySearchDrawerListItem","pathname","includes","setOpen","selected","ListItem","button","onClick","push","ListItemIcon","Icon","ListItemText","primary","ExpandMore","Collapse","in","timeout","component","disablePadding","nestedItem","Divider","predicate","DashboardActions","thisId","split","ButtonGroup","disableElevation","size","Button","startIcon","Edit","MoreVert","DashboardEditActions","enqueueSnackbar","useSnackbar","Cancel","Save","FrameworkEditActions","root","appBar","leavingScreen","zIndex","backgroundColor","background","appBarShift","enteringScreen","menuButton","logoIpsum","height","marginLeft","marginRight","flexGrow","textAlign","search","position","borderRadius","fade","common","black","breakpoints","up","searchIcon","pointerEvents","inputRoot","inputInput","content","contentShift","badge","info","main","gradients","Layout","CssBaseline","AppBar","clsx","Toolbar","IconButton","edge","src","alt","Typography","noWrap","PageActions","Badge","badgeContent","Notifications","AccountCircle","path","container","rotate","isEditing","border","light","boxShadow","shadows","grabbable","cursor","isDragging","Module","titleTypographyProps","useCard","cardStyles","isEditable","dragging","setDragging","Box","classNames","flexDirection","onMouseDown","onMouseUp","CardHeader","style","paddingTop","paddingBottom","Card","elevation","opacity","fadeIn","animation","transformOrigin","PieChartRating","percent","inverse","data","round","useTheme","getColor","ResponsiveContainer","minHeight","PieChart","Pie","dataKey","nameKey","startAngle","endAngle","paddingAngle","innerRadius","outerRadius","stroke","entry","Cell","fill","Label","dominantBaseline","fontSize","typography","h4","fontWeight","margin","top","bottom","left","right","animationDuration","h6","body","marginTop","pieContainer","FrameworkSummary","subtitle","numControls","numControlsCompliant","numAlerts","numViolations","Grid","direction","xs","align","CheckCircle","ReportProblem","formControl","minWidth","FrameworkCompliance","selectedFrameworkId","setSelectedFrameworkId","selectedFramework","numActive","numCompliant","useEffect","FormControl","InputLabel","Select","labelId","onChange","event","target","label","MenuItem","alert","AlertList","Alert","AlertTitle","parse","maxHeight","boxSizing","overflowY","headerCell","avatar","createData","asset","risk","rows","SeverityChip","Chip","HighRiskAssets","Table","stickyHeader","aria-label","TableHead","TableRow","TableCell","TableBody","row","scope","overflowX","ratingCard","flex","ratingCardTitle","ratingCardNumber","responsive","RatingCard","Ratings","oldData","Compliance","Risk","Threat","newData","RatingTrends","setData","setTimeout","LineChart","XAxis","Tooltip","Legend","Line","strokeWidth","dark","dot","Low","Medium","High","Complete","RegulatoryCompliance","BarChart","Bar","stackId","PinsUnMemo","threats","threat","points","longitude","latitude","viewBox","d","Pins","memo","Threats","message","dataLayer","paint","Map","viewport","setViewport","features","hoverInfo","setHoverInfo","fetch","then","resp","json","onHover","useCallback","srcEvent","offsetX","offsetY","hoveredFeature","feature","onViewportChange","mapStyle","interactiveLayerIds","onMouseLeave","onMouseOut","Layer","touchAction","CardContent","properties","TopThreats","zoom","ThreatList","selectedThreat","setSelectedThreat","handleClickOpen","ThreatDialog","isOpen","close","minLng","min","minLat","maxLng","max","maxLat","WebMercatorViewport","fitBounds","Dialog","onClose","aria-labelledby","fullWidth","maxWidth","DialogTitle","DialogContent","getWidgetDetailsFromId","widgetList","DotGrid","numX","numY","heightSpace","radius","thickness","dots","ref","useRef","setWidth","current","clientWidth","indexWidth","indexHeight","centerX","centerY","x1","y1","x2","y2","stroke-width","version","ErrorBoundary","props","hasError","error","errorInfo","console","this","Component","ReactGridLayout","WidthProvider","withResizeDetector","Responsive","refreshMode","refreshRate","selector","animationFillMode","placeholder","grey","Dashboard","canEdit","useContext","dispatch","setLayout","isDotGridVisible","setIsDotGridVisible","setHeight","newItemType","widget","widgetDefaults","log","Fade","floor","window","innerHeight","isDroppable","measureBeforeMount","layouts","lg","md","sm","xxs","rowHeight","cols","draggableHandle","onDragStart","onDragStop","onResizeStart","onResizeStop","onLayoutChange","li","forEach","droppingItem","onDrop","droppingElemIndex","num","newLayoutItem","widgetEl","getWidgetFromId","Actions","Close","WidgetListItem","widgetType","draggable","e","dataTransfer","onDragEnd","disableRipple","disableTouchRipple","primaryTypographyProps","AvailableFrameworks","frameworkSummary","tableHeader","default","AddFramework","Add","AddFrameworkDialog","SubItem","setSelectedFramework","AvailableFrameworkList","ValidateFramework","back","DialogActions","setSearch","fuse","Fuse","keys","threshold","htmlFor","FilledInput","endAdornment","Search","license","setLicense","setError","DialogContentText","TextField","helperText","inputProps","accordion","shape","dialog","closeButton","Framework","EditHeader","ControlList","total","countAllControls","totalDocs","numDocs","totalProcs","numProcs","arr","Control","last","square","isValid","Accordion","expanded","marginBottom","borderBottomLeftRadius","borderBottomRightRadius","AccordionSummary","expandIcon","Checkbox","stopPropagation","onFocus","checked","justify","success","NewReleases","AccordionDetails","reqDoc","ControlRequiredDocument","reqProc","ControlRequiredProcess","dataItems","ControlDataItem","paddingRight","unmountOnExit","RequirementSubItem","Link","Delete","PdfDialog","handleClose","alignContent","NoteAdd","setValue","parseInt","href","threatFeedSummary","addNew","AddNewButton","ButtonBase","ThreatFeedSummary","Paper","ThreatFeedSummaryItem","rel","flexItem","orientation","AssignmentTurnedIn","TestDialog","getJson","response","numFound","start","maxScore","docs","journal","eissn","publication_date","article_type","author_display","abstract","title_display","score","routes","to","defaultBorderRadius","defaultPrimary","contrastText","defaultSecondary","defaultSpacing","paletteType","options","warning","overrides","MuiList","MuiListItem","gutters","MuiListItemIcon","MuiListItemText","MuiCardContent","MuiChip","MuiButton","MuiInputBase","MuiOutlinedInput","fontFamily","join","h5","createMuiTheme","getTheme","borderRight","borderBottom","appBody","App","ThemeProvider","maxSnack","anchorOrigin","horizontal","vertical","route","ReactDOM","render","StrictMode","getElementById"],"mappings":"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,CACR,isCAEFC,cACE,wEACFC,MAAO,UAET,CACE9rB,GAAI,+BACJurB,QAAS,WACTC,MAAO,YACPC,iBAAkB,uBAClBC,aAAc,mBACdC,eAAgB,CACd,gBACA,aACA,sBACA,2BACA,2BACA,iBACA,eACA,eACA,iBAEFC,SAAU,CACR,sgDAEFC,cACE,yDACFC,MAAO,WAET,CACE9rB,GAAI,+BACJurB,QAAS,WACTC,MAAO,YACPC,iBAAkB,uBAClBC,aAAc,mBACdC,eAAgB,CACd,gBACA,gBACA,aACA,oBACA,aACA,oBACA,cACA,kBACA,gBAEFC,SAAU,CACR,iuDAEFC,cACE,gJACFC,MAAO,WAET,CACE9rB,GAAI,+BACJurB,QAAS,eACTC,MAAO,YACPC,iBAAkB,uBAClBC,aAAc,mBACdC,eAAgB,CAAC,iBAAkB,kBACnCC,SAAU,CACR,s6BAEFC,cACE,6DACFC,MAAO,UAET,CACE9rB,GAAI,+BACJurB,QAAS,gBACTC,MAAO,YACPC,iBAAkB,uBAClBC,aAAc,mBACdC,eAAgB,CACd,kBACA,qBACA,oBACA,kBACA,eACA,gBACA,mBACA,kBACA,gBACA,mBACA,gBACA,qBACA,kBACA,wBAEFC,SAAU,CACR,spGAEFC,cACE,4DACFC,MAAO,UAET,CACE9rB,GAAI,0DACJurB,QAAS,WACTC,MAAO,YACPC,iBAAkB,uBAClBC,aAAc,aACdC,eAAgB,CACd,gBACA,qBACA,aACA,oBACA,aACA,oBACA,cACA,kBACA,gBAEFC,SAAU,CAAC,IACXC,cACE,4JACFC,MAAO,UAET,CACE9rB,GAAI,+BACJurB,QAAS,WACTC,MAAO,YACPC,iBAAkB,uBAClBC,aAAc,mBACdC,eAAgB,CACd,8BACA,6BACA,qBACA,aACA,iBACA,mBAEFC,SAAU,CACR,0tCAEFC,cACE,uEACFC,MAAO,WAET,CACE9rB,GAAI,+BACJurB,QAAS,WACTC,MAAO,YACPC,iBAAkB,uBAClBC,aAAc,mBACdC,eAAgB,CACd,cACA,iBACA,sBACA,oBAEFC,SAAU,CACR,i+CAEFC,cACE,kEACFC,MAAO,WA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","file":"static/js/main.0413655f.chunk.js","sourcesContent":["import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"./store\";\r\nimport { Layout } from \"react-grid-layout\";\r\n\r\nexport interface Dashboard {\r\n  id: string;\r\n  isActive: boolean;\r\n  name: string;\r\n  owner: string;\r\n  hasAccess: boolean;\r\n  layout: Layout[];\r\n}\r\n\r\nexport interface DashboardState {\r\n  dashboards: Dashboard[];\r\n}\r\n\r\nconst initialState: DashboardState = {\r\n  dashboards: [\r\n    {\r\n      id: \"home\",\r\n      isActive: true,\r\n      name: \"Home\",\r\n      owner: \"Stuart Smith\",\r\n      hasAccess: true,\r\n      layout: [\r\n        {\r\n          w: 5,\r\n          h: 4,\r\n          x: 11,\r\n          y: 8,\r\n          i: \"ratings\",\r\n          minW: 5,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 5,\r\n          h: 3,\r\n          x: 11,\r\n          y: 5,\r\n          i: \"trends\",\r\n          minW: 5,\r\n          maxW: 20,\r\n          minH: 3,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 4,\r\n          h: 4,\r\n          x: 12,\r\n          y: 12,\r\n          i: \"regcomp\",\r\n          minW: 4,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 12,\r\n          h: 4,\r\n          x: 0,\r\n          y: 12,\r\n          i: \"highriskassets\",\r\n          minW: 8,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 11,\r\n          h: 7,\r\n          x: 0,\r\n          y: 5,\r\n          i: \"topthreats-risk-analysis-dashboard-0\",\r\n          minW: 6,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 6,\r\n          h: 5,\r\n          x: 0,\r\n          y: 0,\r\n          i: \"compliance-home-0\",\r\n          minW: 3,\r\n          maxW: 10,\r\n          minH: 4,\r\n          maxH: 10,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 10,\r\n          h: 5,\r\n          x: 6,\r\n          y: 0,\r\n          i: \"alerts-home-0\",\r\n          minW: 5,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: \"risk-analysis-dashboard\",\r\n      isActive: true,\r\n      name: \"Risk Analysis\",\r\n      owner: \"Stuart Smith\",\r\n      hasAccess: true,\r\n      layout: [\r\n        {\r\n          w: 16,\r\n          h: 8,\r\n          x: 0,\r\n          y: 0,\r\n          i: \"topthreats-risk-analysis-dashboard-0\",\r\n          minW: 6,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 12,\r\n          h: 4,\r\n          x: 4,\r\n          y: 8,\r\n          i: \"highriskassets-risk-analysis-dashboard-0\",\r\n          minW: 8,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 4,\r\n          h: 4,\r\n          x: 0,\r\n          y: 8,\r\n          i: \"regcomp-risk-analysis-dashboard-0\",\r\n          minW: 4,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nexport const dashboardSlice = createSlice({\r\n  name: \"dashboard\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action: PayloadAction<{ newDashboard: Dashboard }>) => {\r\n      state.dashboards = [...state.dashboards, action.payload.newDashboard];\r\n    },\r\n    remove: (state, action: PayloadAction<{ id: string }>) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) state.dashboards.splice(index, 1);\r\n    },\r\n    update: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newDashboard: Dashboard }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) state.dashboards[index] = action.payload.newDashboard;\r\n    },\r\n    updateDashboardLayout: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newLayout: Layout[] }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) state.dashboards[index].layout = action.payload.newLayout;\r\n    },\r\n\r\n    dropLayout: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newLayout: Layout[] }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) {\r\n        // const newLayout = [\r\n        // \t...state.dashboards[index].layout,\r\n        // \taction.payload.newLayoutItem,\r\n        // ].sort((a, b) => {\r\n        // \tif (a.y < b.y) return -1;\r\n        // \tif (a.y > b.y) return 1;\r\n        // \tif (a.y === b.y) {\r\n        // \t\tif (a.x < b.x) return -1;\r\n        // \t\tif (a.x > b.x) return 1;\r\n        // \t}\r\n        // \treturn 0;\r\n        // });\r\n        // state.dashboards[index].layout = newLayout;\r\n        // const newLayout = [\r\n        // \t...state.dashboards[index].layout,\r\n        // \taction.payload.newLayoutItem,\r\n        // ];\r\n        // console.log(newLayout);\r\n        state.dashboards[index].layout = action.payload.newLayout;\r\n      }\r\n    },\r\n\r\n    removeWidget: (\r\n      state,\r\n      action: PayloadAction<{ dashboardId: string; widgetId: string }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.dashboardId\r\n      );\r\n      if (index > -1) {\r\n        const widgetIndex = state.dashboards[index].layout.findIndex(\r\n          (wid) => wid.i === action.payload.widgetId\r\n        );\r\n        if (widgetIndex > -1)\r\n          state.dashboards[index].layout.splice(widgetIndex, 1);\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  add,\r\n  remove,\r\n  update,\r\n  updateDashboardLayout,\r\n  dropLayout,\r\n  removeWidget,\r\n} = dashboardSlice.actions;\r\n\r\nexport const selectDashboardSlice = (state: RootState) => state.dashboard;\r\nexport const selectDashboards = (state: RootState) =>\r\n  state.dashboard.dashboards;\r\n\r\nexport const selectDashboardById = (id: string) =>\r\n  createSelector(selectDashboardSlice, (dashboard) =>\r\n    dashboard.dashboards.find((dash) => dash.id === id)\r\n  );\r\n\r\nexport default dashboardSlice.reducer;\r\n","import { format } from \"date-fns\";\r\nimport { Alert, Control } from \"../redux/frameworkSlice\";\r\n\r\nexport const ISOAlerts: Alert[] = [\r\n  {\r\n    title: \"Control 13.1.3\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> An unauthorized device has connected\r\n        to, or has attempted to connect to, the segregated OT ICS network in\r\n        violation of ISO27001 Control 13.1.3\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.10.1.2\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All cryptographic keys are fully stored and\r\n        backed up. ISO27001 Control A.10.1.2 is no longer in violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.18.1.3\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> Certain data records are vulnerable to\r\n        physical damage, violating ISO270001 Control A.18.1.3\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.14.1.2\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All systems connected to public networks are\r\n        now appropriately secured. ISO27001 Control A.14.1.2 is no longer in\r\n        violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.11.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All sensitive areas are now appropriately\r\n        secured. ISO27001 Control A.11.1.1 is no longer in violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.11.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> Some systems have not been reviewed\r\n        after a platform change, violating ISO27001 Control A.14.2.3\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.7.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> Employees without appropriate\r\n        screening have access to sensitive information, placing them in\r\n        violation of ISO27001 Control A.7.1.1\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n];\r\n\r\nexport const ISOControls: Control[] = [\r\n  {\r\n    id: \"A.13.1.1\",\r\n    isActive: true,\r\n    description: \"Network Control\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.13.1.2\",\r\n    isActive: true,\r\n    description: \"Security of Network Service\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.13.1.3\",\r\n    isActive: true,\r\n    description: \"Segregation in Network\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.13.2.1\",\r\n    isActive: true,\r\n    description: \"Information Transfer Policies & Procedure\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.13.2.2\",\r\n    isActive: true,\r\n    description: \"Agreements on Information Transfe\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.13.2.3\",\r\n    isActive: true,\r\n    description: \"Electronic Messagin\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.13.2.4\",\r\n    isActive: true,\r\n    description: \"Confidentiality or Non-Disclosure Agreement\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.14.1.1\",\r\n    isActive: true,\r\n    description: \"Information Security Requirements Analysis & Specificatio\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.14.1.2\",\r\n    isActive: true,\r\n    description: \"Securing Application Services on Public Network\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.14.1.3\",\r\n    isActive: true,\r\n    description: \"Protecting Application Services Transaction\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.14.2.1\",\r\n    isActive: true,\r\n    description: \"Secure Development Polic\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.14.2.2\",\r\n    isActive: true,\r\n    description: \"System Change Control Procedure\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.14.2.3\",\r\n    isActive: true,\r\n    description:\r\n      \"Technical Review of Applications After Operating Platform Change\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.14.2.4\",\r\n    isActive: true,\r\n    description: \"Restrictions on Changes to Software Package\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.14.2.5\",\r\n    isActive: true,\r\n    description: \"Secure System Engineering Principle\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.14.2.6\",\r\n    isActive: true,\r\n    description: \"Secure Development Environmen\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.14.2.7\",\r\n    isActive: true,\r\n    description: \"Outsourced Developmen\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.14.2.8\",\r\n    isActive: true,\r\n    description: \"System Security Testin\",\r\n    severity: \"medium\",\r\n  },\r\n  {\r\n    id: \"A.14.2.9\",\r\n    isActive: true,\r\n    description: \"System Acceptance Testin\",\r\n    severity: \"low\",\r\n  },\r\n  {\r\n    id: \"A.14.3.1\",\r\n    isActive: true,\r\n    description: \"Protection of Test Dat\",\r\n    severity: \"medium\",\r\n  },\r\n];\r\n","import { format } from \"date-fns\";\r\nimport { Alert, Control } from \"../redux/frameworkSlice\";\r\n\r\nexport const NISTAlerts: Alert[] = [\r\n  {\r\n    title: \"Control 5.2.2\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> A user ID has failed to enter the\r\n        correct password in the required number of attempts and is in violation\r\n        of NIST Control 5.2.2\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control 9.1\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All systems have passed Privacy Risk\r\n        Assessments. NIST Control 9.1 is no longer in violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n];\r\n\r\nexport const NISTControls: Control[] = [\r\n  {\r\n    id: \"5.1\",\r\n    isActive: true,\r\n    description: \"Requirements by Authenticator Typ\",\r\n    severity: \"medium\",\r\n    nestedControls: [\r\n      {\r\n        id: \"5.1.1\",\r\n        isActive: true,\r\n        description: \"Memorized Secret\",\r\n        severity: \"low\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.1.1\",\r\n            isActive: true,\r\n            description: \"Memorized Secret Authenticator\",\r\n            severity: \"medium\",\r\n          },\r\n          {\r\n            id: \"5.1.1.2\",\r\n            isActive: true,\r\n            description: \"Memorized Secret Verifier\",\r\n            severity: \"low\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.2\",\r\n        isActive: true,\r\n        description: \"Look-Up Secret\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.2.1\",\r\n            isActive: true,\r\n            description: \"Look-Up Secret Authenticator\",\r\n            severity: \"medium\",\r\n          },\r\n          {\r\n            id: \"5.1.2.2\",\r\n            isActive: true,\r\n            description: \"Look-Up Secret Verifier\",\r\n            severity: \"medium\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.3\",\r\n        isActive: true,\r\n        description: \"Out-of-Band Device\",\r\n        severity: \"high\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.3.1\",\r\n            isActive: true,\r\n            description: \"Out-of-Band Authenticator\",\r\n            severity: \"medium\",\r\n          },\r\n          {\r\n            id: \"5.1.3.2\",\r\n            isActive: true,\r\n            description: \"Out-of-Band Verifier\",\r\n            severity: \"medium\",\r\n          },\r\n          {\r\n            id: \"5.1.3.3\",\r\n            isActive: true,\r\n            description:\r\n              \"Authentication using the Public Switched Telephone Networ\",\r\n            severity: \"medium\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.4\",\r\n        isActive: true,\r\n        description: \"Single-Factor OTP Devic\",\r\n        severity: \"high\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.4.1\",\r\n            isActive: true,\r\n            description: \"Single-Factor OTP Authenticator\",\r\n            severity: \"medium\",\r\n          },\r\n          {\r\n            id: \"5.1.4.2\",\r\n            isActive: true,\r\n            description: \"Single-Factor OTP Verifier\",\r\n            severity: \"medium\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.5\",\r\n        isActive: true,\r\n        description: \"Multi-Factor OTP Device\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.5.1\",\r\n            isActive: true,\r\n            description: \"Multi-Factor OTP Authenticator\",\r\n            severity: \"medium\",\r\n          },\r\n          {\r\n            id: \"5.1.5.2\",\r\n            isActive: true,\r\n            description: \"Multi-Factor OTP Verifier\",\r\n            severity: \"low\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.6\",\r\n        isActive: true,\r\n        description: \"Single-Factor Cryptographic Softwar\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.6.1\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Software Authenticator\",\r\n            severity: \"medium\",\r\n          },\r\n          {\r\n            id: \"5.1.6.2\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Software Verifier\",\r\n            severity: \"medium\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.7\",\r\n        isActive: true,\r\n        description: \"Single-Factor Cryptographic Device\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.7.1\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Device Authenticator\",\r\n            severity: \"high\",\r\n          },\r\n          {\r\n            id: \"5.1.7.2\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Device Verifier\",\r\n            severity: \"medium\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.8\",\r\n        isActive: true,\r\n        description: \"Multi-Factor Cryptographic Softwar\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.8.1\",\r\n            isActive: true,\r\n            description: \"Multi-Factor Cryptographic Software Authenticator\",\r\n            severity: \"high\",\r\n          },\r\n          {\r\n            id: \"5.1.8.2\",\r\n            isActive: true,\r\n            description: \"Multi-Factor Cryptographic Software Verifier\",\r\n            severity: \"medium\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.9\",\r\n        isActive: true,\r\n        description: \"Multi-Factor Cryptographic Device\",\r\n        severity: \"low\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.9.1\",\r\n            isActive: true,\r\n            description: \"Multi-Factor Cryptographic Device Authenticator\",\r\n            severity: \"low\",\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { ISOAlerts, ISOControls } from \"../data/ISOData\";\r\nimport { NISTAlerts, NISTControls } from \"../data/NISTData\";\r\nimport { PCIAlerts, PCIControls } from \"../data/PCIData\";\r\nimport { RootState } from \"./store\";\r\n\r\nexport interface Alert {\r\n  title: string;\r\n  child: JSX.Element;\r\n  timestamp: string;\r\n  severity: \"error\" | \"info\" | \"success\" | \"warning\";\r\n  dismissalMessageChild?: JSX.Element;\r\n}\r\n\r\nexport interface DataItem {\r\n  name: string;\r\n  type: \"checkbox\" | \"number\";\r\n  value: boolean | number;\r\n}\r\n\r\nexport interface Control {\r\n  id: string;\r\n  isActive: boolean;\r\n  description: string;\r\n  severity: \"low\" | \"medium\" | \"high\";\r\n  requiredDocuments?: RequiredDocument[];\r\n  requiredProcesses?: RequiredProcess[];\r\n  nestedControls?: Control[];\r\n  dataItems?: DataItem[];\r\n  compliance?: number;\r\n}\r\n\r\nexport interface RequiredDocument {\r\n  name: string;\r\n  document?: Document;\r\n}\r\n\r\nexport interface Document {\r\n  id: string;\r\n  name: string;\r\n  dateUploaded: string;\r\n  link: string;\r\n  status: \"in-effect\" | \"needs-review\" | \"out-of-date\";\r\n}\r\n\r\nexport interface RequiredProcess {\r\n  name: string;\r\n  description?: string;\r\n  link?: string;\r\n  process?: Process;\r\n}\r\n\r\nexport interface Process {\r\n  id: string;\r\n  name: string;\r\n  dateUploaded: string;\r\n  link: string;\r\n  status: \"in-effect\" | \"needs-review\" | \"out-of-date\";\r\n}\r\n\r\nexport interface AvailableFramework {\r\n  id: string;\r\n  name: string;\r\n  link: string;\r\n}\r\n\r\nexport interface Framework {\r\n  id: string;\r\n  name: string;\r\n  dateAdopted: string;\r\n  alerts: Alert[];\r\n  controls: Control[];\r\n}\r\n\r\nexport interface FrameworkState {\r\n  frameworks: Framework[];\r\n}\r\n\r\nconst initialState: FrameworkState = {\r\n  frameworks: [\r\n    {\r\n      id: \"pci-framework-id\",\r\n      name: \"PCI\",\r\n      dateAdopted: \"111111111\",\r\n      alerts: PCIAlerts,\r\n      controls: PCIControls,\r\n    },\r\n    {\r\n      id: \"iso27001-framework-id\",\r\n      name: \"ISO27001\",\r\n      dateAdopted: \"111111111\",\r\n      alerts: ISOAlerts,\r\n      controls: ISOControls,\r\n    },\r\n    {\r\n      id: \"nist-framework-id\",\r\n      name: \"NIST\",\r\n      dateAdopted: \"111111111\",\r\n      alerts: NISTAlerts,\r\n      controls: NISTControls,\r\n    },\r\n  ],\r\n};\r\n\r\nexport const frameworkSlice = createSlice({\r\n  name: \"framework\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action: PayloadAction<{ newFramework: Framework }>) => {\r\n      state.frameworks = [...state.frameworks, action.payload.newFramework];\r\n    },\r\n    remove: (state, action: PayloadAction<{ id: string }>) => {\r\n      const index = state.frameworks.findIndex(\r\n        (frame) => frame.id === action.payload.id\r\n      );\r\n      if (index > -1) state.frameworks.splice(index, 1);\r\n    },\r\n    updateControl: (\r\n      state,\r\n      action: PayloadAction<{\r\n        frameworkId: string;\r\n        controlId: string;\r\n        newControl: Control;\r\n      }>\r\n    ) => {\r\n      const index = state.frameworks.findIndex(\r\n        (frame) => frame.id === action.payload.frameworkId\r\n      );\r\n\r\n      if (index > -1 && state.frameworks[index]) {\r\n        const replaceControl = (control: Control): Control => {\r\n          if (control.id === action.payload.controlId)\r\n            return action.payload.newControl;\r\n\r\n          const result: Control =\r\n            control.nestedControls !== undefined\r\n              ? {\r\n                  ...control,\r\n                  nestedControls: control.nestedControls.map((item) =>\r\n                    replaceControl(item)\r\n                  ),\r\n                }\r\n              : control;\r\n\r\n          return result;\r\n        };\r\n\r\n        for (let i = 0; i < state.frameworks[index].controls.length; i++) {\r\n          state.frameworks[index].controls[i] = replaceControl(\r\n            state.frameworks[index].controls[i]\r\n          );\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { add, remove, updateControl } = frameworkSlice.actions;\r\n\r\nexport const selectFrameworkSlice = (state: RootState) => state.framework;\r\nexport const selectFrameworks = (state: RootState) =>\r\n  state.framework.frameworks;\r\n\r\nexport const selectFrameworkById = (id: string) =>\r\n  createSelector(selectFrameworks, (frameworks) =>\r\n    frameworks.find((frame) => frame.id === id)\r\n  );\r\n\r\nexport default frameworkSlice.reducer;\r\n\r\n// ------------- HELPER FUNCTIONS --------------\r\n\r\nexport function countActiveControls(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countActiveControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countActiveControlsHelper(control: Control): number {\r\n  if (control.nestedControls === undefined) return control.isActive ? 1 : 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countActiveControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countAllControls(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countAllControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countAllControlsHelper(control: Control): number {\r\n  if (control.nestedControls === undefined) return 1;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countAllControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countActiveControlDocuments(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countActiveControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countActiveControlDocumentsHelper(control: Control): number {\r\n  if (control.requiredDocuments !== undefined)\r\n    return control.requiredDocuments.length;\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countActiveControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countValidControlDocuments(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countValidControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countValidControlDocumentsHelper(control: Control): number {\r\n  if (control.requiredDocuments !== undefined) {\r\n    let result = 0;\r\n    for (let i = 0; i < control.requiredDocuments.length; i++) {\r\n      const element = control.requiredDocuments[i];\r\n      if (element.document !== undefined) result += 1;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countValidControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countActiveControlProcesses(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countActiveControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countActiveControlProcessesHelper(control: Control): number {\r\n  if (control.requiredProcesses !== undefined)\r\n    return control.requiredProcesses.length;\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countActiveControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countValidControlProcesses(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countValidControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countValidControlProcessesHelper(control: Control): number {\r\n  if (control.requiredProcesses !== undefined) {\r\n    let result = 0;\r\n    for (let i = 0; i < control.requiredProcesses.length; i++) {\r\n      const element = control.requiredProcesses[i];\r\n      if (element.process !== undefined) result += 1;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countValidControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getControlsCompliance(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += getControlsComplianceHelper(element);\r\n  }\r\n  return result / controls.length;\r\n}\r\nfunction getControlsComplianceHelper(control: Control): number {\r\n  if (control.compliance !== undefined) {\r\n    return control.compliance;\r\n  }\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += getControlsComplianceHelper(element);\r\n  }\r\n  return result / control.nestedControls.length;\r\n}\r\n\r\nexport function countCompliantControls(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countCompliantControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countCompliantControlsHelper(control: Control): number {\r\n  if (control.compliance !== undefined) return control.compliance === 1 ? 1 : 0;\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countCompliantControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n","import { format } from \"date-fns\";\r\nimport { Alert, Control } from \"../redux/frameworkSlice\";\r\n\r\nexport const PCIAlerts: Alert[] = [\r\n  {\r\n    title: \"Control 4.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> A PCI transaction contains unencrypted\r\n        data and is in violation of PCI Control 4.1.1\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control 5.2\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> 4 systems currently do not have\r\n        functioning antivirus and are in violation of PCI Control 5.2\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control 6.5.1\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> A data server is vulnerable to SQL\r\n        injection attacks, and is in violation of PCI Control 6.5.1\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n];\r\n\r\nexport const PCIControls: Control[] = [\r\n  {\r\n    id: \"1.1\",\r\n    isActive: true,\r\n    description:\r\n      \"Establish and implement firewall and router configuration standards that include the following:\",\r\n    severity: \"low\",\r\n    nestedControls: [\r\n      {\r\n        id: \"1.1.1\",\r\n        isActive: false,\r\n        description:\r\n          \"A formal process for approving and testing all network connections and changes to the firewall and router configuration\",\r\n        severity: \"high\",\r\n        requiredProcesses: [\r\n          {\r\n            name: \"An inventory of authorized wireless access points with listed business justifications (11.1.1)\",\r\n            process: {\r\n              id: \"doc-1.1.1-a\",\r\n              name: \"doc-1.1.1-a\",\r\n              dateUploaded: format(new Date(), \"T\"),\r\n              link: \"https://s2.q4cdn.com/175719177/files/doc_presentations/Placeholder-PDF.pdf\",\r\n              status: \"needs-review\",\r\n            },\r\n          },\r\n          {\r\n            name: \"Have a process in place to keep up to date with the latest identified security vulnerabilities and their threat level. (6.1, 6.5.6)\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"1.1.2\",\r\n        isActive: false,\r\n        description:\r\n          \"Current network diagram that identifies all connections between the cardholder data environment and other networks, including any wireless network\",\r\n        severity: \"medium\",\r\n        compliance: Math.random(),\r\n      },\r\n      {\r\n        id: \"1.1.3\",\r\n        isActive: false,\r\n        description:\r\n          \"Current diagram that shows all cardholder data flows across systems and network\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.1.4\",\r\n        isActive: false,\r\n        description:\r\n          \"Requirements for a firewall at each Internet connection and between any demilitarized zone (DMZ) and the internal network zon\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.1.5\",\r\n        isActive: false,\r\n        description:\r\n          \"Description of groups, roles, and responsibilities for management of network component\",\r\n        severity: \"high\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.1.6\",\r\n        isActive: false,\r\n        description:\r\n          \"Documentation of business justification and approval for use of all services, protocols, and ports allowed, including documentation of security features implemented for those protocols considered to be insecure\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n        requiredDocuments: [\r\n          {\r\n            name: \"Documented business justification for each port or protocol allowed through the firewall (1.1.6a)\",\r\n            document: {\r\n              id: \"doc-1.1.6-a\",\r\n              name: \"doc-1.1.6-a\",\r\n              dateUploaded: format(new Date(), \"T\"),\r\n              link: \"https://s2.q4cdn.com/175719177/files/doc_presentations/Placeholder-PDF.pdf\",\r\n              status: \"in-effect\",\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"1.1.7\",\r\n        isActive: false,\r\n        description:\r\n          \"Requirement to review firewall and router rule sets at least every six month\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"1.2\",\r\n    isActive: true,\r\n    description:\r\n      \"Build firewall and router configurations that restrict connections between untrusted networks and any system components in the cardholder data environment\",\r\n    severity: \"medium\",\r\n    nestedControls: [\r\n      {\r\n        id: \"1.2.1\",\r\n        isActive: false,\r\n        description:\r\n          \"Restrict inbound and outbound traffic to that which is necessary for the cardholder data environment, and specifically deny all other traffic\",\r\n        severity: \"medium\",\r\n        compliance: Math.random(),\r\n      },\r\n      {\r\n        id: \"1.2.2\",\r\n        isActive: false,\r\n        description: \"Secure and synchronize router configuration files\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.2.3\",\r\n        isActive: false,\r\n        description:\r\n          \"Install perimeter firewalls between all wireless networks and the cardholder data environment, and configure these firewalls to deny or, if traffic is necessary for business purposes, permit only authorized traffic between the wireless environment and the cardholder data environment\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"1.3\",\r\n    isActive: true,\r\n    description:\r\n      \"Prohibit direct public access between the Internet and any system component in the cardholder data environment\",\r\n    severity: \"low\",\r\n    nestedControls: [\r\n      {\r\n        id: \"1.3.1\",\r\n        isActive: false,\r\n        description:\r\n          \"Implement a DMZ to limit inbound traffic to only system components that provide authorized publicly accessible services, protocols, and ports\",\r\n        severity: \"medium\",\r\n        compliance: Math.random(),\r\n      },\r\n      {\r\n        id: \"1.3.2\",\r\n        isActive: false,\r\n        description:\r\n          \"Limit inbound Internet traffic to IP addresses within the DMZ\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.3\",\r\n        isActive: false,\r\n        description:\r\n          \"Implement anti-spoofing measures to detect and block forged source IP addresses from entering the network\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.4\",\r\n        isActive: false,\r\n        description:\r\n          \"Do not allow unauthorized outbound traffic from the cardholder data environment to the Internet\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.5\",\r\n        isActive: false,\r\n        description: \"Permit only established connections into the network\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.6\",\r\n        isActive: false,\r\n        description:\r\n          \"Place system components that store cardholder data (such as a database) in an internal network zone, segregated from the DMZ and other untrusted networks\",\r\n        severity: \"low\",\r\n        compliance: Math.random(),\r\n      },\r\n      {\r\n        id: \"1.3.7\",\r\n        isActive: false,\r\n        description:\r\n          \"Do not disclose private IP addresses and routing information to unauthorized parties\",\r\n        severity: \"low\",\r\n        compliance: Math.random(),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"1.4\",\r\n    isActive: false,\r\n    description:\r\n      \"Install personal firewall software or equivalent functionality on any portable computing devices (including company and/or employee-owned) that connect to the Internet when outside the network (for example, laptops used by employees), and which are also used to access the CDE\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"1.5\",\r\n    isActive: false,\r\n    description:\r\n      \"Ensure that security policies and operational procedures for managing firewalls are documented, in use, and known to all affected parties\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n];\r\n","import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { format } from \"date-fns\";\r\nimport { v4 } from \"uuid\";\r\nimport { RootState } from \"./store\";\r\n\r\nexport interface StixObject {}\r\n\r\nexport interface AvailableThreatFeed {\r\n  id: string;\r\n  isActive: boolean;\r\n  name: string;\r\n  url: string;\r\n}\r\n\r\nexport interface ThreatFeed {\r\n  id: string;\r\n  isActive: boolean;\r\n  name: string;\r\n  username: string;\r\n  password: string;\r\n  token: string;\r\n  url: string;\r\n  lastSyncTimestamp: string;\r\n  pollInterval: string;\r\n}\r\n\r\nexport interface ThreatFeedState {\r\n  availableThreatFeeds: AvailableThreatFeed[];\r\n  threatFeeds: ThreatFeed[];\r\n}\r\n\r\nconst initialState: ThreatFeedState = {\r\n  availableThreatFeeds: [\r\n    {\r\n      id: \"available-threat-feed-a\",\r\n      isActive: false,\r\n      name: \"feed A\",\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n    },\r\n    {\r\n      id: \"available-threat-feed-b\",\r\n      isActive: false,\r\n      name: \"feed B\",\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n    },\r\n    {\r\n      id: \"available-threat-feed-c\",\r\n      isActive: false,\r\n      name: \"feed C\",\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n    },\r\n    {\r\n      id: \"available-threat-feed-d\",\r\n      isActive: false,\r\n      name: \"feed D\",\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n    },\r\n    {\r\n      id: \"available-threat-feed-e\",\r\n      isActive: false,\r\n      name: \"feed E\",\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n    },\r\n  ],\r\n  threatFeeds: [\r\n    {\r\n      id: \"threat-feed-a\",\r\n      isActive: false,\r\n      name: \"feed A\",\r\n      username: \"userA\",\r\n      password: \"userApass\",\r\n      token: v4(),\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n      lastSyncTimestamp: format(new Date(), \"T\"),\r\n      pollInterval: \"1 hour\",\r\n    },\r\n    {\r\n      id: \"threat-feed-b\",\r\n      isActive: false,\r\n      name: \"feed B\",\r\n      username: \"userB\",\r\n      password: \"userApass\",\r\n      token: v4(),\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n      lastSyncTimestamp: format(new Date(), \"T\"),\r\n      pollInterval: \"3 days\",\r\n    },\r\n    {\r\n      id: \"threat-feed-c\",\r\n      isActive: false,\r\n      name: \"feed C\",\r\n      username: \"userC\",\r\n      password: \"userApass\",\r\n      token: v4(),\r\n      url: \"http://api.plos.org/search?q=title:DNA\",\r\n      lastSyncTimestamp: format(new Date(), \"T\"),\r\n      pollInterval: \"1 day\",\r\n    },\r\n  ],\r\n};\r\n\r\nexport const threatFeedSlice = createSlice({\r\n  name: \"threatFeed\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action: PayloadAction<{ newThreatFeed: ThreatFeed }>) => {\r\n      state.threatFeeds = [...state.threatFeeds, action.payload.newThreatFeed];\r\n    },\r\n    remove: (state, action: PayloadAction<{ id: string }>) => {\r\n      const index = state.threatFeeds.findIndex(\r\n        (threatFeed) => threatFeed.id === action.payload.id\r\n      );\r\n      if (index > -1) state.threatFeeds.splice(index, 1);\r\n    },\r\n    update: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newThreatFeed: ThreatFeed }>\r\n    ) => {\r\n      const index = state.threatFeeds.findIndex(\r\n        (threatFeed) => threatFeed.id === action.payload.id\r\n      );\r\n      if (index > -1) state.threatFeeds[index] = action.payload.newThreatFeed;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { add, remove, update } = threatFeedSlice.actions;\r\n\r\nexport const selectThreatFeedSlice = (state: RootState) => state.threatFeed;\r\nexport const selectThreatFeeds = (state: RootState) =>\r\n  state.threatFeed.threatFeeds;\r\nexport const selectAvailableThreatFeeds = (state: RootState) =>\r\n  state.threatFeed.availableThreatFeeds;\r\n\r\nexport const selectThreatFeedById = (id: string) =>\r\n  createSelector(selectThreatFeedSlice, (threatFeed) =>\r\n    threatFeed.threatFeeds.find((threatFeed) => threatFeed.id === id)\r\n  );\r\n\r\nexport default threatFeedSlice.reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { dashboardSlice } from \"./dashboardSlice\";\r\nimport { frameworkSlice } from \"./frameworkSlice\";\r\nimport { threatFeedSlice } from \"./threatFeedSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    dashboard: dashboardSlice.reducer,\r\n    framework: frameworkSlice.reducer,\r\n    threatFeed: threatFeedSlice.reducer,\r\n  },\r\n  devTools: true,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import { createContext, useState } from \"react\";\r\nimport { WidgetIdType } from \"../redux/widgetSlice\";\r\n\r\nexport const AppContext = createContext<AppContextType>({\r\n  state: { type: null },\r\n  setType: () => {},\r\n  clearType: () => {},\r\n});\r\n\r\nexport type stateType = {\r\n  type: WidgetIdType;\r\n};\r\n\r\nexport type AppContextType = {\r\n  state: stateType;\r\n  setType: (type: WidgetIdType) => void;\r\n  clearType: () => void;\r\n};\r\n\r\nfunction AppProvider({ children }: { children: any }) {\r\n  const [state, setState] = useState<stateType>({\r\n    type: null,\r\n  });\r\n\r\n  const setType = (type: WidgetIdType) => {\r\n    setState((prev) => ({ ...prev, type: type }));\r\n  };\r\n\r\n  const clearType = () => {\r\n    setState((prev) => ({ ...prev, type: null }));\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        state,\r\n        setType,\r\n        clearType,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport default AppProvider;\r\n","export default __webpack_public_path__ + \"static/media/logo-12.2ee0e9bc.svg\";","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState, AppDispatch } from \"./store\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { useAppSelector } from \"../../redux/hooks\";\r\nimport { selectDashboards } from \"../../redux/dashboardSlice\";\r\nimport { selectFrameworks } from \"../../redux/frameworkSlice\";\r\n\r\nexport type drawerItemType = {\r\n  title: string;\r\n  link?: string;\r\n  icon?: string;\r\n  isNested?: boolean;\r\n  nestedListItems?: drawerItemType[];\r\n};\r\n\r\nexport function useDrawerItems(): drawerItemType[] {\r\n  return [\r\n    useDashboardItems(),\r\n    useFrameworkItems(),\r\n    {\r\n      title: \"Threat Intelligence Feeds\",\r\n      icon: \"wifi_tethering_error_rounded\",\r\n      isNested: true,\r\n      nestedListItems: [{ title: \"Overview\" }, { title: \"STIX/TAXII\" }],\r\n    },\r\n    {\r\n      title: \"AI/ML\",\r\n      icon: \"memory\",\r\n      isNested: true,\r\n      nestedListItems: [\r\n        { title: \"Overview\" },\r\n        { title: \"AI Feeds\" },\r\n        { title: \"ML Feeds\" },\r\n      ],\r\n    },\r\n    {\r\n      title: \"GIS\",\r\n      icon: \"place\",\r\n      isNested: true,\r\n      nestedListItems: [\r\n        { title: \"Global\" },\r\n        { title: \"Calgary International Airport\" },\r\n      ],\r\n    },\r\n    {\r\n      title: \"APIs\",\r\n      icon: \"power\",\r\n      isNested: true,\r\n      nestedListItems: [\r\n        { title: \"My API\" },\r\n        { title: \"API2\" },\r\n        { title: \"HVAC Sensors\" },\r\n      ],\r\n    },\r\n    {\r\n      title: \"Admin\",\r\n      isNested: true,\r\n      nestedListItems: [\r\n        useTuneItem(\"Users\", \"/admin/users\"),\r\n        useTuneItem(\"Frameworks\", \"/admin/framework\"),\r\n        useTuneItem(\"Manage Threat Feeds\", \"/admin/threatfeed\"),\r\n        useTuneItem(\"APIs\", \"/admin/api\"),\r\n      ],\r\n    },\r\n  ];\r\n}\r\n\r\nexport function useDashboardItems() {\r\n  const dashboards = useAppSelector(selectDashboards);\r\n\r\n  const nestedListItems = dashboards\r\n    .filter((dash) => dash.isActive)\r\n    .map((dash) => ({\r\n      title: dash.name,\r\n      link: `/dashboard/${dash.id}`,\r\n      icon: dash.name.toLowerCase() === \"home\" ? \"home\" : undefined,\r\n    }));\r\n\r\n  return {\r\n    title: \"Dashboards\",\r\n    icon: \"dashboard\",\r\n    isNested: true,\r\n    nestedListItems: [...nestedListItems],\r\n  };\r\n}\r\n// OVERDUE\r\nexport function useFrameworkItems() {\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n\r\n  const nestedListItems = frameworks.map((frame) => ({\r\n    title: frame.name,\r\n    link: `/framework/${frame.id}`,\r\n  }));\r\n\r\n  return {\r\n    title: \"Frameworks\",\r\n    icon: \"device_hub\",\r\n    isNested: true,\r\n    nestedListItems: [...nestedListItems],\r\n  };\r\n}\r\n\r\n// function useOverviewItem(link: string) {\r\n//   return {\r\n//     title: \"Overview\",\r\n//     link,\r\n//   };\r\n// }\r\n\r\nfunction useTuneItem(title: string, link: string) {\r\n  return {\r\n    title,\r\n    link,\r\n    icon: \"tune\",\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\nimport { default as MuiDrawer } from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { Collapse, Icon } from \"@material-ui/core\";\r\nimport { ExpandMore } from \"@material-ui/icons\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { drawerItemType, useDrawerItems } from \"./DrawerData\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    drawer: ({ drawerWidth }: { drawerWidth?: number }) => ({\r\n      width: drawerWidth || 300,\r\n      flexShrink: 0,\r\n    }),\r\n    drawerPaper: ({ drawerWidth }: { drawerWidth?: number }) => ({\r\n      width: drawerWidth || 300,\r\n    }),\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-end\",\r\n    },\r\n    drawerContainer: {\r\n      overflow: \"auto\",\r\n    },\r\n    drawerItemIcon: {\r\n      color: theme.palette.text.secondary,\r\n      transition: theme.transitions.create(\"transform\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    drawerItemIconRotated: {\r\n      transform: \"rotate(180deg)\",\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(2),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Drawer({\r\n  drawerWidth,\r\n  open,\r\n}: {\r\n  drawerWidth: number;\r\n  open: boolean;\r\n}) {\r\n  const classes = useStyles({ drawerWidth: drawerWidth });\r\n\r\n  const drawerItems = useDrawerItems();\r\n\r\n  return (\r\n    <MuiDrawer\r\n      className={classes.drawer}\r\n      variant=\"persistent\"\r\n      anchor=\"left\"\r\n      open={open}\r\n      classes={{\r\n        paper: classes.drawerPaper,\r\n      }}\r\n    >\r\n      <div className={classes.drawerHeader} />\r\n      <div className={classes.drawerContainer}>\r\n        <List>\r\n          {drawerItems.map((item, index) => (\r\n            <DrawerItem key={`drawer-item-${item.title}`} item={item} />\r\n          ))}\r\n        </List>\r\n      </div>\r\n    </MuiDrawer>\r\n  );\r\n}\r\n\r\nfunction DrawerItem({\r\n  item,\r\n  useDivider = true,\r\n}: {\r\n  item: drawerItemType;\r\n  useDivider?: boolean;\r\n}) {\r\n  const classes = useStyles({});\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [open, setOpen] = React.useState(\r\n    item.isNested &&\r\n      recursivelySearchDrawerListItem(item, (i) => {\r\n        return i.link !== undefined && location.pathname.includes(i.link);\r\n      })\r\n  );\r\n\r\n  const goToLink = () => {\r\n    history.push(item.link || \"\");\r\n  };\r\n\r\n  const toggleOpen = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (item.isNested) toggleOpen();\r\n    if (item.link) goToLink();\r\n  };\r\n\r\n  const selected =\r\n    (item.isNested &&\r\n      recursivelySearchDrawerListItem(item, (i) => {\r\n        return i.link !== undefined && location.pathname.includes(i.link);\r\n      })) ||\r\n    (item.link !== undefined && location.pathname.includes(item.link));\r\n\r\n  return (\r\n    <div>\r\n      <ListItem button onClick={handleClick} selected={selected}>\r\n        <ListItemIcon>\r\n          <Icon\r\n          // style={{ color: selected ? \"white\" : undefined }}\r\n          >\r\n            {item.icon !== \"tune\" && item.icon}\r\n          </Icon>\r\n        </ListItemIcon>\r\n        <ListItemText primary={item.title} />\r\n        {item.isNested && item.nestedListItems && (\r\n          <ExpandMore\r\n            className={`${classes.drawerItemIcon} ${\r\n              open && classes.drawerItemIconRotated\r\n            }`}\r\n            // style={{ color: selected ? \"white\" : undefined }}\r\n          />\r\n        )}\r\n        {item.icon === \"tune\" && (\r\n          <Icon\r\n            className={classes.drawerItemIcon}\r\n            // style={{ color: selected ? \"white\" : undefined }}\r\n          >\r\n            {item.icon}\r\n          </Icon>\r\n        )}\r\n      </ListItem>\r\n\r\n      {item.isNested && item.nestedListItems && (\r\n        <Collapse className={classes.nested} in={open} timeout=\"auto\">\r\n          <List component=\"div\" disablePadding>\r\n            {item.nestedListItems.map((nestedItem) => (\r\n              <DrawerItem\r\n                key={`drawer-item-${nestedItem.title}`}\r\n                item={nestedItem}\r\n                useDivider={false}\r\n              />\r\n            ))}\r\n          </List>\r\n        </Collapse>\r\n      )}\r\n\r\n      {useDivider && <Divider />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction recursivelySearchDrawerListItem(\r\n  item: drawerItemType,\r\n  predicate: (item: drawerItemType) => boolean\r\n) {\r\n  for (const i of item.nestedListItems || []) {\r\n    if (predicate(i)) return true;\r\n    recursivelySearchDrawerListItem(i, predicate);\r\n  }\r\n  return false;\r\n}\r\n","import { Button, ButtonGroup } from \"@material-ui/core\";\r\nimport { Cancel, Edit, MoreVert, Save } from \"@material-ui/icons\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { selectDashboardById } from \"../../../redux/dashboardSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\n\r\nexport default function DashboardActions() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[2];\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <ButtonGroup\r\n      variant=\"outlined\"\r\n      color=\"primary\"\r\n      disableElevation\r\n      size=\"small\"\r\n    >\r\n      <Button\r\n        variant=\"contained\"\r\n        startIcon={<Edit />}\r\n        onClick={() => history.push(`/dashboard/edit/${thisId}`)}\r\n      >\r\n        Edit\r\n      </Button>\r\n      <Button>Share</Button>\r\n      <Button>\r\n        <MoreVert />\r\n      </Button>\r\n    </ButtonGroup>\r\n  );\r\n}\r\n\r\nexport function DashboardEditActions() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[3];\r\n  const dashboard = useAppSelector(selectDashboardById(thisId));\r\n  const history = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  return (\r\n    <ButtonGroup color=\"primary\" disableElevation>\r\n      <Button\r\n        startIcon={<Cancel />}\r\n        onClick={() => {\r\n          history.push(`/dashboard/${thisId}`);\r\n        }}\r\n      >\r\n        Cancel\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        startIcon={<Save />}\r\n        onClick={() => {\r\n          history.push(`/dashboard/${thisId}`);\r\n          enqueueSnackbar(\r\n            <>\r\n              Successfully saved dashboard:&nbsp;\r\n              <strong>{dashboard?.name || undefined}</strong>\r\n            </>,\r\n            { variant: \"success\" }\r\n          );\r\n        }}\r\n      >\r\n        Save\r\n      </Button>\r\n    </ButtonGroup>\r\n  );\r\n}\r\n","import { Button, ButtonGroup } from \"@material-ui/core\";\r\nimport { Cancel, Save } from \"@material-ui/icons\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { selectDashboardById } from \"../../../redux/dashboardSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\n\r\nexport function FrameworkEditActions() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[4];\r\n  const framework = useAppSelector(selectDashboardById(thisId));\r\n  const history = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  return (\r\n    <ButtonGroup color=\"primary\" disableElevation>\r\n      <Button\r\n        startIcon={<Cancel />}\r\n        onClick={() => {\r\n          history.push(`/admin/framework`);\r\n        }}\r\n      >\r\n        Cancel\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        startIcon={<Save />}\r\n        onClick={() => {\r\n          history.push(`/admin/framework`);\r\n          enqueueSnackbar(\r\n            <>\r\n              Successfully saved framework:&nbsp;\r\n              <strong>{framework?.name || \"undefined\"}</strong>\r\n            </>,\r\n            { variant: \"success\" }\r\n          );\r\n        }}\r\n      >\r\n        Save\r\n      </Button>\r\n    </ButtonGroup>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport {\r\n  makeStyles,\r\n  Theme,\r\n  createStyles,\r\n  fade,\r\n} from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport logoIpsum from \"../../assets/logo-12.svg\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport { AccountCircle, Notifications } from \"@material-ui/icons\";\r\nimport Drawer from \"./Drawer\";\r\nimport { useLocation } from \"react-router\";\r\nimport DashboardActions, {\r\n  DashboardEditActions,\r\n} from \"../pages/Dashboard/DashboardActions\";\r\nimport { FrameworkEditActions } from \"../pages/Framework/FrameworkActions\";\r\nimport { format } from \"date-fns\";\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    appBar: {\r\n      transition: theme.transitions.create([\"margin\", \"width\"], {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      backgroundColor: theme.palette.background.paper,\r\n      color: theme.palette.text.primary,\r\n    },\r\n    appBarShift: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      // marginLeft: drawerWidth,\r\n      transition: theme.transitions.create([\"margin\", \"width\"], {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      // marginRight: theme.spacing(1),\r\n    },\r\n    logoIpsum: {\r\n      display: \"flex\",\r\n      height: \"56px\",\r\n      padding: theme.spacing(2),\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n    },\r\n    search: {\r\n      position: \"relative\",\r\n      borderRadius: \"50px\",\r\n      backgroundColor: fade(theme.palette.common.black, 0.05),\r\n      \"&:hover\": {\r\n        backgroundColor: fade(theme.palette.common.black, 0.1),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: \"100%\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: \"auto\",\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: \"100%\",\r\n      position: \"absolute\",\r\n      pointerEvents: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    inputRoot: {\r\n      color: \"inherit\",\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create(\"width\"),\r\n      width: \"100%\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: \"20ch\",\r\n      },\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      marginLeft: -drawerWidth,\r\n      position: \"relative\",\r\n    },\r\n    contentShift: {\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    },\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-end\",\r\n    },\r\n    badge: {\r\n      backgroundColor: theme.palette.info.main,\r\n      background: theme.gradients.info,\r\n      color: \"white\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Layout({ children }: { children: any }) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setOpen((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: false,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            onClick={handleDrawerToggle}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <img\r\n            className={classes.logoIpsum}\r\n            src={logoIpsum}\r\n            alt=\"Placeholder Logo\"\r\n          />\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            {format(new Date(), \"hh:mm bbb, eee LLLL Mo (OOO)\")}\r\n          </Typography>\r\n          <PageActions />\r\n          <IconButton color=\"inherit\">\r\n            <Badge\r\n              badgeContent={6}\r\n              color=\"primary\"\r\n              // classes={{ badge: classes.badge }}\r\n            >\r\n              <Notifications />\r\n            </Badge>\r\n          </IconButton>\r\n          <IconButton edge=\"end\" color=\"inherit\">\r\n            <AccountCircle />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer drawerWidth={drawerWidth} open={open} />\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PageActions() {\r\n  const location = useLocation();\r\n  const path = location.pathname;\r\n\r\n  if (path.includes(\"/dashboard/edit\")) return <DashboardEditActions />;\r\n  if (path.includes(\"/dashboard\")) return <DashboardActions />;\r\n  if (path.includes(\"/admin/framework/manage/\"))\r\n    return <FrameworkEditActions />;\r\n\r\n  return <></>;\r\n}\r\n","import {\r\n  Box,\r\n  Card,\r\n  CardHeader,\r\n  makeStyles,\r\n  TypographyProps,\r\n} from \"@material-ui/core\";\r\nimport classNames from \"classnames\";\r\nimport { CSSProperties, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    // height: \"100%\",\r\n    // width: \"100%\",\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    // flexDirection: \"column\",\r\n  },\r\n  \"@keyframes fadeIn\": {\r\n    \"0%\": {\r\n      transform: \"rotate(0deg)\",\r\n    },\r\n    \"25%\": {\r\n      transform: \"rotate(-1deg)\",\r\n    },\r\n    \"75%\": {\r\n      transform: \"rotate(1deg)\",\r\n    },\r\n    \"100%\": {\r\n      rotate: \"rotate(0deg)\",\r\n    },\r\n  },\r\n  isEditing: {\r\n    border: `1px solid rgba(0, 0, 0, 0)`,\r\n    \"&:active\": {\r\n      border: `1px solid ${theme.palette.primary.light}`,\r\n      boxShadow: theme.shadows[15],\r\n    },\r\n  },\r\n  grabbable: {\r\n    cursor: \"move !important\",\r\n    \"&:hover\": {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n  isDragging: {\r\n    boxShadow: theme.shadows[15],\r\n  },\r\n}));\r\n\r\nexport default function Module({\r\n  title,\r\n  titleTypographyProps,\r\n  children,\r\n  useCard = true,\r\n  cardStyles,\r\n  actions,\r\n}: {\r\n  title: string;\r\n  titleTypographyProps?: TypographyProps;\r\n  children?: any;\r\n  useCard?: boolean;\r\n  cardStyles?: CSSProperties;\r\n  actions?: any;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const location = useLocation();\r\n  const isEditable = location.pathname.includes(\"/dashboard/edit\");\r\n  const [dragging, setDragging] = useState(false);\r\n\r\n  return (\r\n    <Box\r\n      className={classNames(\"ModuleDragHandle\", {\r\n        [classes.grabbable]: isEditable,\r\n      })}\r\n      height=\"100%\"\r\n      width=\"100%\"\r\n      display=\"flex\"\r\n      flexDirection=\"column\"\r\n      onMouseDown={() => setDragging(isEditable && true)}\r\n      onMouseUp={() => setDragging(isEditable && false)}\r\n    >\r\n      <CardHeader\r\n        title={title}\r\n        titleTypographyProps={{ variant: \"h6\", ...titleTypographyProps }}\r\n        style={{ paddingTop: 0, paddingBottom: 0 }}\r\n        action={<Box marginRight={isEditable ? 5 : undefined}>{actions}</Box>}\r\n      />\r\n      {useCard ? (\r\n        <Card\r\n          className={classes.container}\r\n          elevation={dragging ? 15 : 2}\r\n          // variant='outlined'\r\n          style={cardStyles}\r\n        >\r\n          {children}\r\n        </Card>\r\n      ) : (\r\n        children\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import { createStyles, fade, makeStyles, useTheme } from \"@material-ui/core\";\r\nimport { Cell, Label, Pie, PieChart, ResponsiveContainer } from \"recharts\";\r\nimport { v4 } from \"uuid\";\r\nimport { getColor } from \"../../util\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    \"@keyframes fadeIn\": {\r\n      \"0%\": {\r\n        opacity: 0,\r\n        transform: \"translateY(2rem) scale(0.95)\",\r\n      },\r\n      \"100%\": {\r\n        opacity: 1,\r\n        transform: \"translateY(0)\",\r\n      },\r\n    },\r\n    fadeIn: {\r\n      animation: \"$fadeIn 1.5s ease backwards 1s\",\r\n      transformOrigin: \"center\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function PieChartRating({\r\n  percent,\r\n  inverse = false,\r\n  variant = \"normal\",\r\n}: {\r\n  percent: number;\r\n  inverse?: boolean;\r\n  variant?: \"normal\" | \"small\" | \"tiny\";\r\n}) {\r\n  // const [num, setNum] = useState(0);\r\n\r\n  const data = [\r\n    {\r\n      name: \"Group A\",\r\n      value: Math.round(percent * 100),\r\n    },\r\n    {\r\n      name: \"Group B\",\r\n      value: Math.round((1 - percent) * 100),\r\n    },\r\n  ];\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const color = getColor(percent, inverse);\r\n\r\n  if (variant === \"normal\")\r\n    return (\r\n      <ResponsiveContainer minHeight={150}>\r\n        <PieChart>\r\n          <Pie\r\n            data={data}\r\n            dataKey=\"value\"\r\n            nameKey=\"name\"\r\n            startAngle={90}\r\n            endAngle={-270}\r\n            paddingAngle={5}\r\n            innerRadius=\"85%\"\r\n            outerRadius=\"100%\"\r\n            stroke=\"none\"\r\n          >\r\n            {data.map((entry, index) => (\r\n              <Cell\r\n                key={`${v4()}-${entry.name}`}\r\n                fill={index === 0 ? color : fade(color, 0.2)}\r\n              />\r\n            ))}\r\n            <Label\r\n              className={classes.fadeIn}\r\n              value={`${Math.round(percent * 100)}%`}\r\n              position=\"center\"\r\n              dominantBaseline=\"center\"\r\n              fontSize={theme.typography.h4.fontSize}\r\n              fontWeight={600}\r\n              fill={color}\r\n            />\r\n          </Pie>\r\n        </PieChart>\r\n      </ResponsiveContainer>\r\n    );\r\n\r\n  if (variant === \"tiny\" || variant === \"small\")\r\n    return (\r\n      <PieChart\r\n        margin={{ top: 0, bottom: 0, left: 0, right: 0 }}\r\n        height={variant === \"tiny\" ? 24 : 32}\r\n        width={variant === \"tiny\" ? 24 : 32}\r\n      >\r\n        <Pie\r\n          data={data}\r\n          dataKey=\"value\"\r\n          nameKey=\"name\"\r\n          startAngle={90}\r\n          endAngle={-270}\r\n          paddingAngle={0}\r\n          innerRadius=\"60%\"\r\n          outerRadius=\"100%\"\r\n          animationDuration={800}\r\n          stroke=\"none\"\r\n        >\r\n          {data.map((entry, index) => (\r\n            <Cell\r\n              key={`${v4()}-${entry.name}`}\r\n              fill={index === 0 ? color : fade(color, 0.2)}\r\n            />\r\n          ))}\r\n          {color === \"#f1462f\" && (\r\n            <Label\r\n              value=\"!\"\r\n              position=\"center\"\r\n              dominantBaseline=\"center\"\r\n              fontSize={theme.typography.h6.fontSize}\r\n              fontWeight={800}\r\n              fill={color}\r\n            />\r\n          )}\r\n        </Pie>\r\n      </PieChart>\r\n    );\r\n\r\n  return <></>;\r\n}\r\n","export function getColor(percent: number, inverse?: boolean) {\r\n  if (!inverse) {\r\n    if (percent <= 0.33) return \"#3adf5d\";\r\n    else if (percent <= 0.66) return \"#ffa339\";\r\n    else return \"#f1462f\";\r\n  } else {\r\n    if (percent <= 0.33) return \"#f1462f\";\r\n    else if (percent <= 0.66) return \"#ffa339\";\r\n    else return \"#3adf5d\";\r\n  }\r\n}\r\n","import { createStyles, Grid, makeStyles, Typography } from \"@material-ui/core\";\r\nimport { CheckCircle, Notifications, ReportProblem } from \"@material-ui/icons\";\r\n\r\nimport PieChartRating from \"../../widgets/PieChartRating\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexGrow: 1,\r\n    },\r\n    body: {\r\n      display: \"flex\",\r\n      width: \"100%\",\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    pieContainer: {\r\n      // flexGrow: 1,\r\n    },\r\n  })\r\n);\r\n\r\nexport default function FrameworkSummary({\r\n  title,\r\n  subtitle = \"compliance\",\r\n  percent,\r\n  numControls,\r\n  numControlsCompliant,\r\n  numAlerts,\r\n  numViolations,\r\n}: {\r\n  title: string;\r\n  subtitle?: string;\r\n  percent: number;\r\n  numControls?: number;\r\n  numControlsCompliant?: number;\r\n  numAlerts?: number;\r\n  numViolations?: number;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container className={classes.root} direction=\"column\">\r\n      <Grid item>\r\n        <Typography variant=\"h4\">{title}</Typography>\r\n      </Grid>\r\n      <Grid item>\r\n        <Typography variant=\"h6\">{subtitle}</Typography>\r\n      </Grid>\r\n      <Grid container className={classes.body} alignItems=\"center\">\r\n        <Grid item className={classes.pieContainer} xs={7}>\r\n          <PieChartRating percent={percent} inverse />\r\n        </Grid>\r\n        <Grid item xs={5} container spacing={2}>\r\n          {numAlerts !== undefined && (\r\n            <Grid item container direction=\"row\">\r\n              <Grid item xs={3}>\r\n                <Notifications />\r\n              </Grid>\r\n              <Grid item xs={9}>\r\n                <Typography variant=\"body1\" align=\"left\">\r\n                  {numAlerts} alert\r\n                  {numAlerts > 1 ? \"s\" : \"\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n          {numControls !== undefined && numControlsCompliant !== undefined && (\r\n            <Grid item container direction=\"row\">\r\n              <Grid item xs={3}>\r\n                <CheckCircle />\r\n              </Grid>\r\n              <Grid item xs={9}>\r\n                <Typography variant=\"body1\" align=\"left\">\r\n                  {numControlsCompliant} of&nbsp;\r\n                  {numControls} controls compliant\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n          {numViolations !== undefined && (\r\n            <Grid item container direction=\"row\">\r\n              <Grid item xs={3}>\r\n                <ReportProblem />\r\n              </Grid>\r\n              <Grid item xs={9}>\r\n                <Typography variant=\"body1\" align=\"left\">\r\n                  {numViolations} violation\r\n                  {numViolations > 1 ? \"s\" : \"\"} found\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  FormControl,\r\n  InputLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { ChangeEvent, useEffect, useState } from \"react\";\r\nimport {\r\n  countActiveControls,\r\n  countCompliantControls,\r\n  selectFrameworkById,\r\n  selectFrameworks,\r\n} from \"../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../redux/hooks\";\r\nimport Module from \"../Module\";\r\nimport FrameworkSummary from \"../pages/Framework/FrameworkSummary\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nexport default function FrameworkCompliance() {\r\n  const classes = useStyles();\r\n\r\n  const [selectedFrameworkId, setSelectedFrameworkId] = useState<string>(\"\");\r\n\r\n  const handleChange = (event: ChangeEvent<{ value: unknown }>) => {\r\n    setSelectedFrameworkId(event.target.value as string);\r\n  };\r\n\r\n  const selectedFramework = useAppSelector(\r\n    selectFrameworkById(selectedFrameworkId)\r\n  );\r\n\r\n  const controls =\r\n    selectedFramework?.controls.filter((item) => item.isActive) || [];\r\n\r\n  const numActive = countActiveControls(controls);\r\n  const numCompliant = countCompliantControls(controls);\r\n\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n\r\n  useEffect(() => {\r\n    setSelectedFrameworkId(frameworks[0].id);\r\n  }, [frameworks]);\r\n\r\n  return (\r\n    <Module\r\n      title=\"COMPLIANCE\"\r\n      actions={\r\n        <FormControl\r\n          variant=\"filled\"\r\n          className={classes.formControl}\r\n          size=\"small\"\r\n          style={{ margin: 0 }}\r\n        >\r\n          <InputLabel id=\"demo-simple-select-outlined-label\">\r\n            Framework\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            value={selectedFrameworkId}\r\n            onChange={handleChange}\r\n            label=\"Framework\"\r\n          >\r\n            {frameworks.map((item) => (\r\n              <MenuItem value={item.id}>{item.name}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      }\r\n    >\r\n      <Box padding={2}>\r\n        {selectedFramework ? (\r\n          <FrameworkSummary\r\n            title={selectedFramework.name}\r\n            subtitle=\"\"\r\n            percent={numCompliant / numActive}\r\n            numControls={numActive}\r\n            numControlsCompliant={numCompliant}\r\n            numAlerts={selectedFramework.alerts.length}\r\n            numViolations={numActive - numCompliant}\r\n          />\r\n        ) : (\r\n          <Typography>Select a framework</Typography>\r\n        )}\r\n      </Box>\r\n    </Module>\r\n  );\r\n}\r\n","import { Button, createStyles, Grid, makeStyles } from \"@material-ui/core\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport { format, parse } from \"date-fns\";\r\nimport { Alert as AlertType } from \"../../../redux/frameworkSlice\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      width: \"100%\",\r\n      // height: \"100%\",\r\n      // maxHeight: \"80vh\",\r\n      // overflow: \"auto\",\r\n      // boxSizing: \"content-box\",\r\n    },\r\n    alert: {\r\n      width: \"100%\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function AlertList({ alerts }: { alerts: AlertType[] }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container className={classes.container} spacing={1}>\r\n      {alerts.map((item) => (\r\n        <Grid item xs={12}>\r\n          <Alert\r\n            className={classes.alert}\r\n            severity={item.severity}\r\n            action={\r\n              <Button color=\"inherit\" size=\"small\">\r\n                DISMISS\r\n              </Button>\r\n            }\r\n          >\r\n            <AlertTitle>{item.title}</AlertTitle>\r\n            {item.child}\r\n            <br />\r\n            <i>\r\n              {format(\r\n                parse(item.timestamp, \"T\", new Date()),\r\n                \"hh:mm bbb, eee LLLL Mo\"\r\n              )}\r\n            </i>\r\n          </Alert>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  FormControl,\r\n  InputLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { ChangeEvent, useEffect, useState } from \"react\";\r\nimport {\r\n  selectFrameworkById,\r\n  selectFrameworks,\r\n} from \"../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../redux/hooks\";\r\nimport Module from \"../Module\";\r\nimport AlertList from \"../pages/Framework/AlertList\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nexport default function FrameworkCompliance() {\r\n  const classes = useStyles();\r\n\r\n  const [selectedFrameworkId, setSelectedFrameworkId] = useState<string>(\"\");\r\n\r\n  const handleChange = (event: ChangeEvent<{ value: unknown }>) => {\r\n    setSelectedFrameworkId(event.target.value as string);\r\n  };\r\n\r\n  const selectedFramework = useAppSelector(\r\n    selectFrameworkById(selectedFrameworkId)\r\n  );\r\n\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n\r\n  useEffect(() => {\r\n    setSelectedFrameworkId(frameworks[0].id);\r\n  }, [frameworks]);\r\n\r\n  return (\r\n    <Module\r\n      title=\"ALERTS\"\r\n      actions={\r\n        <FormControl\r\n          variant=\"filled\"\r\n          className={classes.formControl}\r\n          size=\"small\"\r\n          style={{ margin: 0 }}\r\n        >\r\n          <InputLabel id=\"demo-simple-select-outlined-label\">\r\n            Framework\r\n          </InputLabel>\r\n          <Select\r\n            margin=\"dense\"\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            value={selectedFrameworkId}\r\n            onChange={handleChange}\r\n            label=\"Framework\"\r\n          >\r\n            {frameworks.map((item) => (\r\n              <MenuItem value={item.id}>{item.name}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      }\r\n    >\r\n      <Box padding={2} maxHeight=\"60vh\" overflow=\"auto\">\r\n        {selectedFramework ? (\r\n          <AlertList alerts={selectedFramework.alerts} />\r\n        ) : (\r\n          <Typography>Select a framework</Typography>\r\n        )}\r\n      </Box>\r\n    </Module>\r\n  );\r\n}\r\n","import {\r\n  Chip,\r\n  makeStyles,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@material-ui/core\";\r\nimport Module from \"../Module\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    // height: \"100%\",\r\n    margin: theme.spacing(2),\r\n    marginLeft: 0,\r\n    marginRight: 0,\r\n    boxSizing: \"border-box\",\r\n    overflowY: \"auto\",\r\n  },\r\n  headerCell: {\r\n    fontWeight: 800,\r\n  },\r\n  avatar: {\r\n    margin: 0,\r\n  },\r\n}));\r\n\r\nfunction createData(\r\n  asset: string,\r\n  owner: string,\r\n  severity: string,\r\n  risk: number\r\n) {\r\n  return { asset, owner, severity, risk };\r\n}\r\n\r\nconst rows = [\r\n  createData(\"Frozen yoghurt\", \"Owner A\", \"High\", 24),\r\n  createData(\"Ice cream sandwich\", \"Owner B\", \"Low\", 37),\r\n  createData(\"Eclair\", \"Owner D\", \"Low\", 24),\r\n  createData(\"Cupcake\", \"Owner A\", \"Low\", 67),\r\n  createData(\"Gingerbread\", \"Owner A\", \"Medium\", 49),\r\n];\r\n\r\nfunction SeverityChip({\r\n  severity,\r\n  title,\r\n}: {\r\n  severity: string;\r\n  title: string;\r\n}) {\r\n  const getColor = () => {\r\n    if (severity === \"Low\") return \"green\";\r\n    else if (severity === \"Medium\") return \"orange\";\r\n    else if (severity === \"High\") return \"red\";\r\n  };\r\n\r\n  return (\r\n    <Chip\r\n      label={title}\r\n      size=\"small\"\r\n      variant=\"outlined\"\r\n      style={{\r\n        color: getColor(),\r\n        fontWeight: 600,\r\n        border: `2px solid ${getColor()}`,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default function HighRiskAssets() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Module title=\"HIGH RISK ASSETS\">\r\n      <div className={classes.body}>\r\n        <Table stickyHeader aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell className={classes.headerCell}>Asset</TableCell>\r\n              <TableCell className={classes.headerCell} align=\"right\">\r\n                Owner\r\n              </TableCell>\r\n              <TableCell className={classes.headerCell} align=\"right\">\r\n                Severity\r\n              </TableCell>\r\n              <TableCell className={classes.headerCell} align=\"right\">\r\n                Risk\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row) => (\r\n              <TableRow key={`${row.asset}-tablerow`}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {row.asset}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.owner}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <SeverityChip severity={row.severity} title={row.severity} />\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.risk}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n","import { Card, makeStyles, Typography } from \"@material-ui/core\";\r\nimport Module from \"../Module\";\r\nimport PieChartRating from \"./PieChartRating\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    overflowX: \"auto\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n  ratingCard: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    minWidth: \"130px\",\r\n    maxHeight: \"100%\",\r\n    marginLeft: `${theme.spacing(3)}px`,\r\n    \"&:first-child\": {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  ratingCardTitle: {\r\n    // color: \"white\",\r\n  },\r\n  ratingCardNumber: {\r\n    color: \"grey\",\r\n    fontWeight: 600,\r\n  },\r\n  responsive: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport function RatingCard({\r\n  title,\r\n  percent,\r\n}: {\r\n  title: string;\r\n  percent: number;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card\r\n      className={classes.ratingCard}\r\n      // elevation={5}\r\n      variant=\"outlined\"\r\n    >\r\n      <Typography className={classes.ratingCardTitle} variant=\"h6\">\r\n        {title}\r\n      </Typography>\r\n      <PieChartRating percent={percent} />\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default function Ratings() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Module title=\"RATINGS\">\r\n      {/* <div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: \"0px 16px\",\r\n\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\tboxSizing: \"border-box\",\r\n\t\t\t\t\toverflowX: \"auto\",\r\n\t\t\t\t}}\r\n\t\t\t> */}\r\n      <div className={classes.body}>\r\n        <RatingCard title=\"Risk\" percent={0.17} />\r\n        <RatingCard title=\"Compliance\" percent={0.55} />\r\n        <RatingCard title=\"Threats\" percent={0.11} />\r\n      </div>\r\n      {/* </div> */}\r\n    </Module>\r\n  );\r\n}\r\n","import { makeStyles, useTheme } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  Legend,\r\n  Line,\r\n  LineChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n} from \"recharts\";\r\nimport Module from \"../Module\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n}));\r\n\r\nconst oldData = [\r\n  {\r\n    name: \"March\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"April\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"May\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"June\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"July\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"August\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"September\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n];\r\n\r\nconst newData = [\r\n  {\r\n    name: \"March\",\r\n    Compliance: 40,\r\n    Risk: 24,\r\n    Threat: 34,\r\n  },\r\n  {\r\n    name: \"April\",\r\n    Compliance: 30,\r\n    Risk: 13,\r\n    Threat: 36,\r\n  },\r\n  {\r\n    name: \"May\",\r\n    Compliance: 20,\r\n    Risk: 88,\r\n    Threat: 67,\r\n  },\r\n  {\r\n    name: \"June\",\r\n    Compliance: 27,\r\n    Risk: 39,\r\n    Threat: 38,\r\n  },\r\n  {\r\n    name: \"July\",\r\n    Compliance: 18,\r\n    Risk: 48,\r\n    Threat: 23,\r\n  },\r\n  {\r\n    name: \"August\",\r\n    Compliance: 23,\r\n    Risk: 38,\r\n    Threat: 19,\r\n  },\r\n  {\r\n    name: \"September\",\r\n    Compliance: 34,\r\n    Risk: 43,\r\n    Threat: 14,\r\n  },\r\n];\r\n\r\nexport default function RatingTrends() {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [data, setData] = useState(oldData);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setData(newData);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <Module title=\"RATING TRENDS\">\r\n      <div className={classes.body}>\r\n        <ResponsiveContainer\r\n          height=\"99%\"\r\n          width=\"99%\"\r\n          minHeight=\"0px\"\r\n          minWidth=\"0px\"\r\n        >\r\n          <LineChart data={data}>\r\n            <XAxis dataKey=\"name\" />\r\n            {/* <YAxis type=\"number\" domain={[0, 100]} /> */}\r\n            <Tooltip />\r\n            <Legend />\r\n            <Line\r\n              strokeWidth={2}\r\n              type=\"natural\"\r\n              dataKey=\"Compliance\"\r\n              stroke={theme.palette.primary.dark}\r\n              dot={false}\r\n            />\r\n            <Line\r\n              strokeWidth={2}\r\n              type=\"natural\"\r\n              dataKey=\"Risk\"\r\n              stroke={theme.palette.primary.main}\r\n              dot={false}\r\n            />\r\n            <Line\r\n              strokeWidth={2}\r\n              type=\"natural\"\r\n              dataKey=\"Threat\"\r\n              stroke={theme.palette.primary.light}\r\n              dot={false}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n} from \"recharts\";\r\nimport Module from \"../Module\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n}));\r\n\r\nconst oldData = [\r\n  {\r\n    name: \"PCI\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"ISO\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"NIST\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"HIPAA\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"Overall\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n];\r\n\r\nconst newData = [\r\n  {\r\n    name: \"PCI\",\r\n    Low: 40,\r\n    Medium: 24,\r\n    High: 26,\r\n    Complete: 10,\r\n  },\r\n  {\r\n    name: \"ISO\",\r\n    Low: 30,\r\n    Medium: 13,\r\n    High: 27,\r\n    Complete: 30,\r\n  },\r\n  {\r\n    name: \"NIST\",\r\n    Low: 20,\r\n    Medium: 28,\r\n    High: 12,\r\n    Complete: 40,\r\n  },\r\n  {\r\n    name: \"HIPAA\",\r\n    Low: 27,\r\n    Medium: 40,\r\n    High: 20,\r\n    Complete: 13,\r\n  },\r\n  {\r\n    name: \"Overall\",\r\n    Low: 18,\r\n    Medium: 42,\r\n    High: 20,\r\n    Complete: 20,\r\n  },\r\n];\r\n\r\nexport default function RegulatoryCompliance() {\r\n  const classes = useStyles();\r\n\r\n  const [data, setData] = useState(oldData);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setData(newData);\r\n    }, 1500);\r\n  }, []);\r\n\r\n  return (\r\n    <Module title=\"REGULATORY COMPLIANCE\">\r\n      <div className={classes.body}>\r\n        <ResponsiveContainer\r\n          height=\"99%\"\r\n          width=\"99%\"\r\n          minHeight=\"0px\"\r\n          minWidth=\"0px\"\r\n        >\r\n          <BarChart data={data}>\r\n            {/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\r\n            <XAxis dataKey=\"name\" />\r\n            {/* <YAxis type=\"number\" domain={[0, 100]} /> */}\r\n            <Tooltip />\r\n            <Legend />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"Low\"\r\n              stackId=\"a\"\r\n              fill=\"#3adf5d\"\r\n            />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"Medium\"\r\n              stackId=\"a\"\r\n              fill=\"#ffa339\"\r\n            />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"High\"\r\n              stackId=\"a\"\r\n              fill=\"#f1462f\"\r\n            />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"Complete\"\r\n              stackId=\"a\"\r\n              fill=\"#49a9e9\"\r\n            />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n","import { useTheme } from \"@material-ui/core\";\r\nimport { memo } from \"react\";\r\nimport { Marker } from \"react-map-gl\";\r\n\r\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\r\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\r\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\r\n\r\nconst SIZE = 20;\r\n\r\n// Important for perf: the markers never change, avoid rerender when the map viewport changes\r\nfunction PinsUnMemo({ threats }: { threats: Threat[] }) {\r\n  const theme = useTheme();\r\n\r\n  return threats.map((threat) =>\r\n    threat.points.map((item) => (\r\n      <Marker\r\n        key={`marker-${item.latitude}-${item.longitude}`}\r\n        longitude={item.longitude}\r\n        latitude={item.latitude}\r\n      >\r\n        <svg\r\n          height={SIZE}\r\n          viewBox=\"0 0 24 24\"\r\n          style={{\r\n            cursor: \"pointer\",\r\n            fill: theme.palette[threat.severity].main,\r\n            stroke: \"none\",\r\n            transform: `translate(${-SIZE / 2}px,${-SIZE}px)`,\r\n          }}\r\n        >\r\n          <path d={ICON} />\r\n        </svg>\r\n      </Marker>\r\n    ))\r\n  );\r\n}\r\n\r\n/*\r\n// @ts-ignore */\r\nexport const Pins = memo(PinsUnMemo);\r\n\r\nexport interface Threat {\r\n  description: string;\r\n  severity: \"error\" | \"warning\" | \"success\";\r\n  message: string;\r\n  points: {\r\n    longitude: number;\r\n    latitude: number;\r\n  }[];\r\n}\r\n\r\nexport const Threats: Threat[] = [\r\n  {\r\n    description: \"Bruteforce on Account\",\r\n    severity: \"error\",\r\n    message:\r\n      \"Bruteforce on User Account ID : JSmith@ABC_INC.COM. IP address of internal machine 172.16.1.10 located in Calgary and locked out from remote machine 223.154.20.62 in China\",\r\n    points: [\r\n      {\r\n        longitude: -114.008756,\r\n        latitude: 51.128474,\r\n      },\r\n      {\r\n        longitude: 106.654405,\r\n        latitude: 29.554115,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    description: \"Security door open forcefully\",\r\n    severity: \"error\",\r\n    message: \"Breach\",\r\n    points: [\r\n      {\r\n        longitude: -114.004395,\r\n        latitude: 51.130264,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    description: \"Kiosk Down\",\r\n    severity: \"warning\",\r\n    message: \"Kiosk XYZ at ___ is not operational.\",\r\n    points: [\r\n      {\r\n        longitude: -114.007701,\r\n        latitude: 51.133999,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { Card, CardContent } from \"@material-ui/core\";\r\nimport {\r\n  Dispatch,\r\n  SetStateAction,\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\nimport ReactMapGL, { MapEvent, Source, ViewportProps } from \"react-map-gl\";\r\nimport { Layer } from \"recharts\";\r\n\r\nconst dataLayer = {\r\n  id: \"calgary-international-airport-766u7b\",\r\n  type: \"fill\",\r\n  paint: {\r\n    \"fill-color\": \"#007cbf\",\r\n    \"fill-opacity\": 0.8,\r\n  },\r\n};\r\n\r\nexport default function Map({\r\n  viewport,\r\n  setViewport,\r\n  children,\r\n}: {\r\n  viewport: ViewportProps;\r\n  setViewport: Dispatch<SetStateAction<Partial<ViewportProps>>>;\r\n  children?: any;\r\n}) {\r\n  const [data, setData] = useState<GeoJSON.FeatureCollection<GeoJSON.Geometry>>(\r\n    { type: \"FeatureCollection\", features: [] }\r\n  );\r\n\r\n  const [hoverInfo, setHoverInfo] =\r\n    useState<null | { x: number; y: number; feature: { [key: string]: any } }>(\r\n      null\r\n    );\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      \"https://raw.githubusercontent.com/arpithindukuri/keyworks-draft/master/src/data/calgary-international-airport.geojson\"\r\n    )\r\n      .then((resp) => resp.json())\r\n      .then((json) => setData(json));\r\n  }, []);\r\n\r\n  const onHover = useCallback((event: MapEvent) => {\r\n    const { features } = event;\r\n    const { offsetX, offsetY } = event.srcEvent as MouseEvent;\r\n    const hoveredFeature = features && features[0];\r\n\r\n    setHoverInfo(\r\n      hoveredFeature\r\n        ? {\r\n            feature: hoveredFeature,\r\n            x: offsetX,\r\n            y: offsetY,\r\n          }\r\n        : null\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <ReactMapGL\r\n      {...viewport}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      onViewportChange={(viewport: any) => {\r\n        setViewport(viewport);\r\n      }}\r\n      mapStyle=\"mapbox://styles/dannywantsmaps/ckplntm0x3ncs17qp8a0ddghl\"\r\n      interactiveLayerIds={[\"calgary-international-airport-766u7b\"]}\r\n      onHover={onHover}\r\n      onMouseLeave={() => setHoverInfo(null)}\r\n      onMouseOut={() => setHoverInfo(null)}\r\n    >\r\n      <Source\r\n        id=\"calgary-international-airport-766u7b\"\r\n        type=\"geojson\"\r\n        data={data}\r\n      >\r\n        <Layer {...dataLayer} />\r\n      </Source>\r\n      {hoverInfo !== null && (\r\n        <Card\r\n          style={{\r\n            pointerEvents: \"none\",\r\n            touchAction: \"none\",\r\n            position: \"absolute\",\r\n            left: hoverInfo.x,\r\n            top: hoverInfo.y,\r\n          }}\r\n        >\r\n          <CardContent>\r\n            Building: {hoverInfo.feature.properties.name}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n      {children}\r\n    </ReactMapGL>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Module from \"../Module\";\r\nimport { WebMercatorViewport, ViewportProps } from \"react-map-gl\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Pins, Threat, Threats } from \"../../data/ThreatData\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport Map from \"./Map\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n}));\r\n\r\nexport default function TopThreats() {\r\n  const classes = useStyles();\r\n\r\n  const [viewport, setViewport] = useState<ViewportProps>({\r\n    latitude: 51.131604607782684,\r\n    longitude: -114.00645002886303,\r\n    zoom: 14.404946761461456,\r\n  });\r\n\r\n  return (\r\n    <Module title=\"TOP THREATS\">\r\n      <div className={classes.body}>\r\n        <Box flex={3}>\r\n          <ThreatList />\r\n        </Box>\r\n        <Box flex={9}>\r\n          <Map viewport={viewport} setViewport={setViewport}>\r\n            <Pins threats={Threats} />\r\n          </Map>\r\n        </Box>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n\r\nfunction ThreatList() {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedThreat, setSelectedThreat] = useState<Threat | null>(null);\r\n\r\n  const handleClickOpen = (threat: Threat) => {\r\n    setOpen(true);\r\n    setSelectedThreat(threat);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelectedThreat(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        {Threats.map((threat) => (\r\n          <ListItem button onClick={() => handleClickOpen(threat)}>\r\n            <Alert severity={threat.severity} style={{ width: \"100%\" }}>\r\n              <AlertTitle>{threat.description}</AlertTitle>\r\n            </Alert>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      {selectedThreat && (\r\n        <ThreatDialog\r\n          isOpen={open}\r\n          close={handleClose}\r\n          threat={selectedThreat}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ThreatDialog({\r\n  isOpen,\r\n  close,\r\n  threat,\r\n}: {\r\n  isOpen: boolean;\r\n  close: () => void;\r\n  threat: Threat;\r\n}) {\r\n  const [viewport, setViewport] = useState<ViewportProps>({\r\n    latitude: 51.131752410211334,\r\n    longitude: -114.00580603669299,\r\n    zoom: 15.814352345006331,\r\n  });\r\n\r\n  const minLng = Math.min(...threat.points.map((item) => item.longitude));\r\n  const minLat = Math.min(...threat.points.map((item) => item.latitude));\r\n  const maxLng = Math.max(...threat.points.map((item) => item.longitude));\r\n  const maxLat = Math.max(...threat.points.map((item) => item.latitude));\r\n\r\n  const vp = new WebMercatorViewport({ height: 400, width: 800 });\r\n  const { longitude, latitude, zoom } = vp.fitBounds(\r\n    [\r\n      [minLng, minLat],\r\n      [maxLng, maxLat],\r\n    ],\r\n    {\r\n      padding: 40,\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    setViewport(() => ({ longitude, latitude, zoom: Math.min(zoom, 16) }));\r\n  }, [setViewport, longitude, latitude, zoom]);\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={close}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={isOpen}\r\n      fullWidth\r\n      maxWidth=\"xl\"\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">{threat.description}</DialogTitle>\r\n      <DialogContent style={{ height: \"90vh\", display: \"flex\" }}>\r\n        <Box flex={3}>\r\n          <Typography>{threat.message}</Typography>\r\n        </Box>\r\n        <Box flex={9}>\r\n          <Map viewport={viewport} setViewport={setViewport}>\r\n            <Pins threats={[threat]} />\r\n          </Map>\r\n        </Box>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import FrameworkCompliance from \"../components/widgets/FrameworkCompliance\";\r\nimport FrameworkAlerts from \"../components/widgets/FrameworkAlerts\";\r\nimport HighRiskAssets from \"../components/widgets/HighRiskAssets\";\r\nimport Ratings from \"../components/widgets/Ratings\";\r\nimport RatingTrends from \"../components/widgets/RatingTrends\";\r\nimport RegulatoryCompliance from \"../components/widgets/RegulatoryCompliance\";\r\nimport TopThreats from \"../components/widgets/TopThreats\";\r\n\r\nexport type WidgetIdType =\r\n  | \"ratings\"\r\n  | \"trends\"\r\n  | \"regcomp\"\r\n  | \"highriskassets\"\r\n  | \"topthreats\"\r\n  | \"compliance\"\r\n  | \"alerts\"\r\n  | null;\r\n\r\nexport interface Widget {\r\n  title: string;\r\n  i: WidgetIdType;\r\n  w: number;\r\n  h: number;\r\n  minW: number;\r\n  minH: number;\r\n  maxW: number;\r\n  maxH: number;\r\n}\r\n\r\nexport function getWidgetFromId(widgetId: WidgetIdType) {\r\n  switch (widgetId) {\r\n    case \"ratings\":\r\n      return <Ratings />;\r\n    case \"trends\":\r\n      return <RatingTrends />;\r\n    case \"regcomp\":\r\n      return <RegulatoryCompliance />;\r\n    case \"highriskassets\":\r\n      return <HighRiskAssets />;\r\n    case \"topthreats\":\r\n      return <TopThreats />;\r\n    case \"compliance\":\r\n      return <FrameworkCompliance />;\r\n    case \"alerts\":\r\n      return <FrameworkAlerts />;\r\n    default:\r\n      return <></>;\r\n  }\r\n}\r\n\r\nexport function getWidgetDetailsFromId(widgetId: WidgetIdType) {\r\n  return widgetList.find((wid) => wid.i === widgetId);\r\n}\r\n\r\nexport const widgetList: Widget[] = [\r\n  {\r\n    title: \"Ratings\",\r\n    i: \"ratings\",\r\n    w: 6,\r\n    h: 6,\r\n    minW: 5,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Rating Trends\",\r\n    i: \"trends\",\r\n    w: 8,\r\n    h: 5,\r\n    minW: 5,\r\n    minH: 3,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Regulatory Compliance\",\r\n    i: \"regcomp\",\r\n    w: 4,\r\n    h: 5,\r\n    minW: 4,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"High Risk Assets\",\r\n    i: \"highriskassets\",\r\n    w: 10,\r\n    h: 7,\r\n    minW: 8,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Top Threats\",\r\n    i: \"topthreats\",\r\n    w: 12,\r\n    h: 8,\r\n    minW: 6,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Compliance\",\r\n    i: \"compliance\",\r\n    w: 4,\r\n    h: 6,\r\n    minW: 3,\r\n    minH: 4,\r\n    maxW: 10,\r\n    maxH: 10,\r\n  },\r\n  {\r\n    title: \"Alerts\",\r\n    i: \"alerts\",\r\n    w: 9,\r\n    h: 6,\r\n    minW: 5,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n];\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function DotGrid({\r\n  numX,\r\n  numY,\r\n  heightSpace,\r\n  radius = 4,\r\n  thickness = 1,\r\n  fill = \"#aaa\",\r\n}: {\r\n  numX: number;\r\n  numY: number;\r\n  heightSpace: number;\r\n  radius?: number;\r\n  thickness?: number;\r\n  fill?: string;\r\n}) {\r\n  let dots = [];\r\n  const ref = useRef<SVGSVGElement | null>(null);\r\n  const [width, setWidth] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setWidth(ref.current?.clientWidth || 0);\r\n  }, [ref.current?.clientWidth]);\r\n\r\n  for (let indexWidth = 0; indexWidth <= numX; indexWidth++) {\r\n    for (let indexHeight = 0; indexHeight < numY; indexHeight++) {\r\n      const centerX = indexWidth * (width / numX);\r\n      const centerY = indexHeight * heightSpace;\r\n      const left = centerX - radius;\r\n      const right = centerX + radius;\r\n      const top = centerY - radius;\r\n      const bottom = centerY + radius;\r\n      dots.push(\r\n        // <circle\r\n        // \tkey={`dashboard-dot-${indexWidth}-${indexHeight}`}\r\n        // \tcx={indexWidth * (width / numX)}\r\n        // \tcy={indexHeight * heightSpace}\r\n        // \tr={radius}\r\n        // />\r\n        <line\r\n          x1={left}\r\n          y1={centerY}\r\n          x2={right}\r\n          y2={centerY}\r\n          stroke-width={thickness}\r\n        />,\r\n        <line\r\n          x1={centerX}\r\n          y1={top}\r\n          x2={centerX}\r\n          y2={bottom}\r\n          stroke-width={thickness}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <svg\r\n      ref={ref}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      // viewBox={`0 0 100% 100%`}\r\n      version=\"1.1\"\r\n      overflow=\"visible\"\r\n    >\r\n      <g fill={fill} stroke={fill}>\r\n        {dots}\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","import { Component } from \"react\";\r\n\r\nexport default class ErrorBoundary extends Component<\r\n  {},\r\n  { hasError: boolean }\r\n> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: any) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: any, errorInfo: any) {\r\n    // You can also log the error to an error reporting service\r\n    console.error(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // You can render any custom fallback UI\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  createStyles,\r\n  Fade,\r\n  makeStyles,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { WidthProvider, Responsive, Layout } from \"react-grid-layout\";\r\nimport { withResizeDetector } from \"react-resize-detector\";\r\n\r\nimport { AppContext } from \"../../../context/AppContext\";\r\nimport { useAppDispatch } from \"../../../redux/hooks\";\r\nimport {\r\n  updateDashboardLayout,\r\n  dropLayout,\r\n  Dashboard as DashboardType,\r\n  removeWidget,\r\n} from \"../../../redux/dashboardSlice\";\r\nimport {\r\n  getWidgetDetailsFromId,\r\n  getWidgetFromId,\r\n  WidgetIdType,\r\n} from \"../../../redux/widgetSlice\";\r\nimport DotGrid from \"../../DotGrid\";\r\nimport ErrorBoundary from \"../../ErrorBoundary\";\r\nimport { Close } from \"@material-ui/icons\";\r\n\r\nconst ReactGridLayout = WidthProvider(\r\n  withResizeDetector(Responsive, {\r\n    refreshMode: \"debounce\",\r\n    refreshRate: 50,\r\n  })\r\n);\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    \"@keyframes fadeIn\": {\r\n      \"0%\": {\r\n        opacity: 0,\r\n      },\r\n      \"100%\": {\r\n        opacity: 1,\r\n      },\r\n    },\r\n    selector: {\r\n      animation: \"$fadeIn 0.3s ease-in-out 0.25s\",\r\n      // animationDelay: \"0.5s\",\r\n      animationFillMode: \"backwards\",\r\n    },\r\n    placeholder: ({ height }: { height: number }) => ({\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      minHeight: \"calc(100vh - 90px)\",\r\n      height: `calc(${height}px - 90px)`,\r\n      top: \"12px\",\r\n      left: \"12px\",\r\n      right: \"12px\",\r\n      transition: \"0.3s\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      pointerEvents: \"none\",\r\n      touchAction: \"none\",\r\n      // border: `2px dashed ${theme.palette.grey[300]}`,\r\n      color: theme.palette.grey[500],\r\n      boxSizing: \"border-box\",\r\n      overflow: \"visible\",\r\n    }),\r\n    container: {\r\n      minHeight: \"calc(100vh - 66px) !important\",\r\n      transition: \"0.3s\",\r\n      display: \"flex\",\r\n      flexGrow: 1,\r\n      overflow: \"hidden !important\",\r\n      // overflowX: \"hidden\",\r\n      // overflowY: \"visible\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Dashboard({\r\n  dashboard,\r\n  canEdit = false,\r\n}: {\r\n  dashboard: DashboardType;\r\n  canEdit?: boolean;\r\n}) {\r\n  const theme = useTheme();\r\n  const { state } = useContext(AppContext);\r\n  const dispatch = useAppDispatch();\r\n  const thisId = dashboard.id;\r\n\r\n  const [layout, setLayout] = useState<Layout[]>([]);\r\n  const [isDotGridVisible, setIsDotGridVisible] = useState(false);\r\n  const [height, setHeight] = useState(0);\r\n  const margin = theme.spacing(3);\r\n  const rowHeight = 50;\r\n\r\n  const classes = useStyles({ height: height });\r\n\r\n  const newItemType = getWidgetDetailsFromId(state.type);\r\n\r\n  useEffect(() => {\r\n    setLayout(() =>\r\n      dashboard.layout.map((widget) => {\r\n        const widgetDefaults = getWidgetDetailsFromId(\r\n          widget.i.split(\"-\")[0] as WidgetIdType\r\n        );\r\n        return {\r\n          ...widget,\r\n          minW: widgetDefaults?.minW,\r\n          minH: widgetDefaults?.minH,\r\n          maxW: widgetDefaults?.maxW,\r\n          maxH: widgetDefaults?.maxH,\r\n          isBounded: canEdit,\r\n          isDraggable: canEdit,\r\n          isResizable: canEdit,\r\n        };\r\n      })\r\n    );\r\n    console.log(\"changed\");\r\n  }, [dashboard.layout, canEdit]);\r\n\r\n  // const layout = dashboard.layout.map((widget) => {\r\n  // \tconst widgetDefaults = getWidgetDetailsFromId(\r\n  // \t\twidget.i.split(\"-\")[0] as WidgetIdType\r\n  // \t);\r\n  // \treturn {\r\n  // \t\t...widget,\r\n  // \t\tminW: widgetDefaults?.minW,\r\n  // \t\tminH: widgetDefaults?.minH,\r\n  // \t\tmaxW: widgetDefaults?.maxW,\r\n  // \t\tmaxH: widgetDefaults?.maxH,\r\n  // \t};\r\n  // });\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <div className={classes.placeholder}>\r\n        <Fade in={isDotGridVisible}>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              bottom: 0,\r\n              right: 0,\r\n            }}\r\n          >\r\n            <DotGrid\r\n              numX={16}\r\n              numY={Math.max(\r\n                Math.floor(height / (rowHeight + margin / 2)),\r\n                Math.floor((window.innerHeight - 66) / (rowHeight + margin / 2))\r\n              )}\r\n              heightSpace={rowHeight + margin}\r\n            />\r\n          </div>\r\n        </Fade>\r\n        {/* {isDotGridVisible && (\r\n\t\t\t\t\t<DotGrid\r\n\t\t\t\t\t\tnumX={16}\r\n\t\t\t\t\t\tnumY={Math.max(\r\n\t\t\t\t\t\t\tMath.floor(height / (rowHeight + margin / 2)),\r\n\t\t\t\t\t\t\tMath.floor(\r\n\t\t\t\t\t\t\t\t(window.innerHeight - 66) /\r\n\t\t\t\t\t\t\t\t\t(rowHeight + margin / 2)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\theightSpace={rowHeight + margin}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)} */}\r\n        {layout.length === 0 && (\r\n          <Typography\r\n            variant=\"h4\"\r\n            display=\"block\"\r\n            style={{ position: \"absolute\" }}\r\n          >\r\n            This Dashboard is Empty <br />\r\n            {`Click \"Edit\" in the top right to add a widget`}\r\n          </Typography>\r\n        )}\r\n      </div>\r\n      <ErrorBoundary>\r\n        <ReactGridLayout\r\n          // useCSSTransforms={false}\r\n          isDraggable={canEdit}\r\n          isResizable={canEdit}\r\n          isDroppable={canEdit}\r\n          measureBeforeMount\r\n          className={`layout ${classes.container}`}\r\n          // style={{ height: `${height}px` }}\r\n          layouts={{\r\n            lg: layout,\r\n            md: layout,\r\n            sm: layout,\r\n            xs: layout,\r\n            xxs: layout,\r\n          }}\r\n          width={1000}\r\n          rowHeight={rowHeight}\r\n          cols={{ lg: 16, md: 16, sm: 16, xs: 16, xxs: 16 }}\r\n          margin={[margin, margin]}\r\n          draggableHandle={\".ModuleDragHandle\"}\r\n          onDragStart={() => {\r\n            setIsDotGridVisible(true);\r\n          }}\r\n          onDragStop={(newLayout) => {\r\n            setIsDotGridVisible(false);\r\n            dispatch(\r\n              updateDashboardLayout({\r\n                id: thisId,\r\n                newLayout: newLayout,\r\n              })\r\n            );\r\n          }}\r\n          onResizeStart={() => {\r\n            setIsDotGridVisible(true);\r\n          }}\r\n          onResizeStop={(newLayout) => {\r\n            setIsDotGridVisible(false);\r\n            dispatch(\r\n              updateDashboardLayout({\r\n                id: thisId,\r\n                newLayout: newLayout,\r\n              })\r\n            );\r\n          }}\r\n          onLayoutChange={(layout) => {\r\n            if (!layout.find((li) => li.i === \"__dropping-elem__\")) {\r\n              setLayout(() => layout);\r\n              // dispatch(\r\n              // \tupdateDashboardLayout({\r\n              // \t\tid: thisId,\r\n              // \t\tnewLayout: layout,\r\n              // \t})\r\n              // );\r\n            }\r\n            let h = 0;\r\n            layout.forEach((li) => {\r\n              if (li.y + li.h > h) h = li.y + li.h;\r\n            });\r\n            setHeight(() => h * (rowHeight + margin) + margin);\r\n          }}\r\n          droppingItem={\r\n            newItemType !== undefined\r\n              ? {\r\n                  i: \"__dropping-elem__\",\r\n                  w: newItemType.w,\r\n                  h: newItemType.h,\r\n                }\r\n              : { i: \"__dropping-elem__\", w: 3, h: 3 }\r\n          }\r\n          onDrop={(layout, item) => {\r\n            if (newItemType !== undefined) {\r\n              const droppingElemIndex = layout.findIndex(\r\n                (item) => item.i === \"__dropping-elem__\"\r\n              );\r\n              if (droppingElemIndex > -1) {\r\n                let num = 0;\r\n                for (let i = 0; i < layout.length; i++) {\r\n                  num += layout[i].i.split(\"-\")[0] === state.type ? 1 : 0;\r\n                }\r\n                const newLayoutItem = {\r\n                  ...item,\r\n                  ...newItemType,\r\n                  i: `${state.type}-${dashboard.id}-${num}`,\r\n                };\r\n                const newLayout = layout;\r\n                newLayout.splice(droppingElemIndex, 1, newLayoutItem);\r\n                dispatch(\r\n                  dropLayout({\r\n                    id: thisId,\r\n                    // newLayoutItem: newLI,\r\n                    newLayout,\r\n                  })\r\n                );\r\n              }\r\n              // setLayout((prev) => {\r\n              // \tconst newLayout = [...prev, newLI].sort(\r\n              // \t\t(a, b) => {\r\n              // \t\t\tif (a.y < b.y) return -1;\r\n              // \t\t\tif (a.y > b.y) return 1;\r\n              // \t\t\tif (a.y === b.y) {\r\n              // \t\t\t\tif (a.x < b.x) return -1;\r\n              // \t\t\t\tif (a.x > b.x) return 1;\r\n              // \t\t\t}\r\n              // \t\t\treturn 0;\r\n              // \t\t}\r\n              // \t);\r\n              // \treturn newLayout;\r\n              // });\r\n            }\r\n          }}\r\n        >\r\n          {layout.map((widget) => {\r\n            const widgetEl = getWidgetFromId(\r\n              widget.i.split(\"-\")[0] as WidgetIdType\r\n            );\r\n            return (\r\n              <div\r\n                key={widget.i}\r\n                className={\r\n                  widget.i === \"__dropping-elem__\" ? \"\" : \"\" // classes.selector\r\n                }\r\n              >\r\n                {canEdit && widgetEl ? (\r\n                  <Actions dashboardId={dashboard.id} widgetId={widget.i} />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {widgetEl ? widgetEl : \"\"}\r\n              </div>\r\n            );\r\n          })}\r\n        </ReactGridLayout>\r\n      </ErrorBoundary>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Actions({\r\n  dashboardId,\r\n  widgetId,\r\n}: {\r\n  dashboardId: string;\r\n  widgetId: string;\r\n}) {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <Box position=\"absolute\" right={0}>\r\n      <ButtonGroup size=\"small\" variant=\"text\">\r\n        <Button\r\n          onClick={() => dispatch(removeWidget({ dashboardId, widgetId }))}\r\n        >\r\n          <Close />\r\n        </Button>\r\n      </ButtonGroup>\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n  createStyles,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useContext } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { AppContext } from \"../../../context/AppContext\";\r\nimport { selectDashboardById } from \"../../../redux/dashboardSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport { WidgetIdType, widgetList } from \"../../../redux/widgetSlice\";\r\nimport Dashboard from \"./Dashboard\";\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      position: \"absolute\",\r\n      width: drawerWidth,\r\n    },\r\n    drawerContainer: {\r\n      overflow: \"auto\",\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      position: \"relative\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function EditDashboard() {\r\n  const location = useLocation();\r\n  const dashboardId = location.pathname.split(\"/\")[3];\r\n  const dashboard = useAppSelector(selectDashboardById(dashboardId));\r\n\r\n  const classes = useStyles();\r\n\r\n  if (dashboard === undefined)\r\n    return <Typography variant=\"h4\">404: No such dashboard found</Typography>;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <CssBaseline /> */}\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerContainer}>\r\n          <List>\r\n            <ListItem>\r\n              <Typography variant=\"h5\">Editing Dashboard:</Typography>\r\n            </ListItem>\r\n            <ListItem>\r\n              <Typography variant=\"h6\" color=\"textSecondary\">\r\n                {dashboard?.name}\r\n              </Typography>\r\n            </ListItem>\r\n            {/* <ListItem>\r\n              <ButtonGroup fullWidth color=\"primary\" disableElevation>\r\n                <Tooltip title=\"Does not work LOL\">\r\n                  <Button startIcon={<Cancel />}>Cancel</Button>\r\n                </Tooltip>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  startIcon={<Save />}\r\n                  onClick={() => {\r\n                    history.push(`/dashboard/${dashboardId}`);\r\n                    enqueueSnackbar(\r\n                      <>\r\n                        Successfully saved dashboard:&nbsp;\r\n                        <strong>{dashboard.name}</strong>\r\n                      </>,\r\n                      { variant: \"success\" }\r\n                    );\r\n                  }}\r\n                >\r\n                  Save\r\n                </Button>\r\n              </ButtonGroup>\r\n            </ListItem> */}\r\n            <Divider />\r\n            {widgetList.map((widget) => (\r\n              <WidgetListItem\r\n                key={`widget-list-item-${widget.title}`}\r\n                title={widget.title}\r\n                widgetType={widget.i}\r\n              />\r\n            ))}\r\n          </List>\r\n        </div>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <Dashboard dashboard={dashboard} canEdit />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction WidgetListItem({\r\n  title,\r\n  widgetType,\r\n}: {\r\n  title: string;\r\n  widgetType: WidgetIdType;\r\n}) {\r\n  const { setType, clearType } = useContext(AppContext);\r\n\r\n  return (\r\n    <div\r\n      draggable={true}\r\n      onDragStart={(e) => {\r\n        e.dataTransfer.setData(\"text/plain\", \"\");\r\n        setType(widgetType);\r\n      }}\r\n      onDragEnd={() => {\r\n        clearType();\r\n      }}\r\n    >\r\n      <ListItem button disableRipple disableTouchRipple>\r\n        <ListItemText\r\n          primary={title}\r\n          primaryTypographyProps={{ noWrap: true }}\r\n        />\r\n      </ListItem>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { Color } from \"@material-ui/lab\";\r\nimport { createStyles } from \"@material-ui/styles\";\r\n\r\nexport type alertType = {\r\n  title: string;\r\n  text: JSX.Element;\r\n  severity: Color;\r\n};\r\n\r\nexport function createAlert(\r\n  title: string,\r\n  text: JSX.Element,\r\n  severity: Color\r\n): alertType {\r\n  return { title, text, severity };\r\n}\r\n\r\nexport type controlType = {\r\n  control: string;\r\n  description: string;\r\n  severity: string;\r\n  violations: number;\r\n  needsReview: boolean;\r\n};\r\n\r\nexport function createControl(\r\n  control: string,\r\n  description: string,\r\n  severity: string,\r\n  violations: number,\r\n  needsReview: boolean\r\n): controlType {\r\n  return { control, description, severity, violations, needsReview };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      // display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function AllOverviews() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {/* <FrameworkOverview\r\n\t\t\t\ttitle='PCI'\r\n\t\t\t\tpercent={0.78}\r\n\t\t\t\talerts={PCIAlerts}\r\n\t\t\t\tcontrols={PCIControls}\r\n\t\t\t/>\r\n\t\t\t<FrameworkOverview\r\n\t\t\t\ttitle='ISO27001'\r\n\t\t\t\tpercent={0.56}\r\n\t\t\t\talerts={ISOAlerts}\r\n\t\t\t\tcontrols={ISOControls}\r\n\t\t\t/>\r\n\t\t\t<FrameworkOverview\r\n\t\t\t\ttitle='NIST'\r\n\t\t\t\tpercent={0.9}\r\n\t\t\t\talerts={NISTAlerts}\r\n\t\t\t\tcontrols={NISTControls}\r\n\t\t\t/> */}\r\n    </div>\r\n  );\r\n}\r\n","import { AvailableFramework } from \"../redux/frameworkSlice\";\r\n\r\nexport const AvailableFrameworks: AvailableFramework[] = [\r\n  {\r\n    id: \"pci-framework-id\",\r\n    name: \"PCI DSS\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"iso27001-framework-id\",\r\n    name: \"ISO 27001\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nist-framework-id\",\r\n    name: \"NIST\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"cobit-framework-id\",\r\n    name: \"CobiT\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"cis-framework-id\",\r\n    name: \"CIS Controls\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nist80053-framework-id\",\r\n    name: \"NIST 800-53\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"iso27002-framework-id\",\r\n    name: \"ISO 27002\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"isa-framework-id\",\r\n    name: \"ISA Framework\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"aicpa-framework-id\",\r\n    name: \"AICPA Trust Services Criteria\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"hitrust-framework-id\",\r\n    name: \"HITRUST\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"scf-framework-id\",\r\n    name: \"Secure Controls Framework\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nymity-framework-id\",\r\n    name: \"Nymity Privacy Framework\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nistir-framework-id\",\r\n    name: \"NISTIR 8204\",\r\n    link: \"example.com\",\r\n  },\r\n];\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  createStyles,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  FilledInput,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  makeStyles,\r\n  Table,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Add, MoreVert, Search } from \"@material-ui/icons\";\r\nimport { format, parse } from \"date-fns\";\r\nimport Fuse from \"fuse.js\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { AvailableFrameworks } from \"../../../data/AvailableFrameworks\";\r\nimport {\r\n  add,\r\n  AvailableFramework,\r\n  Framework,\r\n  selectFrameworks,\r\n} from \"../../../redux/frameworkSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: theme.spacing(1.5),\r\n      margin: 0,\r\n      width: \"100%\",\r\n    },\r\n    frameworkSummary: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      padding: theme.spacing(2),\r\n    },\r\n    tableHeader: {\r\n      backgroundColor: theme.palette.background.default,\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  })\r\n);\r\n\r\nexport default function FrameworkAdmin() {\r\n  const classes = useStyles();\r\n\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n  return (\r\n    <Grid className={classes.container} container spacing={3}>\r\n      <AddFramework />\r\n      {frameworks.map((frame) => (\r\n        <FrameworkSummary\r\n          key={`framework-summary-${frame.id}`}\r\n          framework={frame}\r\n        />\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction AddFramework() {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid item xs={12} md={12}>\r\n        <CardHeader\r\n          title=\"Active Frameworks\"\r\n          titleTypographyProps={{ variant: \"h4\" }}\r\n          action={\r\n            <ButtonGroup color=\"primary\">\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<Add />}\r\n                onClick={handleClickOpen}\r\n              >\r\n                Add Framework\r\n              </Button>\r\n            </ButtonGroup>\r\n          }\r\n        />\r\n      </Grid>\r\n      <AddFrameworkDialog isOpen={open} close={handleClose} />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction FrameworkSummary({ framework }: { framework: Framework }) {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Grid item xs={12} md={4}>\r\n      <Card>\r\n        <CardHeader\r\n          title={framework.name}\r\n          // titleTypographyProps={{ variant: \"h4\" }}\r\n          action={\r\n            <IconButton>\r\n              <MoreVert />\r\n            </IconButton>\r\n          }\r\n        />\r\n        <CardContent>\r\n          <Grid container direction=\"column\" spacing={2}>\r\n            <SubItem title=\"DATE ADOPTED\">\r\n              <Typography>\r\n                {format(\r\n                  parse(framework.dateAdopted, \"T\", new Date()),\r\n                  \"hh:mm bbb, eee LLLL Mo\"\r\n                )}\r\n              </Typography>\r\n            </SubItem>\r\n            <SubItem title=\"LAST MODIFIED\">\r\n              <Typography>\r\n                {format(\r\n                  parse(framework.dateAdopted, \"T\", new Date()),\r\n                  \"hh:mm bbb, eee LLLL Mo\"\r\n                )}\r\n              </Typography>\r\n            </SubItem>\r\n            <SubItem title=\"ACTIONS\">\r\n              <Button\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() =>\r\n                  history.push(`/admin/framework/manage/${framework.id}`)\r\n                }\r\n              >\r\n                Manage\r\n              </Button>\r\n              <Box marginTop={1}>\r\n                <ButtonGroup fullWidth>\r\n                  <Button\r\n                    onClick={() => history.push(`/framework/${framework.id}`)}\r\n                  >\r\n                    View\r\n                  </Button>\r\n                  <Button>Renew</Button>\r\n                  <Button>Remove</Button>\r\n                </ButtonGroup>\r\n              </Box>\r\n            </SubItem>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction SubItem({ title, children }: { title: string; children: any }) {\r\n  return (\r\n    <Grid item>\r\n      <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n        {title}\r\n      </Typography>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction AddFrameworkDialog({\r\n  isOpen,\r\n  close,\r\n}: {\r\n  isOpen: boolean;\r\n  close: () => void;\r\n}) {\r\n  const [selectedFramework, setSelectedFramework] =\r\n    useState<AvailableFramework | null>(null);\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={close}\r\n      aria-labelledby=\"form-dialog-title\"\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      style={{ transition: \"0.3s\" }}\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">Add a Framework</DialogTitle>\r\n      <DialogContent style={{ paddingTop: 0 }}>\r\n        {selectedFramework === null ? (\r\n          <AvailableFrameworkList setSelectedFramework={setSelectedFramework} />\r\n        ) : (\r\n          <ValidateFramework\r\n            framework={selectedFramework}\r\n            back={() => setSelectedFramework(null)}\r\n            close={close}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={close} color=\"primary\" variant=\"outlined\">\r\n          Cancel\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction AvailableFrameworkList({\r\n  setSelectedFramework,\r\n}: {\r\n  setSelectedFramework: (framework: AvailableFramework) => void;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const options: Fuse.IFuseOptions<AvailableFramework> = {\r\n    keys: [\"name\"],\r\n    threshold: 0.3,\r\n  };\r\n  const fuse = new Fuse(AvailableFrameworks, options);\r\n\r\n  return (\r\n    <>\r\n      <Box width=\"100%\">\r\n        <FormControl fullWidth>\r\n          <InputLabel htmlFor=\"add-framework-search-field\">\r\n            <Box paddingLeft={3}>Search</Box>\r\n          </InputLabel>\r\n          <FilledInput\r\n            id=\"add-framework-search-field\"\r\n            type=\"search\"\r\n            fullWidth\r\n            endAdornment={<Search />}\r\n            value={search}\r\n            onChange={(event) => {\r\n              setSearch(event.target.value);\r\n            }}\r\n          />\r\n        </FormControl>\r\n      </Box>\r\n      <Table stickyHeader>\r\n        <TableHead className={classes.tableHeader}>\r\n          <TableCell>Framework</TableCell>\r\n          <TableCell>Link</TableCell>\r\n          <TableCell></TableCell>\r\n        </TableHead>\r\n        {(search.length === 0\r\n          ? AvailableFrameworks\r\n          : fuse.search(search).map((result) => result.item)\r\n        ).map((framework) => (\r\n          <TableRow>\r\n            <TableCell>{framework.name}</TableCell>\r\n            <TableCell>{framework.link}</TableCell>\r\n            <TableCell padding=\"none\" align=\"right\">\r\n              <Button\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={() => setSelectedFramework(framework)}\r\n              >\r\n                Add\r\n              </Button>\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n      </Table>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ValidateFramework({\r\n  framework,\r\n  back,\r\n  close,\r\n}: {\r\n  framework: AvailableFramework;\r\n  back: () => void;\r\n  close: () => void;\r\n}) {\r\n  const dispatch = useAppDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [license, setLicense] = useState(\"\");\r\n  const [error, setError] =\r\n    useState<\"Cannot be empty\" | \"Invalid License Key\" | \"success\">(\"success\");\r\n\r\n  const handleAdd = () => {\r\n    console.log(license.length, error);\r\n    if (license.length === 0) setError(() => \"Cannot be empty\");\r\n    else if (error !== \"Invalid License Key\")\r\n      setError(() => \"Invalid License Key\");\r\n    else {\r\n      setError(\"success\");\r\n      dispatch(\r\n        add({\r\n          newFramework: {\r\n            id: framework.id,\r\n            name: framework.name,\r\n            alerts: [],\r\n            controls: [],\r\n            dateAdopted: format(new Date(), \"T\"),\r\n          },\r\n        })\r\n      );\r\n      enqueueSnackbar(\r\n        <>\r\n          Successfully added new framework:&nbsp;\r\n          <strong>{framework.name}</strong>\r\n        </>,\r\n        { variant: \"success\" }\r\n      );\r\n      close();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DialogContentText>\r\n        Please enter your license key for <strong>{framework.name}</strong>\r\n      </DialogContentText>\r\n      <FormControl fullWidth>\r\n        <TextField\r\n          type=\"enter\"\r\n          variant=\"outlined\"\r\n          label=\"License Key\"\r\n          error={error !== \"success\"}\r\n          helperText={error !== \"success\" && error}\r\n          id=\"add-framework-license-field\"\r\n          fullWidth\r\n          inputProps={{\r\n            endAdornment: <Search />,\r\n          }}\r\n          value={license}\r\n          onChange={(event) => {\r\n            setLicense(event.target.value);\r\n          }}\r\n        />\r\n      </FormControl>\r\n      <DialogActions>\r\n        <Button onClick={back} color=\"primary\">\r\n          Back\r\n        </Button>\r\n        <Button onClick={handleAdd} color=\"primary\" variant=\"contained\">\r\n          Add\r\n        </Button>\r\n      </DialogActions>\r\n    </>\r\n  );\r\n}\r\n","import {\r\n  Accordion,\r\n  AccordionDetails,\r\n  AccordionSummary,\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  Checkbox,\r\n  Chip,\r\n  Collapse,\r\n  createStyles,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Link,\r\n  makeStyles,\r\n  TextField,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  CheckCircle,\r\n  Close,\r\n  Delete,\r\n  ExpandMore,\r\n  NewReleases,\r\n  NoteAdd,\r\n} from \"@material-ui/icons\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport classNames from \"classnames\";\r\nimport { ChangeEvent, useState } from \"react\";\r\nimport {\r\n  Control as ControlType,\r\n  countActiveControlDocuments,\r\n  countActiveControlProcesses,\r\n  countActiveControls,\r\n  countAllControls,\r\n  countCompliantControls,\r\n  countValidControlDocuments,\r\n  countValidControlProcesses,\r\n  DataItem,\r\n  Framework as FrameworkType,\r\n  getControlsCompliance,\r\n  RequiredDocument,\r\n  RequiredProcess,\r\n  updateControl,\r\n} from \"../../../redux/frameworkSlice\";\r\nimport { useAppDispatch } from \"../../../redux/hooks\";\r\nimport Module from \"../../Module\";\r\nimport PieChartRating from \"../../widgets/PieChartRating\";\r\nimport AlertList from \"./AlertList\";\r\nimport FrameworkSummary from \"./FrameworkSummary\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: theme.spacing(1.5),\r\n      margin: 0,\r\n      width: \"100%\",\r\n    },\r\n    accordion: {\r\n      // transition: \"0.15s\",\r\n      \"&::after\": {\r\n        transform: \"scale(0)\",\r\n        transformOrigin: \"left\",\r\n        transition: \"0.15s\",\r\n        content: '\" \"',\r\n        position: \"absolute\",\r\n        height: `calc(100% - ${theme.spacing(2)}px)`,\r\n        width: 3,\r\n        top: theme.spacing(1),\r\n        left: 0,\r\n        backgroundColor: theme.palette.primary.main,\r\n        borderRadius: theme.shape.borderRadius,\r\n      },\r\n      \"&.open\": {\r\n        // paddingLeft: theme.spacing(2.5),\r\n        \"&::after\": {\r\n          transform: \"scaleX(1)\",\r\n        },\r\n      },\r\n    },\r\n    dialog: {\r\n      // width: \"80vw\",\r\n      height: \"75vh\",\r\n      overflow: \"visible\",\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Framework({\r\n  framework,\r\n  canEdit = false,\r\n}: {\r\n  framework: FrameworkType;\r\n  canEdit?: boolean;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const controls = canEdit\r\n    ? framework.controls\r\n    : framework.controls.filter((item) => item.isActive);\r\n\r\n  const numActive = countActiveControls(controls);\r\n  const numCompliant = countCompliantControls(controls);\r\n\r\n  return (\r\n    <Grid className={classes.container} container spacing={3}>\r\n      {canEdit && <EditHeader framework={framework} />}\r\n      {!canEdit && (\r\n        <Grid item xs={4} style={{ display: \"flex\" }}>\r\n          <Module title=\"COMPLIANCE\" cardStyles={{ flexGrow: \"unset\" }}>\r\n            <Box padding={2}>\r\n              <FrameworkSummary\r\n                title={framework.name}\r\n                subtitle=\"\"\r\n                percent={numCompliant / numActive}\r\n                numControls={numActive}\r\n                numControlsCompliant={numCompliant}\r\n                numAlerts={framework.alerts.length}\r\n                numViolations={numActive - numCompliant}\r\n              />\r\n            </Box>\r\n          </Module>\r\n        </Grid>\r\n      )}\r\n      {!canEdit && (\r\n        <Grid item xs={8}>\r\n          <Module title=\"ALERTS\">\r\n            <Box padding={2} maxHeight=\"60vh\" overflow=\"auto\">\r\n              <AlertList alerts={framework.alerts} />\r\n            </Box>\r\n          </Module>\r\n        </Grid>\r\n      )}\r\n      <Grid item xs={12}>\r\n        <Module title=\"CONTROLS\" useCard={false}>\r\n          <Box>\r\n            <ControlList\r\n              frameworkId={framework.id}\r\n              controls={controls}\r\n              canEdit={canEdit}\r\n            />\r\n          </Box>\r\n        </Module>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction EditHeader({ framework }: { framework: FrameworkType }) {\r\n  const total = countAllControls(framework.controls);\r\n  const numActive = countActiveControls(framework.controls);\r\n\r\n  const totalDocs = countActiveControlDocuments(framework.controls);\r\n  const numDocs = countValidControlDocuments(framework.controls);\r\n\r\n  const totalProcs = countActiveControlProcesses(framework.controls);\r\n  const numProcs = countValidControlProcesses(framework.controls);\r\n\r\n  return (\r\n    <Grid item xs={12} container spacing={3}>\r\n      <Grid item xs={12}>\r\n        <Box width=\"100%\">\r\n          <Alert severity=\"warning\">\r\n            <Typography variant=\"body1\">\r\n              You are editing framework: <strong>{framework.name}</strong>\r\n            </Typography>\r\n          </Alert>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item xs={12} container>\r\n        <Box display=\"flex\" width=\"100%\" justifyContent=\"space-between\">\r\n          <Box>\r\n            <Box display=\"flex\">\r\n              <PieChartRating\r\n                inverse\r\n                variant=\"tiny\"\r\n                percent={numDocs / totalDocs}\r\n              />\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"textSecondary\"\r\n                style={{ marginLeft: 16 }}\r\n              >\r\n                <strong>{numDocs}</strong> of {totalDocs} Documents Present\r\n              </Typography>\r\n            </Box>\r\n            <Box display=\"flex\">\r\n              <PieChartRating\r\n                inverse\r\n                variant=\"tiny\"\r\n                percent={numProcs / totalProcs}\r\n              />\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"textSecondary\"\r\n                style={{ marginLeft: 16 }}\r\n              >\r\n                <strong>{numProcs}</strong> of {totalProcs} Processes Present\r\n              </Typography>\r\n            </Box>\r\n            {/* <Box display=\"flex\">\r\n              <PieChartRating inverse variant=\"tiny\" percent={34 / 42} />\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"textSecondary\"\r\n                style={{ marginLeft: 16 }}\r\n              >\r\n                <strong>34</strong> of 42 Inputs Set\r\n              </Typography>\r\n            </Box> */}\r\n          </Box>\r\n          <Box>\r\n            <Typography variant=\"h4\" color=\"textSecondary\">\r\n              <strong>{numActive}</strong> of {total} Controls Active\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ControlList({\r\n  frameworkId,\r\n  controls,\r\n  canEdit,\r\n}: {\r\n  frameworkId: string;\r\n  controls: ControlType[];\r\n  canEdit: boolean;\r\n}) {\r\n  return (\r\n    <>\r\n      {controls.map((control, index, arr) => (\r\n        <Control\r\n          frameworkId={frameworkId}\r\n          canEdit={canEdit}\r\n          control={control}\r\n          last={index === arr.length - 1}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Control({\r\n  frameworkId,\r\n  control,\r\n  square = false,\r\n  last = false,\r\n  canEdit,\r\n}: {\r\n  frameworkId: string;\r\n  control: ControlType;\r\n  square?: boolean;\r\n  last?: boolean;\r\n  canEdit: boolean;\r\n}) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const dispatch = useAppDispatch();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, checked: boolean) => {\r\n    dispatch(\r\n      updateControl({\r\n        frameworkId: frameworkId,\r\n        controlId: control.id,\r\n        newControl: { ...control, isActive: checked },\r\n      })\r\n    );\r\n  };\r\n\r\n  const isValid: boolean =\r\n    control.nestedControls !== undefined\r\n      ? countActiveControlDocuments(control.nestedControls) ===\r\n          countValidControlDocuments(control.nestedControls) &&\r\n        countActiveControlProcesses(control.nestedControls) ===\r\n          countValidControlProcesses(control.nestedControls)\r\n      : !control.requiredDocuments\r\n          ?.map((item) => item.document === undefined)\r\n          .includes(true) &&\r\n        !control.requiredProcesses\r\n          ?.map((item) => item.process === undefined)\r\n          .includes(true);\r\n\r\n  const nestedControls = canEdit\r\n    ? control.nestedControls\r\n    : control.nestedControls?.filter((item) => item.isActive);\r\n\r\n  return (\r\n    <>\r\n      <Accordion\r\n        expanded={open}\r\n        onChange={(e) => setOpen((prev) => !prev)}\r\n        style={{\r\n          marginBottom: control.nestedControls ? 0 : undefined,\r\n          borderBottomLeftRadius: last ? theme.shape.borderRadius : undefined,\r\n          borderBottomRightRadius: last ? theme.shape.borderRadius : undefined,\r\n          backgroundColor:\r\n            control.isActive ||\r\n            countActiveControls(control?.nestedControls || []) > 0\r\n              ? undefined\r\n              : theme.palette.background.default,\r\n        }}\r\n        square={square}\r\n      >\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMore />}\r\n          className={classNames(classes.accordion, { open: open })}\r\n        >\r\n          <Grid container spacing={3}>\r\n            {canEdit && (\r\n              <Grid item xs={1}>\r\n                {control.nestedControls === undefined ? (\r\n                  <Checkbox\r\n                    onClick={(event) => event.stopPropagation()}\r\n                    onFocus={(event) => event.stopPropagation()}\r\n                    checked={control.isActive}\r\n                    onChange={handleChange}\r\n                  />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </Grid>\r\n            )}\r\n            <Grid item xs={1}>\r\n              <Typography color=\"textSecondary\" variant=\"subtitle2\">\r\n                {control.id}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={canEdit ? 8 : 9}>\r\n              <Typography variant=\"body1\">{control.description}</Typography>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={2}\r\n              container\r\n              spacing={1}\r\n              justify=\"space-between\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Grid item>\r\n                <Chip\r\n                  label={control.severity}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Grid>\r\n              <Grid item>\r\n                {canEdit ? (\r\n                  isValid ? (\r\n                    <CheckCircle\r\n                      style={{ color: theme.palette.success.main }}\r\n                    />\r\n                  ) : (\r\n                    <NewReleases color=\"error\" />\r\n                  )\r\n                ) : (\r\n                  <PieChartRating\r\n                    inverse\r\n                    variant=\"tiny\"\r\n                    percent={\r\n                      control.compliance ||\r\n                      getControlsCompliance(control.nestedControls || [])\r\n                    }\r\n                  />\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </AccordionSummary>\r\n        {control.requiredDocuments && (\r\n          <AccordionDetails>\r\n            <Box width=\"100%\" boxSizing=\"border-box\">\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                style={{ backgroundColor: \"#f9f7ff\" }}\r\n              >\r\n                {control.requiredDocuments.map((reqDoc) => (\r\n                  <ControlRequiredDocument reqDoc={reqDoc} canEdit={canEdit} />\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          </AccordionDetails>\r\n        )}\r\n        {control.requiredProcesses && (\r\n          <AccordionDetails>\r\n            <Box width=\"100%\" boxSizing=\"border-box\">\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                style={{ backgroundColor: \"#f9f7ff\" }}\r\n              >\r\n                {control.requiredProcesses.map((reqProc) => (\r\n                  <ControlRequiredProcess reqProc={reqProc} canEdit={canEdit} />\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          </AccordionDetails>\r\n        )}\r\n        {control.dataItems && (\r\n          <AccordionDetails>\r\n            <Box width=\"100%\" boxSizing=\"border-box\">\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                // style={{ backgroundColor: \"#f9f7ff\" }}\r\n              >\r\n                {control.dataItems.map((item) => (\r\n                  <ControlDataItem item={item} canEdit={canEdit} />\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          </AccordionDetails>\r\n        )}\r\n      </Accordion>\r\n      {nestedControls !== undefined && (\r\n        <Collapse\r\n          in={open}\r\n          style={{\r\n            marginBottom: open ? 16 : undefined,\r\n            paddingLeft: 60,\r\n            paddingRight: theme.shape.borderRadius * 2,\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <Divider light />\r\n          {nestedControls.map((control, index, arr) => (\r\n            <Control\r\n              frameworkId={frameworkId}\r\n              canEdit={canEdit}\r\n              control={control}\r\n              square={index === 0}\r\n              last={index === arr.length - 1}\r\n            />\r\n          ))}\r\n        </Collapse>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ControlRequiredDocument({\r\n  reqDoc,\r\n  canEdit,\r\n}: {\r\n  reqDoc: RequiredDocument;\r\n  canEdit: boolean;\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Divider style={{ width: \"100%\" }} />\r\n      <Grid item xs={12} container spacing={3}>\r\n        <Grid item xs={1} />\r\n        <RequirementSubItem title=\"DOCUMENT\">\r\n          <Typography variant=\"body1\">{reqDoc.name}</Typography>\r\n        </RequirementSubItem>\r\n        {reqDoc.document ? (\r\n          <>\r\n            <RequirementSubItem title=\"FILE NAME\">\r\n              <Link\r\n                component=\"button\"\r\n                variant=\"body1\"\r\n                onClick={handleClickOpen}\r\n              >\r\n                {reqDoc.document.name}\r\n              </Link>\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"STATUS\">\r\n              <Chip label={reqDoc.document.status} size=\"small\" />\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"ACTIONS\">\r\n              <ButtonGroup size=\"small\">\r\n                <Button onClick={handleClickOpen}>View</Button>\r\n                <Button>Share</Button>\r\n                <Button>Download</Button>\r\n                {canEdit && <Button startIcon={<Delete />}>Delete</Button>}\r\n              </ButtonGroup>\r\n            </RequirementSubItem>\r\n            <PdfDialog\r\n              title={reqDoc.document.name}\r\n              open={open}\r\n              link={reqDoc.document.link}\r\n              handleClose={handleClose}\r\n            />\r\n          </>\r\n        ) : (\r\n          <Grid item alignContent=\"center\">\r\n            {canEdit ? (\r\n              <Button\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                fullWidth\r\n                startIcon={<NoteAdd />}\r\n              >\r\n                ADD A DOCUMENT\r\n              </Button>\r\n            ) : (\r\n              <Typography>NO DOCUMENT FOUND</Typography>\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ControlRequiredProcess({\r\n  reqProc,\r\n  canEdit,\r\n}: {\r\n  reqProc: RequiredProcess;\r\n  canEdit: boolean;\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Divider style={{ width: \"100%\" }} />\r\n      <Grid item xs={12} container spacing={3}>\r\n        <Grid item xs={1} />\r\n        <RequirementSubItem title=\"PROCESS\">\r\n          <Typography variant=\"body1\">{reqProc.name}</Typography>\r\n        </RequirementSubItem>\r\n        {reqProc.process ? (\r\n          <>\r\n            <RequirementSubItem title=\"FILE NAME\">\r\n              <Link\r\n                component=\"button\"\r\n                variant=\"body1\"\r\n                onClick={handleClickOpen}\r\n              >\r\n                {reqProc.process.name}\r\n              </Link>\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"STATUS\">\r\n              <Chip label={reqProc.process.status} size=\"small\" />\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"ACTIONS\">\r\n              <ButtonGroup size=\"small\">\r\n                <Button onClick={handleClickOpen}>View</Button>\r\n                <Button>Share</Button>\r\n                <Button>Download</Button>\r\n                {canEdit && <Button startIcon={<Delete />}>Delete</Button>}\r\n              </ButtonGroup>\r\n            </RequirementSubItem>\r\n            <PdfDialog\r\n              title={reqProc.process.name}\r\n              open={open}\r\n              link={reqProc.process.link}\r\n              handleClose={handleClose}\r\n            />\r\n          </>\r\n        ) : (\r\n          <Grid item xs container alignContent=\"center\">\r\n            {canEdit ? (\r\n              <Button\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                fullWidth\r\n                startIcon={<NoteAdd />}\r\n              >\r\n                ADD A PROCESS\r\n              </Button>\r\n            ) : (\r\n              <Typography>NO PROCESS FOUND</Typography>\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ControlDataItem({\r\n  item,\r\n  canEdit,\r\n}: {\r\n  item: DataItem;\r\n  canEdit: boolean;\r\n}) {\r\n  const [value, setValue] = useState(item.value);\r\n\r\n  const getInput = () => {\r\n    if (item.type === \"number\")\r\n      return (\r\n        <TextField\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          value={value}\r\n          type={canEdit ? \"number\" : \"submit\"}\r\n          onChange={(e) => {\r\n            setValue(parseInt(e.target.value));\r\n          }}\r\n        />\r\n      );\r\n\r\n    return <></>;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Divider style={{ width: \"100%\" }} />\r\n      <Grid item xs={12} container spacing={3}>\r\n        <Grid item xs={1} />\r\n        <RequirementSubItem title=\"DATA ITEM\">\r\n          <Typography variant=\"body1\">{item.name}</Typography>\r\n        </RequirementSubItem>\r\n        <Grid item xs container alignContent=\"center\">\r\n          {getInput()}\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction RequirementSubItem({\r\n  title,\r\n  children,\r\n}: {\r\n  title: string;\r\n  children: any;\r\n}) {\r\n  return (\r\n    <Grid item xs container direction=\"column\">\r\n      <Grid item>\r\n        <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n          {title}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item>{children}</Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction PdfDialog({\r\n  title,\r\n  open,\r\n  link,\r\n  handleClose,\r\n}: {\r\n  title: string;\r\n  open: boolean;\r\n  link: string;\r\n  handleClose: () => void;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open} fullWidth maxWidth=\"md\">\r\n      <DialogTitle\r\n        id=\"simple-dialog-title\"\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        {title}\r\n        <IconButton onClick={handleClose} className={classes.closeButton}>\r\n          <Close />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent className={classes.dialog}>\r\n        <object\r\n          data={link}\r\n          // type='application/pdf'\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n        >\r\n          <p>\r\n            link to <a href={link}>link to{link}</a>\r\n          </p>\r\n        </object>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {\r\n  Button,\r\n  ButtonBase,\r\n  ButtonGroup,\r\n  Checkbox,\r\n  createStyles,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  fade,\r\n  Grid,\r\n  GridSize,\r\n  IconButton,\r\n  Link,\r\n  makeStyles,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { AssignmentTurnedIn, Close, MoreVert } from \"@material-ui/icons\";\r\nimport ReactJson from \"react-json-view\";\r\nimport {\r\n  ThreatFeed,\r\n  selectThreatFeeds,\r\n  update,\r\n} from \"../../../redux/threatFeedSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\nimport { format, parse } from \"date-fns\";\r\nimport { useState } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: theme.spacing(3),\r\n      width: \"100%\",\r\n    },\r\n    threatFeedSummary: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      padding: theme.spacing(2),\r\n    },\r\n    addNew: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      width: \"100%\",\r\n      padding: theme.spacing(3.5),\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.primary.light, 0.1),\r\n      border: `3px dashed ${fade(theme.palette.primary.main, 0.1)}`,\r\n      color: fade(theme.palette.primary.dark, 0.7),\r\n      fontSize: theme.typography.h6.fontSize,\r\n    },\r\n    dialog: {\r\n      // width: \"80vw\",\r\n      height: \"75vh\",\r\n      overflow: \"visible\",\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function ManageThreatFeed() {\r\n  const classes = useStyles();\r\n\r\n  const threatFeeds = useAppSelector(selectThreatFeeds);\r\n\r\n  return (\r\n    <Grid className={classes.container} container spacing={2}>\r\n      <AddNewButton />\r\n      {threatFeeds.map((dash) => (\r\n        <ThreatFeedSummary\r\n          key={`threatFeed-summary-${dash.id}`}\r\n          threatFeed={dash}\r\n        />\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction AddNewButton() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid item xs={12}>\r\n      <ButtonBase className={classes.addNew}>\r\n        Add New Threat Intelligence Feed+\r\n      </ButtonBase>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ThreatFeedSummary({ threatFeed }: { threatFeed: ThreatFeed }) {\r\n  const classes = useStyles();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Grid item xs={12}>\r\n      <Paper className={classes.threatFeedSummary}>\r\n        <Grid container direction=\"row\" spacing={2}>\r\n          <ThreatFeedSummaryItem title=\"ACTIVE\">\r\n            <Checkbox\r\n              checked={threatFeed.isActive}\r\n              color=\"primary\"\r\n              onChange={(e) => {\r\n                dispatch(\r\n                  update({\r\n                    id: threatFeed.id,\r\n                    newThreatFeed: {\r\n                      ...threatFeed,\r\n                      isActive: e.target.checked,\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n            />\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"NAME\">\r\n            <Typography>{threatFeed.name}</Typography>\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"URL\">\r\n            <Typography>\r\n              <Link href={threatFeed.url} rel=\"noopener noreferrer\">\r\n                <Typography\r\n                  variant=\"body2\"\r\n                  style={{ maxWidth: \"200px\" }}\r\n                  noWrap\r\n                >\r\n                  {threatFeed.url}\r\n                </Typography>\r\n              </Link>\r\n            </Typography>\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"LAST SYNCED\">\r\n            {format(\r\n              parse(threatFeed.lastSyncTimestamp, \"T\", new Date()),\r\n              \"hh:mm bbb, eee LLLL Mo\"\r\n            )}\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"POLL INTERVAL\">\r\n            {threatFeed.pollInterval}\r\n          </ThreatFeedSummaryItem>\r\n        </Grid>\r\n        <Divider flexItem orientation=\"vertical\" variant=\"middle\" />\r\n        <ThreatFeedSummaryItem title=\"ACTIONS\">\r\n          <ButtonGroup\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            disableElevation\r\n            size=\"small\"\r\n          >\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<AssignmentTurnedIn />}\r\n              onClick={handleClickOpen}\r\n            >\r\n              Test\r\n            </Button>\r\n            <Button>auth</Button>\r\n            <Button onClick={handleClickOpen}>\r\n              <MoreVert />\r\n            </Button>\r\n          </ButtonGroup>\r\n        </ThreatFeedSummaryItem>\r\n        <TestDialog\r\n          title={threatFeed.name}\r\n          open={open}\r\n          url={threatFeed.url}\r\n          handleClose={handleClose}\r\n        />\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ThreatFeedSummaryItem({\r\n  title,\r\n  children,\r\n  xs,\r\n}: {\r\n  title: string;\r\n  children: any;\r\n  xs?: GridSize;\r\n}) {\r\n  return (\r\n    <Grid\r\n      item\r\n      xs={xs || true}\r\n      container\r\n      direction=\"column\"\r\n      // alignItems='center'\r\n    >\r\n      <Grid item>\r\n        <Typography color=\"textSecondary\" variant=\"subtitle2\">\r\n          {title}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs container alignContent=\"center\">\r\n        {children}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction TestDialog({\r\n  title,\r\n  open,\r\n  url,\r\n  handleClose,\r\n}: {\r\n  title: string;\r\n  open: boolean;\r\n  url: string;\r\n  handleClose: () => void;\r\n}) {\r\n  const classes = useStyles();\r\n  const data = getJson();\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open} fullWidth maxWidth=\"md\">\r\n      <DialogTitle\r\n        id=\"simple-dialog-title\"\r\n        // classes={{ root: classes.dialog }}\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        Testing: {title}\r\n        <IconButton onClick={handleClose} className={classes.closeButton}>\r\n          <Close />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent className={classes.dialog}>\r\n        <ReactJson src={data} theme=\"monokai\" />\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst getJson = () => {\r\n  return {\r\n    response: {\r\n      numFound: 5418,\r\n      start: 0,\r\n      maxScore: 6.539637,\r\n      docs: [\r\n        {\r\n          id: \"10.1371/journal.pone.0000290\",\r\n          journal: \"PLoS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2007-03-14T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Rayna I. Kraeva\",\r\n            \"Dragomir B. Krastev\",\r\n            \"Assen Roguev\",\r\n            \"Anna Ivanova\",\r\n            \"Marina N. Nedelcheva-Veleva\",\r\n            \"Stoyno S. Stoynov\",\r\n          ],\r\n          abstract: [\r\n            \"Nucleic acids, due to their structural and chemical properties, can form double-stranded secondary structures that assist the transfer of genetic information and can modulate gene expression. However, the nucleotide sequence alone is insufficient in explaining phenomena like intron-exon recognition during RNA processing. This raises the question whether nucleic acids are endowed with other attributes that can contribute to their biological functions. In this work, we present a calculation of thermodynamic stability of DNA/DNA and mRNA/DNA duplexes across the genomes of four species in the genus Saccharomyces by nearest-neighbor method. The results show that coding regions are more thermodynamically stable than introns, 3-untranslated regions and intergenic sequences. Furthermore, open reading frames have more stable sense mRNA/DNA duplexes than the potential antisense duplexes, a property that can aid gene discovery. The lower stability of the DNA/DNA and mRNA/DNA duplexes of 3-untranslated regions and the higher stability of genes correlates with increased mRNA level. These results suggest that the thermodynamic stability of DNA/DNA and mRNA/DNA duplexes affects mRNA transcription.\",\r\n          ],\r\n          title_display:\r\n            \"Stability of mRNA/DNA and DNA/DNA Duplexes Affects mRNA Transcription\",\r\n          score: 6.539637,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pone.0154785\",\r\n          journal: \"PLOS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2016-05-04T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Choon Seok Oh\",\r\n            \"Jean Sippy\",\r\n            \"Bridget Charbonneau\",\r\n            \"Jennifer Crow Hutchinson\",\r\n            \"Olga Esther Mejia-Romero\",\r\n            \"Michael Barton\",\r\n            \"Priyal Patel\",\r\n            \"Rachel Sippy\",\r\n            \"Michael Feiss\",\r\n          ],\r\n          abstract: [\r\n            \"\\nDuring progeny assembly, viruses selectively package virion genomes from a nucleic acid pool that includes host nucleic acids. For large dsDNA viruses, including tailed bacteriophages and herpesviruses, immature viral DNA is recognized and translocated into a preformed icosahedral shell, the prohead. Recognition involves specific interactions between the viral packaging enzyme, terminase, and viral DNA recognition sites. Generally, viral DNA is recognized by terminases small subunit (TerS). The large terminase subunit (TerL) contains translocation ATPase and endonuclease domains. In phage lambda, TerS binds a sequence repeated three times in cosB, the recognition site. TerS binding to cosB positions TerL to cut the concatemeric DNA at the adjacent nicking site, cosN. TerL introduces staggered nicks in cosN, generating twelve bp cohesive ends. Terminase separates the cohesive ends and remains bound to the cosB-containing end, in a nucleoprotein structure called Complex I. Complex I docks on the proheads portal vertex and translocation ensues. DNA topology plays a role in the TerS-cosB interaction. Here we show that a site, I2, located between cosN and cosB, is critically important for an early DNA packaging step. I2 contains a complex static bend. I2 mutations block DNA packaging. I2 mutant DNA is cut by terminase at cosN in vitro, but in vivo, no cos cleavage is detected, nor is there evidence for Complex I. Models for what packaging step might be blocked by I2 mutations are presented.\\n\",\r\n          ],\r\n          title_display:\r\n            \"DNA Topology and the Initiation of Virus DNA Packaging\",\r\n          score: 6.3032713,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pone.0047101\",\r\n          journal: \"PLoS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2012-11-08T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Sheng-Yu Wang\",\r\n            \"Yueh-Luen Lee\",\r\n            \"Yi-Hua Lai\",\r\n            \"Jeremy J. W. Chen\",\r\n            \"Wen-Lin Wu\",\r\n            \"Jeu-Ming P. Yuann\",\r\n            \"Wang-Lin Su\",\r\n            \"Show-Mei Chuang\",\r\n            \"Ming-Hon Hou\",\r\n          ],\r\n          abstract: [\r\n            \"\\n        The anticancer activity of DNA intercalators is related to their ability to intercalate into the DNA duplex with high affinity, thereby interfering with DNA replication and transcription. Polyamines (spermine in particular) are almost exclusively bound to nucleic acids and are involved in many cellular processes that require nucleic acids. Until now, the effects of polyamines on DNA intercalator activities have remained unclear because intercalation is the most important mechanism employed by DNA-binding drugs. Herein, using actinomycin D (ACTD) as a model, we have attempted to elucidate the effects of spermine on the action of ACTD, including its DNA-binding ability, RNA and DNA polymerase interference, and its role in the transcription and replication inhibition of ACTD within cells. We found that spermine interfered with the binding and stabilization of ACTD to DNA. The presence of increasing concentrations of spermine enhanced the transcriptional and replication activities of RNA and DNA polymerases, respectively, in vitro treated with ActD. Moreover, a decrease in intracellular polyamine concentrations stimulated by methylglyoxal-bis(guanylhydrazone) (MGBG) enhanced the ACTD-induced inhibition of c-myc transcription and DNA replication in several cancer cell lines. The results indicated that spermine attenuates ACTD binding to DNA and its inhibition of transcription and DNA replication both in vitro and within cells. Finally, a synergistic antiproliferative effect of MGBG and ACTD was observed in a cell viability assay. Our findings will be of significant relevance to future developments in combination with cancer therapy by enhancing the anticancer activity of DNA interactors through polyamine depletion.\\n      \",\r\n          ],\r\n          title_display:\r\n            \"Spermine Attenuates the Action of the DNA Intercalator, Actinomycin D, on DNA Binding and the Inhibition of Transcription and DNA Replication\",\r\n          score: 6.1791353,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pbio.0020173\",\r\n          journal: \"PLoS Biology\",\r\n          eissn: \"1545-7885\",\r\n          publication_date: \"2004-06-22T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\"David R Halpin\", \"Pehr B Harbury\"],\r\n          abstract: [\r\n            \"\\n        Recently reported technologies for DNA-directed organic synthesis and for DNA computing rely on routing DNA populations through complex networks. The reduction of these ideas to practice has been limited by a lack of practical experimental tools. Here we describe a modular design for DNA routing genes, and routing machinery made from oligonucleotides and commercially available chromatography resins. The routing machinery partitions nanomole quantities of DNA into physically distinct subpools based on sequence. Partitioning steps can be iterated indefinitely, with worst-case yields of 85% per step. These techniques facilitate DNA-programmed chemical synthesis, and thus enable a materials biology that could revolutionize drug discovery.\\n      \\n        Resin-linked oligonucleotides are described that efficiently partition subpools of DNA based on sequence, enabling DNA- programmed chemical synthesis.\\n      \",\r\n          ],\r\n          title_display:\r\n            \"DNA Display I. Sequence-Encoded Routing of DNA Populations\",\r\n          score: 6.130892,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pgen.0030110\",\r\n          journal: \"PLoS Genetics\",\r\n          eissn: \"1553-7404\",\r\n          publication_date: \"2007-07-06T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Concetta Cuozzo\",\r\n            \"Antonio Porcellini\",\r\n            \"Tiziana Angrisano\",\r\n            \"Annalisa Morano\",\r\n            \"Bongyong Lee\",\r\n            \"Alba Di Pardo\",\r\n            \"Samantha Messina\",\r\n            \"Rodolfo Iuliano\",\r\n            \"Alfredo Fusco\",\r\n            \"Maria R Santillo\",\r\n            \"Mark T Muller\",\r\n            \"Lorenzo Chiariotti\",\r\n            \"Max E Gottesman\",\r\n            \"Enrico V Avvedimento\",\r\n          ],\r\n          abstract: [\r\n            \"To explore the link between DNA damage and gene silencing, we induced a DNA double-strand break in the genome of Hela or mouse embryonic stem (ES) cells using I-SceI restriction endonuclease. The I-SceI site lies within one copy of two inactivated tandem repeated green fluorescent protein (GFP) genes (DR-GFP). A total of 2%4% of the cells generated a functional GFP by homology-directed repair (HR) and gene conversion. However, ~50% of these recombinants expressed GFP poorly. Silencing was rapid and associated with HR and DNA methylation of the recombinant gene, since it was prevented in Hela cells by 5-aza-2-deoxycytidine. ES cells deficient in DNA methyl transferase 1 yielded as many recombinants as wild-type cells, but most of these recombinants expressed GFP robustly. Half of the HR DNA molecules were de novo methylated, principally downstream to the double-strand break, and half were undermethylated relative to the uncut DNA. Methylation of the repaired gene was independent of the methylation status of the converting template. The methylation pattern of recombinant molecules derived from pools of cells carrying DR-GFP at different loci, or from an individual clone carrying DR-GFP at a single locus, was comparable. ClustalW analysis of the sequenced GFP molecules in Hela and ES cells distinguished recombinant and nonrecombinant DNA solely on the basis of their methylation profile and indicated that HR superimposed novel methylation profiles on top of the old patterns. Chromatin immunoprecipitation and RNA analysis revealed that DNA methyl transferase 1 was bound specifically to HR GFP DNA and that methylation of the repaired segment contributed to the silencing of GFP expression. Taken together, our data support a mechanistic link between HR and DNA methylation and suggest that DNA methylation in eukaryotes marks homologous recombined segments.: Genomic DNA can be modified by cytosine methylation. This epigenetic modification is layered on the primary genetic information and can silence the affected gene. Epigenetic modification has been implicated in cancer and aging. To date, the primary cause and the mechanism leading to DNA methylation are not known. By using a sophisticated genetic system, we have induced a single break in the double helix of the genomes of mouse or human cells. This rupture was repaired by a very precise mechanism: the damaged chromosome pairs and retrieves genetic information from an undamaged and homologous DNA partner. This homology-directed repair was marked in half of the repaired molecules by de novo methylation of cytosines flanking the cut. As a direct consequence, the gene in these repaired molecules was silenced. In the remaining molecules, the recombinant DNA was undermethylated and expressed the reconstituted gene. Since homology-directed repair may duplicate or delete genetic information, epigenetic modification of repaired DNA represents a powerful evolutionary force. If the expression of the repaired gene is harmful, only cells inheriting the silenced copy will survive. Conversely, if the function of the repaired gene is beneficial, cells inheriting the under-methylated copy will have a selective advantage. \",\r\n          ],\r\n          title_display:\r\n            \"DNA Damage, Homology-Directed Repair, and DNA Methylation\",\r\n          score: 6.130892,\r\n        },\r\n        {\r\n          id: \"10.1371/annotation/254cef67-ab0e-43f6-af62-8f7df7c3677c\",\r\n          journal: \"PLoS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2013-05-15T00:00:00Z\",\r\n          article_type: \"Correction\",\r\n          author_display: [\r\n            \"Sheng-Yu Wang\",\r\n            \"Alan Yueh-Luen Lee\",\r\n            \"Yi-Hua Lai\",\r\n            \"Jeremy J. W. Chen\",\r\n            \"Wen-Lin Wu\",\r\n            \"Jeu-Ming P. Yuann\",\r\n            \"Wang-Lin Su\",\r\n            \"Show-Mei Chuang\",\r\n            \"Ming-Hon Hou\",\r\n          ],\r\n          abstract: [\"\"],\r\n          title_display:\r\n            \"Correction: Spermine Attenuates the Action of the DNA Intercalator, Actinomycin D, on DNA Binding and the Inhibition of Transcription and DNA Replication\",\r\n          score: 6.067641,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pone.0124444\",\r\n          journal: \"PLOS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2015-04-29T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Josef tpnek\",\r\n            \"Vladimr Kopeck Jr.\",\r\n            \"Pierre-Yves Turpin\",\r\n            \"Zhenlin Li\",\r\n            \"Bernard Alpert\",\r\n            \"Christian Zentz\",\r\n          ],\r\n          abstract: [\r\n            \"\\nThe transcriptional activity of the serum response factor (SRF) protein is triggered by its binding to a 10-base-pair DNA consensus sequence designated the CArG box, which is the core sequence of the serum response element (SRE). Sequence-specific recognition of the CArG box by a core domain of 100 amino acid residues of SRF (core-SRF) was asserted to depend almost exclusively on the intrinsic SRE conformation and on the degree of protein-induced SRE bending. Nevertheless, this paradigm was invalidated by a temperature-dependent Raman spectroscopy study of 20-mer oligonucleotides involved in bonding interactions with core-SRF that reproduced both wild type and mutated c-fos SREs. Indeed, the SRE moieties that are complexed with core-SRF exhibit permanent interconversion dynamics between bent and linear conformers. Thus, sequence-specific recognition of the CArG box by core-SRF cannot be explained only in terms of the three-dimensional structure of the SRE. A particular dynamic pairing process discriminates between the wild type and mutated complexes. Specific oscillations of the phosphate charge network of the SRE govern the recognition between both partners rather than an intrinsic set of conformations of the SRE.\\n\",\r\n          ],\r\n          title_display:\r\n            \"DNA Electric Charge Oscillations Govern ProteinDNA Recognition\",\r\n          score: 5.9676895,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pone.0177147\",\r\n          journal: \"PLOS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2017-05-03T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Irina Bruck\",\r\n            \"Nalini Dhingra\",\r\n            \"Matthew P. Martinez\",\r\n            \"Daniel L. Kaplan\",\r\n          ],\r\n          abstract: [\r\n            \"\\nDpb11 is required for the initiation of DNA replication in budding yeast. We found that Dpb11 binds tightly to single-stranded DNA (ssDNA) or branched DNA structures, while its human homolog, TopBP1, binds tightly to branched-DNA structures. We also found that Dpb11 binds stably to CDK-phosphorylated RPA, the eukaryotic ssDNA binding protein, in the presence of branched DNA. A Dpb11 mutant specifically defective for DNA binding did not exhibit tight binding to RPA in the presence of DNA, suggesting that Dpb11-interaction with DNA may promote the recruitment of RPA to melted DNA. We then characterized a mutant of Dpb11 that is specifically defective in DNA binding in budding yeast cells. Expression of dpb11-m1,2,3,5,C results in a substantial decrease in RPA recruitment to origins, suggesting that Dpb11 interaction with DNA may be required for RPA recruitment to origins. Expression of dpb11-m1,2,3,5,C also results in diminished GINS interaction with Mcm2-7 during S phase, while Cdc45 interaction with Mcm2-7 is like wild-type. The reduced GINS interaction with Mcm2-7 may be an indirect consequence of diminished origin melting. We propose that the tight interaction between Dpb11, CDK-phosphorylated RPA, and branched-DNA may be required for the essential function of stabilizing melted origin DNA in vivo. We also propose an alternative model, wherein Dpb11-DNA interaction is required for some other function in DNA replication initiation, such as helicase activation.\\n\",\r\n          ],\r\n          title_display:\r\n            \"Dpb11 may function with RPA and DNA to initiate DNA replication\",\r\n          score: 5.9676895,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pgen.1006605\",\r\n          journal: \"PLOS Genetics\",\r\n          eissn: \"1553-7404\",\r\n          publication_date: \"2017-02-10T00:00:00Z\",\r\n          article_type: \"Correction\",\r\n          author_display: [\r\n            \"Concetta Cuozzo\",\r\n            \"Antonio Porcellini\",\r\n            \"Tiziana Angrisano\",\r\n            \"Annalisa Morano\",\r\n            \"Bongyong Lee\",\r\n            \"Alba Di Pardo\",\r\n            \"Samantha Messina\",\r\n            \"Rodolfo Iuliano\",\r\n            \"Alfredo Fusco\",\r\n            \"Maria R. Santillo\",\r\n            \"Mark T. Muller\",\r\n            \"Lorenzo Chiariotti\",\r\n            \"Max E. Gottesman\",\r\n            \"Enrico V. Avvedimento\",\r\n          ],\r\n          abstract: [\"\"],\r\n          title_display:\r\n            \"Correction: DNA Damage, Homology-Directed Repair, and DNA Methylation\",\r\n          score: 5.9676895,\r\n        },\r\n        {\r\n          id: \"10.1371/journal.pone.0180798\",\r\n          journal: \"PLOS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2017-07-12T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Lukas Nejdl\",\r\n            \"Jiri Kudr\",\r\n            \"Amitava Moulick\",\r\n            \"Dagmar Hegerova\",\r\n            \"Branislav Ruttkay-Nedecky\",\r\n            \"Jaromir Gumulec\",\r\n            \"Kristyna Cihalova\",\r\n            \"Kristyna Smerkova\",\r\n            \"Simona Dostalova\",\r\n            \"Sona Krizkova\",\r\n            \"Marie Novotna\",\r\n            \"Pavel Kopel\",\r\n            \"Vojtech Adam\",\r\n          ],\r\n          abstract: [\r\n            \"\\nSparsely tested group of platinum nanoparticles (PtNPs) may have a comparable effect as complex platinum compounds. The aim of this study was to observe the effect of PtNPs in in vitro amplification of DNA fragment of phage , on the bacterial cultures (Staphylococcus aureus), human foreskin fibroblasts and erythrocytes. In vitro synthesized PtNPs were characterized by dynamic light scattering (PtNPs size range 4.811.7 nm), zeta potential measurements (-15 mV at pH 7.4), X-ray fluorescence, UV/vis spectrophotometry and atomic absorption spectrometry. The PtNPs inhibited the DNA replication and affected the secondary structure of DNA at higher concentrations, which was confirmed by polymerase chain reaction, DNA sequencing and DNA denaturation experiments. Further, cisplatin (CisPt), as traditional chemotherapy agent, was used in all parallel experiments. Moreover, the encapsulation of PtNPs in liposomes (LipoPtNPs) caused an approximately 2.4x higher of DNA damage in comparison with CisPt, LipoCisPt and PtNPs. The encapsulation of PtNPs in liposomes also increased their antibacterial, cytostatic and cytotoxic effect, which was determined by the method of growth curves on S. aureus and HFF cells. In addition, both the bare and encapsulated PtNPs caused lower oxidative stress (determined by GSH/GSSG ratio) in the human erythrocytes compared to the bare and encapsulated CisPt. CisPt was used in all parallel experiments as traditional chemotherapy agent.\\n\",\r\n          ],\r\n          title_display:\r\n            \"Platinum nanoparticles induce damage to DNA and inhibit DNA replication\",\r\n          score: 5.9676895,\r\n        },\r\n      ],\r\n    },\r\n  };\r\n};\r\n","import { Redirect } from \"react-router\";\r\nimport EditDashboard from \"./components/pages/Dashboard/EditDashboard\";\r\nimport ViewDashboard from \"./components/pages/Dashboard/ViewDashboard\";\r\nimport AllOverviews from \"./components/pages/Framework/AllOverviews\";\r\nimport FrameworkAdmin from \"./components/pages/Framework/FrameworkAdmin\";\r\nimport ManageFramework from \"./components/pages/Framework/ManageFramework\";\r\nimport ViewFramework from \"./components/pages/Framework/ViewFramework\";\r\nimport ManageThreatFeed from \"./components/pages/ThreatFeed/ManageThreatFeed\";\r\n\r\nexport interface Route {\r\n  path: string;\r\n  component: any;\r\n  props?: { [key: string]: any };\r\n}\r\n\r\nexport const routes: Route[] = [\r\n  {\r\n    path: \"/admin/threatfeed\",\r\n    component: ManageThreatFeed,\r\n  },\r\n  {\r\n    path: \"/admin/framework/manage\",\r\n    component: ManageFramework,\r\n  },\r\n  {\r\n    path: \"/admin/framework\",\r\n    component: FrameworkAdmin,\r\n  },\r\n  {\r\n    path: \"/framework/overview\",\r\n    component: AllOverviews,\r\n  },\r\n  {\r\n    path: \"/framework/\",\r\n    component: ViewFramework,\r\n  },\r\n  {\r\n    path: \"/dashboard/edit\",\r\n    component: EditDashboard,\r\n  },\r\n  {\r\n    path: \"/dashboard\",\r\n    component: ViewDashboard,\r\n  },\r\n  {\r\n    path: \"/\",\r\n    component: RedirectToHome,\r\n  },\r\n];\r\n\r\nexport function RedirectToHome() {\r\n  return <Redirect to=\"/dashboard/home\" />;\r\n}\r\n\r\n// export function getElementFromPath(\r\n// \tpath: string,\r\n// \tprops?: { [key: string]: any }\r\n// ) {\r\n// \tswitch (path) {\r\n// \t\tcase \"/\":\r\n// \t\t\treturn <Redirect to='/home' />;\r\n// \t\tcase \"/home\":\r\n// \t\t\treturn <Home />;\r\n// \t\tcase \"/dashboard\":\r\n// \t\t\treturn <Dashboard dashboardId={props?.dashboardId} />;\r\n// \t\tcase \"/dashboard/manage\":\r\n// \t\t\treturn <ManageDashboard />;\r\n// \t\tcase \"/framework/overview\":\r\n// \t\t\treturn <AllOverviews />;\r\n// \t\tdefault:\r\n// \t\t\treturn <Home />;\r\n// \t}\r\n// }\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { useLocation } from \"react-router\";\r\nimport { selectFrameworkById } from \"../../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport Framework from \"./Framework\";\r\n\r\nexport default function ManageFramework() {\r\n  const location = useLocation();\r\n\r\n  const frameworkId = location.pathname.split(\"/\")[4];\r\n\r\n  const framework = useAppSelector(selectFrameworkById(frameworkId));\r\n\r\n  if (framework === undefined)\r\n    return <Typography variant=\"h4\">404: No such framework found</Typography>;\r\n\r\n  return <Framework framework={framework} canEdit={true} />;\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { useLocation } from \"react-router\";\r\nimport { selectFrameworkById } from \"../../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport Framework from \"./Framework\";\r\n\r\nexport default function ViewFramework() {\r\n  const location = useLocation();\r\n\r\n  const frameworkId = location.pathname.split(\"/\")[2];\r\n\r\n  const framework = useAppSelector(selectFrameworkById(frameworkId));\r\n\r\n  if (framework === undefined)\r\n    return <Typography variant=\"h4\">404: No such framework found</Typography>;\r\n\r\n  return <Framework framework={framework} />;\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { useLocation } from \"react-router\";\r\nimport { selectDashboardById } from \"../../../redux/dashboardSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport Dashboard from \"./Dashboard\";\r\n\r\nexport default function ViewDashboard() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[2];\r\n  const dashboard = useAppSelector(selectDashboardById(thisId));\r\n\r\n  if (dashboard !== undefined)\r\n    return <Dashboard dashboard={dashboard} canEdit={false} />;\r\n\r\n  return <Typography variant=\"h4\">404: No such dashboard found</Typography>;\r\n}\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { ThemeOptions } from \"@material-ui/core/styles\";\r\n\r\nimport \"react-grid-layout/css/styles.css\";\r\nimport \"react-resizable/css/styles.css\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\ndeclare module \"@material-ui/core/styles/createMuiTheme\" {\r\n  interface Theme {\r\n    gradients: {\r\n      success: string;\r\n      warning: string;\r\n      error: string;\r\n      info: string;\r\n    };\r\n  }\r\n  // allow configuration using `createMuiTheme`\r\n  interface ThemeOptions {\r\n    gradients?: {\r\n      success: string;\r\n      warning: string;\r\n      error: string;\r\n      info: string;\r\n    };\r\n  }\r\n}\r\n\r\nfunction createMyTheme(options: ThemeOptions) {\r\n  return createMuiTheme({\r\n    // gradients: {},\r\n    ...options,\r\n  });\r\n}\r\n\r\nexport const defaultBorderRadius = 10;\r\n\r\nexport const defaultPrimary = {\r\n  light: \"#ab87ff\",\r\n  main: \"#7559e9\",\r\n  dark: \"#3c2eb6\",\r\n  contrastText: \"#fff\",\r\n};\r\n\r\nexport const defaultSecondary = {\r\n  light: \"#756f7f\",\r\n  main: \"#494453\",\r\n  dark: \"#211d2a\",\r\n  contrastText: \"#000\",\r\n};\r\n\r\nexport const defaultSpacing = (num: number) => num * 8;\r\n\r\nconst getTheme = (paletteType: \"dark\" | \"light\") =>\r\n  createMyTheme({\r\n    shape: {\r\n      borderRadius: defaultBorderRadius,\r\n    },\r\n    palette: {\r\n      type: paletteType,\r\n      primary: defaultPrimary,\r\n      secondary: defaultSecondary,\r\n      background: {\r\n        default: paletteType === \"light\" ? grey[100] : grey[900],\r\n      },\r\n    },\r\n    spacing: defaultSpacing(1),\r\n    gradients: {\r\n      success:\r\n        \"linear-gradient(to left top, #4caf50, #41ac56, #35a95b, #29a560, #1ba265, #119f6a, #069b6e, #009871, #009474, #009177, #008d79, #00897b)\",\r\n      warning:\r\n        \"linear-gradient(to left top, #ff9800, #f29a00, #e59b00, #d99c00, #cd9d00, #c29d00, #b79d00, #ac9d00, #a09d00, #939c00, #869c00, #789b00)\",\r\n      error:\r\n        \"linear-gradient(to left top, #f44336, #f23c42, #ef374e, #eb3458, #e53262, #df326a, #d83472, #d13679, #c83a80, #be3d86, #b4418b, #a9458f)\",\r\n      info: \"linear-gradient(to left top, #2196f3, #3693f0, #448fec, #508ce8, #5988e4, #6085e0, #6781dc, #6d7ed8, #737bd3, #7877cf, #7c74ca, #8071c5)\",\r\n    },\r\n    overrides: {\r\n      MuiList: {\r\n        padding: {\r\n          padding: defaultSpacing(1),\r\n        },\r\n      },\r\n      MuiListItem: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius,\r\n          marginTop: defaultSpacing(0.5),\r\n          marginBottom: defaultSpacing(0.5),\r\n          backgroundColor: \"transparent\",\r\n          position: \"relative\",\r\n          transition: \"0.15s !important\",\r\n          // \"&:last-child\": {\r\n          // \tmarginBottom: 0,\r\n          // },\r\n          \"&$selected\": {\r\n            backgroundColor: \"transparent\",\r\n            // background: `linear-gradient(143deg, ${defaultPrimary.light} 0%, ${defaultPrimary.main} 100%)`,\r\n            color: defaultPrimary.main,\r\n            \"& .MuiIcon-root\": {\r\n              color: defaultPrimary.main,\r\n            },\r\n            \"& .MuiSvgIcon-root\": {\r\n              color: defaultPrimary.main,\r\n            },\r\n            paddingLeft: defaultSpacing(1.5),\r\n            \"&::after\": {\r\n              transform: \"scaleX(1)\",\r\n            },\r\n          },\r\n          \"&::after\": {\r\n            transform: \"scale(0)\",\r\n            transformOrigin: \"left\",\r\n            transition: \"0.15s\",\r\n            content: '\" \"',\r\n            position: \"absolute\",\r\n            height: `calc(100% - ${defaultSpacing(2)}px)`,\r\n            width: 3,\r\n            top: defaultSpacing(1),\r\n            left: 0,\r\n            backgroundColor: defaultPrimary.main,\r\n            borderRadius: defaultBorderRadius,\r\n          },\r\n        },\r\n        gutters: {\r\n          paddingLeft: defaultSpacing(1),\r\n          paddingRight: defaultSpacing(1),\r\n        },\r\n      },\r\n      MuiListItemIcon: {\r\n        root: {\r\n          minWidth: 0,\r\n        },\r\n      },\r\n      MuiListItemText: {\r\n        root: {\r\n          marginLeft: defaultSpacing(1),\r\n        },\r\n      },\r\n      MuiCardContent: {\r\n        root: {\r\n          \"&:last-child\": {\r\n            paddingBottom: defaultSpacing(2),\r\n          },\r\n        },\r\n      },\r\n      MuiChip: {\r\n        label: {\r\n          fontWeight: 500,\r\n        },\r\n      },\r\n      MuiButton: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius / 2,\r\n        },\r\n      },\r\n      MuiInputBase: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius / 2,\r\n        },\r\n      },\r\n      MuiOutlinedInput: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius / 2,\r\n        },\r\n      },\r\n    },\r\n    typography: {\r\n      fontFamily: [\"Poppins\"].join(\",\"),\r\n      fontSize: 13,\r\n      h5: {\r\n        fontWeight: 500,\r\n      },\r\n    },\r\n  });\r\n\r\nexport default getTheme;\r\n","import { makeStyles, ThemeProvider } from \"@material-ui/core\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport AppProvider from \"./context/AppContext\";\r\nimport Layout from \"./components/layout/Layout\";\r\nimport { routes } from \"./Router\";\r\nimport getTheme, { defaultBorderRadius } from \"./Theme\";\r\n\r\nimport \"react-grid-layout/css/styles.css\";\r\nimport \"react-resizable/css/styles.css\";\r\n\r\nconst theme = getTheme(\"light\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \"@global\": {\r\n    \".react-grid-item.react-grid-placeholder\": {\r\n      backgroundColor: \"unset\",\r\n      opacity: \"unset\",\r\n      borderRadius: theme.shape.borderRadius,\r\n      border: `1px solid ${theme.palette.primary.light}`,\r\n    },\r\n    \".react-resizable-handle::after\": {\r\n      width: `${defaultBorderRadius}px !important`,\r\n      height: `${defaultBorderRadius}px !important`,\r\n      borderRadius: `0 0 ${defaultBorderRadius / 1.5}px 0`,\r\n      borderRight: \"4px solid rgba(0, 0, 0, 0.4) !important\",\r\n      borderBottom: \"4px solid rgba(0, 0, 0, 0.4) !important\",\r\n    },\r\n  },\r\n  container: {\r\n    overflow: \"visible\",\r\n  },\r\n  appBody: () => ({\r\n    position: \"relative\",\r\n    transition: \"0.3s\",\r\n    boxSizing: \"border-box\",\r\n  }),\r\n}));\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Router>\r\n      <ThemeProvider theme={theme}>\r\n        <AppProvider>\r\n          <SnackbarProvider\r\n            maxSnack={5}\r\n            anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\r\n          >\r\n            <div className={classes.container}>\r\n              <Layout>\r\n                <div className={classes.appBody}>\r\n                  <Switch>\r\n                    {routes.map((route) => {\r\n                      return (\r\n                        <Route\r\n                          key={`${route.path}`}\r\n                          path={route.path}\r\n                          component={route.component}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </Switch>\r\n                </div>\r\n              </Layout>\r\n            </div>\r\n          </SnackbarProvider>\r\n        </AppProvider>\r\n      </ThemeProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}