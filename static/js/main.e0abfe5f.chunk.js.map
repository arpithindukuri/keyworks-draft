{"version":3,"sources":["redux/dashboardSlice.tsx","redux/frameworkSlice.tsx","data/ISOData.tsx","data/NISTData.tsx","redux/threatFeedSlice.tsx","redux/userSlice.tsx","redux/store.tsx","context/AppContext.tsx","assets/logo-12.svg","redux/hooks.tsx","components/layout/DrawerData.tsx","components/layout/Drawer.tsx","components/pages/Dashboard/DashboardActions.tsx","components/Module.tsx","components/widgets/PieChartRating.tsx","util/index.tsx","components/pages/Framework/AlertList.tsx","components/pages/Framework/FrameworkSummary.tsx","components/pages/Framework/Framework.tsx","components/pages/Framework/FrameworkActions.tsx","components/layout/Layout.tsx","components/widgets/FrameworkCompliance.tsx","components/widgets/FrameworkAlerts.tsx","components/widgets/HighRiskAssets.tsx","components/widgets/Ratings.tsx","components/widgets/RatingTrends.tsx","components/widgets/RegulatoryCompliance.tsx","data/ThreatData.tsx","components/widgets/Map.tsx","components/widgets/TopThreats.tsx","redux/widgetSlice.tsx","components/DotGrid.tsx","components/ErrorBoundary.tsx","components/pages/Dashboard/Dashboard.tsx","components/pages/Dashboard/EditDashboard.tsx","components/pages/Framework/AllOverviews.tsx","data/AvailableFrameworks.tsx","data/PCIData.tsx","components/pages/Framework/FrameworkAdmin.tsx","components/pages/API/ManageThreatFeed.tsx","components/pages/API/ManageAPI.tsx","components/pages/User/Users.tsx","Router.tsx","components/pages/User/ViewUsers.tsx","components/pages/Framework/ManageFramework.tsx","components/pages/Framework/ViewFramework.tsx","components/pages/Dashboard/ViewDashboard.tsx","Theme.tsx","App.tsx","index.tsx"],"names":["dashboardSlice","createSlice","name","initialState","dashboards","id","layout","w","h","x","y","i","minW","maxW","minH","maxH","moved","static","isDraggable","isResizable","isBounded","reducers","add","state","action","payload","newDashboard","remove","index","findIndex","dash","splice","update","updateDashboardLayout","newLayout","dropLayout","removeWidget","dashboardId","widgetIndex","wid","widgetId","actions","selectDashboardSlice","dashboard","selectDashboards","selectDashboardById","createSelector","find","frameworks","dateAdopted","alerts","title","child","severity","timestamp","format","Date","controls","isActive","description","compliance","Math","random","nestedControls","frameworkSlice","newFramework","frame","updateControl","frameworkId","replaceControl","control","controlId","newControl","undefined","map","item","length","selectFrameworks","framework","selectFrameworkById","countActiveControls","result","countActiveControlsHelper","countAllControlsHelper","countActiveControlDocuments","countActiveControlDocumentsHelper","requiredDocuments","countValidControlDocuments","countValidControlDocumentsHelper","document","countActiveControlProcesses","countActiveControlProcessesHelper","requiredProcesses","countValidControlProcesses","countValidControlProcessesHelper","process","getControlsCompliance","getControlsComplianceHelper","countCompliantControls","countCompliantControlsHelper","createAPI","username","password","token","v4","url","lastSyncTimestamp","pollInterval","threatFeeds","apis","threatFeedSlice","newThreatFeed","threatFeed","updateThreatFeed","updateAPI","api","newAPI","selectThreatFeeds","selectAPIs","users","role","userSlice","newUser","user","selectUsers","store","configureStore","reducer","devTools","AppContext","createContext","type","setType","clearType","AppProvider","children","useState","setState","Provider","value","prev","useAppDispatch","useDispatch","useAppSelector","useSelector","useDashboardItems","nestedListItems","link","icon","isNested","useFrameworkItems","useTuneItem","useStyles","makeStyles","theme","createStyles","drawer","width","drawerWidth","flexShrink","drawerPaper","drawerHeader","display","alignItems","padding","spacing","mixins","toolbar","justifyContent","drawerContainer","overflow","drawerItemIcon","color","palette","text","secondary","transition","transitions","create","easing","easeOut","duration","shortest","drawerItemIconRotated","transform","nested","paddingLeft","Drawer","open","classes","drawerItems","className","variant","anchor","paper","List","DrawerItem","useDivider","history","useHistory","location","useLocation","React","recursivelySearchDrawerListItem","pathname","includes","setOpen","selected","ListItem","button","onClick","push","ListItemIcon","Icon","ListItemText","primary","ExpandMore","Collapse","in","timeout","component","disablePadding","nestedItem","Divider","predicate","dialog","paddingBottom","closeButton","position","right","top","DashboardActions","thisId","split","dispatch","anchorEl","setAnchorEl","handleMenuClose","ButtonGroup","disableElevation","size","Button","startIcon","Edit","event","currentTarget","MoreVert","keepMounted","Boolean","onClose","MenuItem","AddDialog","handleClose","DashboardEditActions","enqueueSnackbar","useSnackbar","Cancel","Save","setName","Dialog","fullWidth","maxWidth","DialogTitle","style","IconButton","Close","DialogContent","Box","TextField","label","onChange","target","InputProps","endAdornment","endIcon","Add","container","flexGrow","rotate","isEditing","border","light","boxShadow","shadows","grabbable","cursor","isDragging","Module","titleTypographyProps","useCard","cardStyles","isEditable","dragging","setDragging","classNames","height","flexDirection","onMouseDown","onMouseUp","CardHeader","paddingTop","marginRight","Card","elevation","opacity","fadeIn","animation","transformOrigin","PieChartRating","percent","inverse","data","round","useTheme","getColor","ResponsiveContainer","minHeight","PieChart","Pie","dataKey","nameKey","startAngle","endAngle","paddingAngle","innerRadius","outerRadius","stroke","entry","Cell","fill","fade","Label","dominantBaseline","fontSize","typography","h4","fontWeight","margin","bottom","left","animationDuration","h6","alert","AlertList","Grid","xs","Alert","AlertTitle","parse","root","body","marginTop","pieContainer","FrameworkSummary","subtitle","numControls","numControlsCompliant","numAlerts","numViolations","direction","Typography","Notifications","align","CheckCircle","ReportProblem","accordion","content","backgroundColor","main","borderRadius","shape","Framework","canEdit","filter","numActive","numCompliant","EditHeader","maxHeight","ControlList","total","countAllControls","totalDocs","numDocs","totalProcs","numProcs","marginLeft","arr","Control","last","square","isValid","Accordion","expanded","e","marginBottom","borderBottomLeftRadius","borderBottomRightRadius","background","default","AccordionSummary","expandIcon","Checkbox","stopPropagation","onFocus","checked","justify","Chip","success","NewReleases","AccordionDetails","boxSizing","reqDoc","ControlRequiredDocument","reqProc","ControlRequiredProcess","dataItems","ControlDataItem","paddingRight","unmountOnExit","handleClickOpen","addOpen","setAddOpen","RequirementSubItem","Link","status","Delete","PdfDialog","alignContent","NoteAdd","AddDocumentDialog","doc","AddProcessDialog","proc","setValue","parseInt","href","file","setFile","onDrop","useCallback","acceptedFiles","console","log","useDropzone","getRootProps","getInputProps","isDragActive","bgcolor","DialogActions","dateUploaded","backdrop","zIndex","FrameworkActions","loadOpen","setLoadOpen","useEffect","setTimeout","Assignment","Backdrop","CircularProgress","FrameworkEditActions","appBar","leavingScreen","appBarShift","enteringScreen","menuButton","logoIpsum","textAlign","search","common","black","breakpoints","up","searchIcon","pointerEvents","inputRoot","inputInput","contentShift","badge","info","gradients","Layout","CssBaseline","AppBar","clsx","Toolbar","edge","src","alt","noWrap","PageActions","Badge","badgeContent","AccountCircle","ArrowDropDown","anchorOrigin","vertical","horizontal","path","formControl","minWidth","FrameworkCompliance","selectedFrameworkId","setSelectedFrameworkId","selectedFramework","FormControl","InputLabel","Select","labelId","overflowY","headerCell","avatar","createData","asset","owner","risk","rows","SeverityChip","HighRiskAssets","Table","stickyHeader","aria-label","TableHead","TableRow","TableCell","TableBody","row","scope","overflowX","ratingCard","flex","ratingCardTitle","ratingCardNumber","responsive","RatingCard","Ratings","oldData","Compliance","Risk","Threat","newData","RatingTrends","setData","LineChart","XAxis","Tooltip","Legend","Line","strokeWidth","dark","dot","Low","Medium","High","Complete","RegulatoryCompliance","BarChart","Bar","stackId","PinsUnMemo","threats","threat","points","longitude","latitude","viewBox","d","Pins","memo","Threats","message","dataLayer","paint","Map","viewport","setViewport","features","hoverInfo","setHoverInfo","fetch","then","resp","json","onHover","srcEvent","offsetX","offsetY","hoveredFeature","feature","onViewportChange","mapStyle","interactiveLayerIds","onMouseLeave","onMouseOut","Layer","touchAction","CardContent","properties","TopThreats","zoom","ThreatList","selectedThreat","setSelectedThreat","ThreatDialog","isOpen","close","minLng","min","minLat","maxLng","max","maxLat","WebMercatorViewport","fitBounds","aria-labelledby","getWidgetDetailsFromId","widgetList","DotGrid","numX","numY","heightSpace","radius","thickness","dots","ref","useRef","setWidth","current","clientWidth","indexWidth","indexHeight","centerX","centerY","x1","y1","x2","y2","stroke-width","version","ErrorBoundary","props","hasError","error","errorInfo","this","Component","ReactGridLayout","WidthProvider","withResizeDetector","Responsive","refreshMode","refreshRate","selector","animationFillMode","placeholder","grey","Dashboard","useContext","setLayout","isDotGridVisible","setIsDotGridVisible","setHeight","newItemType","widget","widgetDefaults","Fade","floor","window","innerHeight","isDroppable","measureBeforeMount","layouts","lg","md","sm","xxs","rowHeight","cols","draggableHandle","onDragStart","onDragStop","onResizeStart","onResizeStop","onLayoutChange","li","forEach","droppingItem","droppingElemIndex","num","newLayoutItem","widgetEl","getWidgetFromId","Actions","WidgetListItem","widgetType","draggable","dataTransfer","onDragEnd","disableRipple","disableTouchRipple","primaryTypographyProps","AvailableFrameworks","PCIAlerts","PCIControls","frameworkSummary","tableHeader","AddFramework","AddFrameworkDialog","SubItem","setSelectedFramework","AvailableFrameworkList","ValidateFramework","back","setSearch","fuse","Fuse","keys","threshold","htmlFor","FilledInput","Search","license","setLicense","setError","DialogContentText","helperText","inputProps","threatFeedSummary","addNew","Header","startAdornment","InputAdornment","ThreatFeedSummary","Paper","ThreatFeedSummaryItem","rel","flexItem","orientation","AssignmentTurnedIn","TestDialog","marginY","paddingX","getJson","response","numFound","start","maxScore","docs","journal","eissn","publication_date","article_type","author_display","abstract","title_display","score","columns","Users","ActiveDirectory","LocalUserList","FormControlLabel","Switch","marginX","page","setPage","rowsPerPage","setRowsPerPage","TableContainer","column","slice","hover","tabIndex","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","routes","to","defaultBorderRadius","defaultPrimary","contrastText","defaultSecondary","defaultSpacing","paletteType","options","warning","overrides","MuiList","MuiListItem","gutters","MuiListItemIcon","MuiListItemText","MuiCardContent","MuiChip","MuiButton","MuiInputBase","MuiOutlinedInput","fontFamily","join","h5","createMuiTheme","getTheme","borderRight","borderBottom","appBody","App","ThemeProvider","maxSnack","route","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0abfe5f.chunk.js","sourcesContent":["import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"./store\";\r\nimport { Layout } from \"react-grid-layout\";\r\n\r\nexport interface Dashboard {\r\n  id: string;\r\n  name: string;\r\n  layout: Layout[];\r\n}\r\n\r\nexport interface DashboardState {\r\n  dashboards: Dashboard[];\r\n}\r\n\r\nconst initialState: DashboardState = {\r\n  dashboards: [\r\n    {\r\n      id: \"home\",\r\n      name: \"My Home\",\r\n      layout: [\r\n        {\r\n          w: 5,\r\n          h: 4,\r\n          x: 11,\r\n          y: 8,\r\n          i: \"ratings\",\r\n          minW: 5,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 5,\r\n          h: 3,\r\n          x: 11,\r\n          y: 5,\r\n          i: \"trends\",\r\n          minW: 5,\r\n          maxW: 20,\r\n          minH: 3,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 4,\r\n          h: 4,\r\n          x: 12,\r\n          y: 12,\r\n          i: \"regcomp\",\r\n          minW: 4,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 12,\r\n          h: 4,\r\n          x: 0,\r\n          y: 12,\r\n          i: \"highriskassets\",\r\n          minW: 8,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 11,\r\n          h: 7,\r\n          x: 0,\r\n          y: 5,\r\n          i: \"topthreats-risk-analysis-dashboard-0\",\r\n          minW: 6,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 6,\r\n          h: 5,\r\n          x: 0,\r\n          y: 0,\r\n          i: \"compliance-home-0\",\r\n          minW: 3,\r\n          maxW: 10,\r\n          minH: 4,\r\n          maxH: 10,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 10,\r\n          h: 5,\r\n          x: 6,\r\n          y: 0,\r\n          i: \"alerts-home-0\",\r\n          minW: 5,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: \"risk-analysis-dashboard\",\r\n      name: \"Risk Analysis\",\r\n      layout: [\r\n        {\r\n          w: 16,\r\n          h: 8,\r\n          x: 0,\r\n          y: 0,\r\n          i: \"topthreats-risk-analysis-dashboard-0\",\r\n          minW: 6,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 12,\r\n          h: 4,\r\n          x: 4,\r\n          y: 8,\r\n          i: \"highriskassets-risk-analysis-dashboard-0\",\r\n          minW: 8,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n        {\r\n          w: 4,\r\n          h: 4,\r\n          x: 0,\r\n          y: 8,\r\n          i: \"regcomp-risk-analysis-dashboard-0\",\r\n          minW: 4,\r\n          maxW: 20,\r\n          minH: 4,\r\n          maxH: 20,\r\n          moved: false,\r\n          static: false,\r\n          isDraggable: true,\r\n          isResizable: true,\r\n          isBounded: true,\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nexport const dashboardSlice = createSlice({\r\n  name: \"dashboard\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action: PayloadAction<{ newDashboard: Dashboard }>) => {\r\n      state.dashboards = [...state.dashboards, action.payload.newDashboard];\r\n    },\r\n    remove: (state, action: PayloadAction<{ id: string }>) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) state.dashboards.splice(index, 1);\r\n    },\r\n    update: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newDashboard: Dashboard }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) state.dashboards[index] = action.payload.newDashboard;\r\n    },\r\n    updateDashboardLayout: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newLayout: Layout[] }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) state.dashboards[index].layout = action.payload.newLayout;\r\n    },\r\n\r\n    dropLayout: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newLayout: Layout[] }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.id\r\n      );\r\n      if (index > -1) {\r\n        // const newLayout = [\r\n        // \t...state.dashboards[index].layout,\r\n        // \taction.payload.newLayoutItem,\r\n        // ].sort((a, b) => {\r\n        // \tif (a.y < b.y) return -1;\r\n        // \tif (a.y > b.y) return 1;\r\n        // \tif (a.y === b.y) {\r\n        // \t\tif (a.x < b.x) return -1;\r\n        // \t\tif (a.x > b.x) return 1;\r\n        // \t}\r\n        // \treturn 0;\r\n        // });\r\n        // state.dashboards[index].layout = newLayout;\r\n        // const newLayout = [\r\n        // \t...state.dashboards[index].layout,\r\n        // \taction.payload.newLayoutItem,\r\n        // ];\r\n        // console.log(newLayout);\r\n        state.dashboards[index].layout = action.payload.newLayout;\r\n      }\r\n    },\r\n\r\n    removeWidget: (\r\n      state,\r\n      action: PayloadAction<{ dashboardId: string; widgetId: string }>\r\n    ) => {\r\n      const index = state.dashboards.findIndex(\r\n        (dash) => dash.id === action.payload.dashboardId\r\n      );\r\n      if (index > -1) {\r\n        const widgetIndex = state.dashboards[index].layout.findIndex(\r\n          (wid) => wid.i === action.payload.widgetId\r\n        );\r\n        if (widgetIndex > -1)\r\n          state.dashboards[index].layout.splice(widgetIndex, 1);\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  add,\r\n  remove,\r\n  update,\r\n  updateDashboardLayout,\r\n  dropLayout,\r\n  removeWidget,\r\n} = dashboardSlice.actions;\r\n\r\nexport const selectDashboardSlice = (state: RootState) => state.dashboard;\r\nexport const selectDashboards = (state: RootState) =>\r\n  state.dashboard.dashboards;\r\n\r\nexport const selectDashboardById = (id: string) =>\r\n  createSelector(selectDashboardSlice, (dashboard) =>\r\n    dashboard.dashboards.find((dash) => dash.id === id)\r\n  );\r\n\r\nexport default dashboardSlice.reducer;\r\n","import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { ISOAlerts, ISOControls } from \"../data/ISOData\";\r\nimport { NISTAlerts, NISTControls } from \"../data/NISTData\";\r\nimport { RootState } from \"./store\";\r\n\r\nexport interface Alert {\r\n  title: string;\r\n  child: JSX.Element;\r\n  timestamp: string;\r\n  severity: \"error\" | \"info\" | \"success\" | \"warning\";\r\n  dismissalMessageChild?: JSX.Element;\r\n}\r\n\r\nexport interface DataItem {\r\n  name: string;\r\n  type: \"checkbox\" | \"number\";\r\n  value: boolean | number;\r\n}\r\n\r\nexport interface Control {\r\n  id: string;\r\n  isActive: boolean;\r\n  description: string;\r\n  severity: \"low\" | \"medium\" | \"high\";\r\n  requiredDocuments?: RequiredDocument[];\r\n  requiredProcesses?: RequiredProcess[];\r\n  nestedControls?: Control[];\r\n  dataItems?: DataItem[];\r\n  compliance?: number;\r\n}\r\n\r\nexport interface RequiredDocument {\r\n  name: string;\r\n  document?: Document;\r\n}\r\n\r\nexport interface Document {\r\n  id: string;\r\n  name: string;\r\n  dateUploaded: string;\r\n  link: string;\r\n  status: \"in-effect\" | \"needs-review\" | \"out-of-date\";\r\n}\r\n\r\nexport interface RequiredProcess {\r\n  name: string;\r\n  description?: string;\r\n  link?: string;\r\n  process?: Process;\r\n}\r\n\r\nexport interface Process {\r\n  id: string;\r\n  name: string;\r\n  dateUploaded: string;\r\n  link: string;\r\n  status: \"in-effect\" | \"needs-review\" | \"out-of-date\";\r\n}\r\n\r\nexport interface AvailableFramework {\r\n  id: string;\r\n  name: string;\r\n  link: string;\r\n}\r\n\r\nexport interface Framework {\r\n  id: string;\r\n  name: string;\r\n  dateAdopted: string;\r\n  alerts: Alert[];\r\n  controls: Control[];\r\n}\r\n\r\nexport interface FrameworkState {\r\n  frameworks: Framework[];\r\n}\r\n\r\nconst initialState: FrameworkState = {\r\n  frameworks: [\r\n    {\r\n      id: \"iso27001-framework-id\",\r\n      name: \"ISO27001\",\r\n      dateAdopted: \"111111111\",\r\n      alerts: ISOAlerts,\r\n      controls: ISOControls,\r\n    },\r\n    {\r\n      id: \"nist-framework-id\",\r\n      name: \"NIST\",\r\n      dateAdopted: \"111111111\",\r\n      alerts: NISTAlerts,\r\n      controls: NISTControls,\r\n    },\r\n  ],\r\n};\r\n\r\nexport const frameworkSlice = createSlice({\r\n  name: \"framework\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action: PayloadAction<{ newFramework: Framework }>) => {\r\n      state.frameworks = [...state.frameworks, action.payload.newFramework];\r\n    },\r\n    remove: (state, action: PayloadAction<{ id: string }>) => {\r\n      const index = state.frameworks.findIndex(\r\n        (frame) => frame.id === action.payload.id\r\n      );\r\n      if (index > -1) state.frameworks.splice(index, 1);\r\n    },\r\n    updateControl: (\r\n      state,\r\n      action: PayloadAction<{\r\n        frameworkId: string;\r\n        controlId: string;\r\n        newControl: Control;\r\n      }>\r\n    ) => {\r\n      const index = state.frameworks.findIndex(\r\n        (frame) => frame.id === action.payload.frameworkId\r\n      );\r\n\r\n      if (index > -1 && state.frameworks[index]) {\r\n        const replaceControl = (control: Control): Control => {\r\n          if (control.id === action.payload.controlId)\r\n            return action.payload.newControl;\r\n\r\n          const result: Control =\r\n            control.nestedControls !== undefined\r\n              ? {\r\n                  ...control,\r\n                  nestedControls: control.nestedControls.map((item) =>\r\n                    replaceControl(item)\r\n                  ),\r\n                }\r\n              : control;\r\n\r\n          return result;\r\n        };\r\n\r\n        for (let i = 0; i < state.frameworks[index].controls.length; i++) {\r\n          state.frameworks[index].controls[i] = replaceControl(\r\n            state.frameworks[index].controls[i]\r\n          );\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { add, remove, updateControl } = frameworkSlice.actions;\r\n\r\nexport const selectFrameworkSlice = (state: RootState) => state.framework;\r\nexport const selectFrameworks = (state: RootState) =>\r\n  state.framework.frameworks;\r\n\r\nexport const selectFrameworkById = (id: string) =>\r\n  createSelector(selectFrameworks, (frameworks) =>\r\n    frameworks.find((frame) => frame.id === id)\r\n  );\r\n\r\nexport default frameworkSlice.reducer;\r\n\r\n// ------------- HELPER FUNCTIONS --------------\r\n\r\nexport function countActiveControls(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countActiveControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countActiveControlsHelper(control: Control): number {\r\n  if (control.nestedControls === undefined) return control.isActive ? 1 : 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countActiveControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countAllControls(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countAllControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countAllControlsHelper(control: Control): number {\r\n  if (control.nestedControls === undefined) return 1;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countAllControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countActiveControlDocuments(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countActiveControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countActiveControlDocumentsHelper(control: Control): number {\r\n  if (!control.isActive) return 0;\r\n\r\n  if (control.requiredDocuments !== undefined)\r\n    return control.requiredDocuments.length;\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countActiveControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countValidControlDocuments(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countValidControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countValidControlDocumentsHelper(control: Control): number {\r\n  if (!control.isActive) return 0;\r\n\r\n  if (control.requiredDocuments !== undefined) {\r\n    let result = 0;\r\n    for (let i = 0; i < control.requiredDocuments.length; i++) {\r\n      const element = control.requiredDocuments[i];\r\n      if (element.document !== undefined) result += 1;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countValidControlDocumentsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countActiveControlProcesses(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countActiveControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countActiveControlProcessesHelper(control: Control): number {\r\n  if (!control.isActive) return 0;\r\n\r\n  if (control.requiredProcesses !== undefined)\r\n    return control.requiredProcesses.length;\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countActiveControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function countValidControlProcesses(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countValidControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countValidControlProcessesHelper(control: Control): number {\r\n  if (!control.isActive) return 0;\r\n\r\n  if (control.requiredProcesses !== undefined) {\r\n    let result = 0;\r\n    for (let i = 0; i < control.requiredProcesses.length; i++) {\r\n      const element = control.requiredProcesses[i];\r\n      if (element.process !== undefined) result += 1;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countValidControlProcessesHelper(element);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getControlsCompliance(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += getControlsComplianceHelper(element);\r\n  }\r\n  return result / controls.length;\r\n}\r\nfunction getControlsComplianceHelper(control: Control): number {\r\n  if (control.compliance !== undefined) {\r\n    return control.compliance;\r\n  }\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += getControlsComplianceHelper(element);\r\n  }\r\n  return result / control.nestedControls.length;\r\n}\r\n\r\nexport function countCompliantControls(controls: Control[]) {\r\n  let result = 0;\r\n  for (let i = 0; i < controls.length; i++) {\r\n    const element = controls[i];\r\n    result += countCompliantControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\nfunction countCompliantControlsHelper(control: Control): number {\r\n  if (!control.isActive) return 0;\r\n\r\n  if (control.compliance !== undefined) return control.compliance === 1 ? 1 : 0;\r\n\r\n  if (control.nestedControls === undefined) return 0;\r\n\r\n  let result = 0;\r\n  for (let i = 0; i < control.nestedControls.length; i++) {\r\n    const element = control.nestedControls[i];\r\n    result += countCompliantControlsHelper(element);\r\n  }\r\n  return result;\r\n}\r\n","import { format } from \"date-fns\";\r\nimport { Alert, Control } from \"../redux/frameworkSlice\";\r\n\r\nexport const ISOAlerts: Alert[] = [\r\n  {\r\n    title: \"Control 13.1.3\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> An unauthorized device has connected\r\n        to, or has attempted to connect to, the segregated OT ICS network in\r\n        violation of ISO27001 Control 13.1.3\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.10.1.2\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All cryptographic keys are fully stored and\r\n        backed up. ISO27001 Control A.10.1.2 is no longer in violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.18.1.3\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> Certain data records are vulnerable to\r\n        physical damage, violating ISO270001 Control A.18.1.3\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.14.1.2\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All systems connected to public networks are\r\n        now appropriately secured. ISO27001 Control A.14.1.2 is no longer in\r\n        violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.11.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All sensitive areas are now appropriately\r\n        secured. ISO27001 Control A.11.1.1 is no longer in violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.11.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> Some systems have not been reviewed\r\n        after a platform change, violating ISO27001 Control A.14.2.3\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control A.7.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> Employees without appropriate\r\n        screening have access to sensitive information, placing them in\r\n        violation of ISO27001 Control A.7.1.1\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n];\r\n\r\nexport const ISOControls: Control[] = [\r\n  {\r\n    id: \"A.13.1.1\",\r\n    isActive: true,\r\n    description: \"Network Control\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.13.1.2\",\r\n    isActive: true,\r\n    description: \"Security of Network Service\",\r\n    severity: \"low\",\r\n    compliance: Math.random(),\r\n  },\r\n  {\r\n    id: \"A.13.1.3\",\r\n    isActive: true,\r\n    description: \"Segregation in Network\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.13.2.1\",\r\n    isActive: true,\r\n    description: \"Information Transfer Policies & Procedure\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.13.2.2\",\r\n    isActive: true,\r\n    description: \"Agreements on Information Transfe\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.13.2.3\",\r\n    isActive: true,\r\n    description: \"Electronic Messagin\",\r\n    severity: \"medium\",\r\n    compliance: Math.random(),\r\n  },\r\n  {\r\n    id: \"A.13.2.4\",\r\n    isActive: true,\r\n    description: \"Confidentiality or Non-Disclosure Agreement\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.1.1\",\r\n    isActive: true,\r\n    description: \"Information Security Requirements Analysis & Specificatio\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.1.2\",\r\n    isActive: true,\r\n    description: \"Securing Application Services on Public Network\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.1.3\",\r\n    isActive: true,\r\n    description: \"Protecting Application Services Transaction\",\r\n    severity: \"medium\",\r\n    compliance: Math.random(),\r\n  },\r\n  {\r\n    id: \"A.14.2.1\",\r\n    isActive: true,\r\n    description: \"Secure Development Polic\",\r\n    severity: \"medium\",\r\n    compliance: Math.random(),\r\n  },\r\n  {\r\n    id: \"A.14.2.2\",\r\n    isActive: true,\r\n    description: \"System Change Control Procedure\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.2.3\",\r\n    isActive: true,\r\n    description:\r\n      \"Technical Review of Applications After Operating Platform Change\",\r\n    severity: \"medium\",\r\n    compliance: Math.random(),\r\n  },\r\n  {\r\n    id: \"A.14.2.4\",\r\n    isActive: true,\r\n    description: \"Restrictions on Changes to Software Package\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.2.5\",\r\n    isActive: true,\r\n    description: \"Secure System Engineering Principle\",\r\n    severity: \"low\",\r\n    compliance: Math.random(),\r\n  },\r\n  {\r\n    id: \"A.14.2.6\",\r\n    isActive: true,\r\n    description: \"Secure Development Environmen\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.2.7\",\r\n    isActive: true,\r\n    description: \"Outsourced Developmen\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.2.8\",\r\n    isActive: true,\r\n    description: \"System Security Testin\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"A.14.2.9\",\r\n    isActive: true,\r\n    description: \"System Acceptance Testin\",\r\n    severity: \"low\",\r\n    compliance: Math.random(),\r\n  },\r\n  {\r\n    id: \"A.14.3.1\",\r\n    isActive: true,\r\n    description: \"Protection of Test Dat\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n];\r\n","import { format } from \"date-fns\";\r\nimport { Alert, Control } from \"../redux/frameworkSlice\";\r\n\r\nexport const NISTAlerts: Alert[] = [\r\n  {\r\n    title: \"Control 5.2.2\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> A user ID has failed to enter the\r\n        correct password in the required number of attempts and is in violation\r\n        of NIST Control 5.2.2\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control 9.1\",\r\n    child: (\r\n      <>\r\n        <strong>No Risk:</strong> All systems have passed Privacy Risk\r\n        Assessments. NIST Control 9.1 is no longer in violation.\r\n      </>\r\n    ),\r\n    severity: \"success\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n];\r\n\r\nexport const NISTControls: Control[] = [\r\n  {\r\n    id: \"5.1\",\r\n    isActive: true,\r\n    description: \"Requirements by Authenticator Typ\",\r\n    severity: \"medium\",\r\n    nestedControls: [\r\n      {\r\n        id: \"5.1.1\",\r\n        isActive: true,\r\n        description: \"Memorized Secret\",\r\n        severity: \"low\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.1.1\",\r\n            isActive: true,\r\n            description: \"Memorized Secret Authenticator\",\r\n            severity: \"medium\",\r\n            compliance: Math.random(),\r\n          },\r\n          {\r\n            id: \"5.1.1.2\",\r\n            isActive: true,\r\n            description: \"Memorized Secret Verifier\",\r\n            severity: \"low\",\r\n            compliance: Math.random(),\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.2\",\r\n        isActive: true,\r\n        description: \"Look-Up Secret\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.2.1\",\r\n            isActive: true,\r\n            description: \"Look-Up Secret Authenticator\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n          {\r\n            id: \"5.1.2.2\",\r\n            isActive: true,\r\n            description: \"Look-Up Secret Verifier\",\r\n            severity: \"medium\",\r\n            compliance: Math.random(),\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.3\",\r\n        isActive: true,\r\n        description: \"Out-of-Band Device\",\r\n        severity: \"high\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.3.1\",\r\n            isActive: true,\r\n            description: \"Out-of-Band Authenticator\",\r\n            severity: \"medium\",\r\n            compliance: Math.random(),\r\n          },\r\n          {\r\n            id: \"5.1.3.2\",\r\n            isActive: true,\r\n            description: \"Out-of-Band Verifier\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n          {\r\n            id: \"5.1.3.3\",\r\n            isActive: true,\r\n            description:\r\n              \"Authentication using the Public Switched Telephone Networ\",\r\n            severity: \"medium\",\r\n            compliance: Math.random(),\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.4\",\r\n        isActive: true,\r\n        description: \"Single-Factor OTP Devic\",\r\n        severity: \"high\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.4.1\",\r\n            isActive: true,\r\n            description: \"Single-Factor OTP Authenticator\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n          {\r\n            id: \"5.1.4.2\",\r\n            isActive: true,\r\n            description: \"Single-Factor OTP Verifier\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.5\",\r\n        isActive: true,\r\n        description: \"Multi-Factor OTP Device\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.5.1\",\r\n            isActive: true,\r\n            description: \"Multi-Factor OTP Authenticator\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n          {\r\n            id: \"5.1.5.2\",\r\n            isActive: true,\r\n            description: \"Multi-Factor OTP Verifier\",\r\n            severity: \"low\",\r\n            compliance: 1,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.6\",\r\n        isActive: true,\r\n        description: \"Single-Factor Cryptographic Softwar\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.6.1\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Software Authenticator\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n          {\r\n            id: \"5.1.6.2\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Software Verifier\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.7\",\r\n        isActive: true,\r\n        description: \"Single-Factor Cryptographic Device\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.7.1\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Device Authenticator\",\r\n            severity: \"high\",\r\n            compliance: 1,\r\n          },\r\n          {\r\n            id: \"5.1.7.2\",\r\n            isActive: true,\r\n            description: \"Single-Factor Cryptographic Device Verifier\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.8\",\r\n        isActive: true,\r\n        description: \"Multi-Factor Cryptographic Softwar\",\r\n        severity: \"medium\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.8.1\",\r\n            isActive: true,\r\n            description: \"Multi-Factor Cryptographic Software Authenticator\",\r\n            severity: \"high\",\r\n            compliance: 1,\r\n          },\r\n          {\r\n            id: \"5.1.8.2\",\r\n            isActive: true,\r\n            description: \"Multi-Factor Cryptographic Software Verifier\",\r\n            severity: \"medium\",\r\n            compliance: 1,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"5.1.9\",\r\n        isActive: true,\r\n        description: \"Multi-Factor Cryptographic Device\",\r\n        severity: \"low\",\r\n        nestedControls: [\r\n          {\r\n            id: \"5.1.9.1\",\r\n            isActive: true,\r\n            description: \"Multi-Factor Cryptographic Device Authenticator\",\r\n            severity: \"low\",\r\n            compliance: 1,\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { format } from \"date-fns\";\r\nimport { v4 } from \"uuid\";\r\nimport { RootState } from \"./store\";\r\n\r\nexport interface StixObject {}\r\n\r\nexport interface AvailableThreatFeed {\r\n  id: string;\r\n  isActive: boolean;\r\n  name: string;\r\n  url: string;\r\n}\r\n\r\nexport interface API {\r\n  id: string;\r\n  isActive: boolean;\r\n  name: string;\r\n  username: string;\r\n  password: string;\r\n  token: string;\r\n  url: string;\r\n  lastSyncTimestamp: string;\r\n  pollInterval: string;\r\n}\r\n\r\nexport interface ThreatFeedState {\r\n  threatFeeds: API[];\r\n  apis: API[];\r\n}\r\n\r\nconst createAPI = (name: string): API => ({\r\n  id: `api-${name}`,\r\n  isActive: Math.random() > 0.5,\r\n  name,\r\n  username: `user-${name}`,\r\n  password: `user-${name}-pass`,\r\n  token: v4(),\r\n  url: \"http://api.plos.org/search?q=title:DNA\",\r\n  lastSyncTimestamp: format(new Date(), \"T\"),\r\n  pollInterval: Math.random() > 0.5 ? \"1 hour\" : \"3 Days\",\r\n});\r\n\r\nconst initialState: ThreatFeedState = {\r\n  threatFeeds: [\r\n    createAPI(\"AbuseIPDB\"),\r\n    createAPI(\"Alexa Top 1 Million sites\"),\r\n    createAPI(\"Apility.io\"),\r\n    createAPI(\"APT Groups and Operations\"),\r\n    createAPI(\"AutoShun\"),\r\n    createAPI(\"Binary Defense IP Banlist\"),\r\n    createAPI(\"BGP Ranking\"),\r\n    createAPI(\"Botnet Tracker\"),\r\n    createAPI(\"BOTVRIJ.EU\"),\r\n    createAPI(\"BruteForceBlocker\"),\r\n    createAPI(\"C&C Tracker\"),\r\n    createAPI(\"CertStream\"),\r\n    createAPI(\"CCSS Forum Malware Certificates\"),\r\n    createAPI(\"CI Army List\"),\r\n    createAPI(\"Cisco Umbrella\"),\r\n    createAPI(\"Critical Stack Intel\"),\r\n    createAPI(\"Cyber Cure free intelligence feeds\"),\r\n    createAPI(\"DataPlane.org\"),\r\n    createAPI(\"DigitalSide Threat-Intel\"),\r\n    createAPI(\"Disposable Email Domains\"),\r\n    createAPI(\"DNSTrails\"),\r\n    createAPI(\"Emerging Threats Firewall Rules\"),\r\n    createAPI(\"Emerging Threats IDS Rules\"),\r\n    createAPI(\"ExoneraTor\"),\r\n    createAPI(\"Exploitalert\"),\r\n    createAPI(\"FastIntercept\"),\r\n    createAPI(\"ZeuS Tracker\"),\r\n    createAPI(\"FireHOL IP Lists\"),\r\n    createAPI(\"FraudGuard\"),\r\n    createAPI(\"Grey Noise\"),\r\n    createAPI(\"Hail a TAXII\"),\r\n    createAPI(\"HoneyDB\"),\r\n  ],\r\n  apis: [\r\n    createAPI(\"Icewater\"),\r\n    createAPI(\"Infosec - CERT-PA\"),\r\n    createAPI(\"InQuest Labs\"),\r\n    createAPI(\"I-Blocklist\"),\r\n    createAPI(\"IPsum\"),\r\n    createAPI(\"Kaspersky Threat Data Feeds\"),\r\n    createAPI(\"Majestic Million\"),\r\n    createAPI(\"Malc0de DNS Sinkhole\"),\r\n    createAPI(\"Maldatabase\"),\r\n    createAPI(\"Malpedia\"),\r\n    createAPI(\"MalShare.com\"),\r\n    createAPI(\"Maltiverse\"),\r\n    createAPI(\"Malware Domain List\"),\r\n    createAPI(\"Malware-Traffic-Analysis.net\"),\r\n    createAPI(\"MalwareDomains.com\"),\r\n    createAPI(\"MetaDefender Cloud\"),\r\n    createAPI(\"Netlab OpenData Project\"),\r\n    createAPI(\"NoThink!\"),\r\n    createAPI(\"NormShield Services\"),\r\n    createAPI(\"NovaSense Threats\"),\r\n    createAPI(\"OpenPhish Feeds\"),\r\n    createAPI(\"PhishTank\"),\r\n    createAPI(\"REScure Threat Intel Feed\"),\r\n    createAPI(\"Rutgers Blacklisted IPs\"),\r\n    createAPI(\"SANS ICS Suspicious Domains\"),\r\n    createAPI(\"signature-base\"),\r\n  ],\r\n};\r\n\r\nexport const threatFeedSlice = createSlice({\r\n  name: \"threatFeed\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action: PayloadAction<{ newThreatFeed: API }>) => {\r\n      state.threatFeeds = [...state.threatFeeds, action.payload.newThreatFeed];\r\n    },\r\n    remove: (state, action: PayloadAction<{ id: string }>) => {\r\n      const index = state.threatFeeds.findIndex(\r\n        (threatFeed) => threatFeed.id === action.payload.id\r\n      );\r\n      if (index > -1) state.threatFeeds.splice(index, 1);\r\n    },\r\n    updateThreatFeed: (\r\n      state,\r\n      action: PayloadAction<{ id: string; newThreatFeed: API }>\r\n    ) => {\r\n      const index = state.threatFeeds.findIndex(\r\n        (threatFeed) => threatFeed.id === action.payload.id\r\n      );\r\n      if (index > -1) state.threatFeeds[index] = action.payload.newThreatFeed;\r\n    },\r\n    updateAPI: (state, action: PayloadAction<{ id: string; newAPI: API }>) => {\r\n      const index = state.apis.findIndex((api) => api.id === action.payload.id);\r\n      if (index > -1) state.apis[index] = action.payload.newAPI;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { add, remove, updateThreatFeed, updateAPI } =\r\n  threatFeedSlice.actions;\r\n\r\nexport const selectThreatFeedSlice = (state: RootState) => state.threatFeed;\r\nexport const selectThreatFeeds = (state: RootState) =>\r\n  state.threatFeed.threatFeeds;\r\nexport const selectAPIs = (state: RootState) => state.threatFeed.apis;\r\n\r\nexport const selectThreatFeedById = (id: string) =>\r\n  createSelector(selectThreatFeedSlice, (threatFeed) =>\r\n    threatFeed.threatFeeds.find((threatFeed) => threatFeed.id === id)\r\n  );\r\n\r\nexport default threatFeedSlice.reducer;\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"./store\";\r\nimport userData from \"../data/UserData.json\";\r\n\r\nexport type Role =\r\n  | \"Administrator\"\r\n  | \"Security Team\"\r\n  | \"C-Level\"\r\n  | \"VP-Level\"\r\n  | \"Director\"\r\n  | \"Manager\"\r\n  | \"Analyst\"\r\n  | \"Frontline\"\r\n  | \"Regulatory Reporting\"\r\n  | \"Compliance Reporting\"\r\n  | \"Audit\";\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  role: Role;\r\n}\r\n\r\nexport interface UserState {\r\n  users: User[];\r\n}\r\n\r\nconst initialState: UserState = {\r\n  users: userData.map((item) => ({ ...item, role: item.role as Role })),\r\n};\r\n\r\nexport const userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action: PayloadAction<{ newUser: User }>) => {\r\n      state.users = [...state.users, action.payload.newUser];\r\n    },\r\n    remove: (state, action: PayloadAction<{ id: string }>) => {\r\n      const index = state.users.findIndex(\r\n        (user) => user.id === action.payload.id\r\n      );\r\n      if (index > -1) state.users.splice(index, 1);\r\n    },\r\n    update: (state, action: PayloadAction<{ id: string; newUser: User }>) => {\r\n      const index = state.users.findIndex(\r\n        (user) => user.id === action.payload.id\r\n      );\r\n      if (index > -1) state.users[index] = action.payload.newUser;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { add, remove, update } = userSlice.actions;\r\n\r\nexport const selectUserSlice = (state: RootState) => state.user;\r\nexport const selectUsers = (state: RootState) => state.user.users;\r\n\r\n// export const selectDashboardById = (id: string) =>\r\n//   createSelector(selectDashboardSlice, (dashboard) =>\r\n//     dashboard.dashboards.find((dash) => dash.id === id)\r\n//   );\r\n\r\nexport default userSlice.reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { dashboardSlice } from \"./dashboardSlice\";\r\nimport { frameworkSlice } from \"./frameworkSlice\";\r\nimport { threatFeedSlice } from \"./threatFeedSlice\";\r\nimport { userSlice } from \"./userSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    dashboard: dashboardSlice.reducer,\r\n    framework: frameworkSlice.reducer,\r\n    threatFeed: threatFeedSlice.reducer,\r\n    user: userSlice.reducer,\r\n  },\r\n  devTools: true,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import { createContext, useState } from \"react\";\r\nimport { WidgetIdType } from \"../redux/widgetSlice\";\r\n\r\nexport const AppContext = createContext<AppContextType>({\r\n  state: { type: null },\r\n  setType: () => {},\r\n  clearType: () => {},\r\n});\r\n\r\nexport type stateType = {\r\n  type: WidgetIdType;\r\n};\r\n\r\nexport type AppContextType = {\r\n  state: stateType;\r\n  setType: (type: WidgetIdType) => void;\r\n  clearType: () => void;\r\n};\r\n\r\nfunction AppProvider({ children }: { children: any }) {\r\n  const [state, setState] = useState<stateType>({\r\n    type: null,\r\n  });\r\n\r\n  const setType = (type: WidgetIdType) => {\r\n    setState((prev) => ({ ...prev, type: type }));\r\n  };\r\n\r\n  const clearType = () => {\r\n    setState((prev) => ({ ...prev, type: null }));\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        state,\r\n        setType,\r\n        clearType,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport default AppProvider;\r\n","export default __webpack_public_path__ + \"static/media/logo-12.2ee0e9bc.svg\";","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState, AppDispatch } from \"./store\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { useAppSelector } from \"../../redux/hooks\";\r\nimport { selectDashboards } from \"../../redux/dashboardSlice\";\r\nimport { selectFrameworks } from \"../../redux/frameworkSlice\";\r\n\r\nexport type drawerItemType = {\r\n  title: string;\r\n  link?: string;\r\n  icon?: string;\r\n  isNested?: boolean;\r\n  nestedListItems?: drawerItemType[];\r\n};\r\n\r\nexport function useDrawerItems(): drawerItemType[] {\r\n  return [\r\n    useDashboardItems(),\r\n    useFrameworkItems(),\r\n    {\r\n      title: \"Threat Intelligence Feeds\",\r\n      icon: \"wifi_tethering_error_rounded\",\r\n      isNested: true,\r\n      nestedListItems: [{ title: \"Overview\" }, { title: \"STIX/TAXII\" }],\r\n    },\r\n    {\r\n      title: \"APIs\",\r\n      icon: \"power\",\r\n      isNested: true,\r\n      nestedListItems: [\r\n        { title: \"My API\" },\r\n        { title: \"API2\" },\r\n        { title: \"HVAC Sensors\" },\r\n      ],\r\n    },\r\n    {\r\n      title: \"Admin\",\r\n      icon: \"supervisor_account\",\r\n      isNested: true,\r\n      nestedListItems: [\r\n        useTuneItem(\"Manage Users\", \"/admin/users\"),\r\n        useTuneItem(\"Manage Frameworks\", \"/admin/framework\"),\r\n        useTuneItem(\"Manage Corporate GIS\", \"/admin/corporateGIS\"),\r\n        useTuneItem(\"Manage Global GIS\", \"/admin/globalGIS\"),\r\n        useTuneItem(\"Manage Threat Feeds\", \"/admin/threatfeed\"),\r\n        useTuneItem(\"Manage APIs\", \"/admin/api\"),\r\n      ],\r\n    },\r\n  ];\r\n}\r\n\r\nexport function useDashboardItems() {\r\n  const dashboards = useAppSelector(selectDashboards);\r\n\r\n  const nestedListItems = dashboards.map((dash) => ({\r\n    title: dash.name,\r\n    link: `/dashboard/${dash.id}`,\r\n  }));\r\n\r\n  return {\r\n    title: \"Dashboards\",\r\n    icon: \"dashboard\",\r\n    isNested: true,\r\n    nestedListItems: [...nestedListItems],\r\n  };\r\n}\r\n// OVERDUE\r\nexport function useFrameworkItems() {\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n\r\n  const nestedListItems = frameworks.map((frame) => ({\r\n    title: frame.name,\r\n    link: `/framework/${frame.id}`,\r\n  }));\r\n\r\n  return {\r\n    title: \"Frameworks\",\r\n    icon: \"device_hub\",\r\n    isNested: true,\r\n    nestedListItems: [...nestedListItems],\r\n  };\r\n}\r\n\r\nfunction useTuneItem(title: string, link: string) {\r\n  return {\r\n    title,\r\n    link,\r\n    icon: \"tune\",\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\nimport { default as MuiDrawer } from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { Collapse, Icon } from \"@material-ui/core\";\r\nimport { ExpandMore } from \"@material-ui/icons\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { drawerItemType, useDrawerItems } from \"./DrawerData\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    drawer: ({ drawerWidth }: { drawerWidth?: number }) => ({\r\n      width: drawerWidth || 300,\r\n      flexShrink: 0,\r\n    }),\r\n    drawerPaper: ({ drawerWidth }: { drawerWidth?: number }) => ({\r\n      width: drawerWidth || 300,\r\n    }),\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-end\",\r\n    },\r\n    drawerContainer: {\r\n      overflow: \"auto\",\r\n    },\r\n    drawerItemIcon: {\r\n      color: theme.palette.text.secondary,\r\n      transition: theme.transitions.create(\"transform\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    drawerItemIconRotated: {\r\n      transform: \"rotate(180deg)\",\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(2),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Drawer({\r\n  drawerWidth,\r\n  open,\r\n}: {\r\n  drawerWidth: number;\r\n  open: boolean;\r\n}) {\r\n  const classes = useStyles({ drawerWidth: drawerWidth });\r\n\r\n  const drawerItems = useDrawerItems();\r\n\r\n  return (\r\n    <MuiDrawer\r\n      className={classes.drawer}\r\n      variant=\"persistent\"\r\n      anchor=\"left\"\r\n      open={open}\r\n      classes={{\r\n        paper: classes.drawerPaper,\r\n      }}\r\n    >\r\n      <div className={classes.drawerHeader} />\r\n      <div className={classes.drawerContainer}>\r\n        <List>\r\n          {drawerItems.map((item, index) => (\r\n            <DrawerItem key={`drawer-item-${item.title}`} item={item} />\r\n          ))}\r\n        </List>\r\n      </div>\r\n    </MuiDrawer>\r\n  );\r\n}\r\n\r\nfunction DrawerItem({\r\n  item,\r\n  useDivider = true,\r\n}: {\r\n  item: drawerItemType;\r\n  useDivider?: boolean;\r\n}) {\r\n  const classes = useStyles({});\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [open, setOpen] = React.useState(\r\n    item.isNested &&\r\n      recursivelySearchDrawerListItem(item, (i) => {\r\n        return i.link !== undefined && location.pathname.includes(i.link);\r\n      })\r\n  );\r\n\r\n  const goToLink = () => {\r\n    history.push(item.link || \"\");\r\n  };\r\n\r\n  const toggleOpen = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (item.isNested) toggleOpen();\r\n    if (item.link) goToLink();\r\n  };\r\n\r\n  const selected =\r\n    (item.isNested &&\r\n      recursivelySearchDrawerListItem(item, (i) => {\r\n        return i.link !== undefined && location.pathname.includes(i.link);\r\n      })) ||\r\n    (item.link !== undefined && location.pathname.includes(item.link));\r\n\r\n  return (\r\n    <div>\r\n      <ListItem button onClick={handleClick} selected={selected}>\r\n        <ListItemIcon>\r\n          <Icon\r\n          // style={{ color: selected ? \"white\" : undefined }}\r\n          >\r\n            {item.icon !== \"tune\" && item.icon}\r\n          </Icon>\r\n        </ListItemIcon>\r\n        <ListItemText primary={item.title} />\r\n        {item.isNested && item.nestedListItems && (\r\n          <ExpandMore\r\n            className={`${classes.drawerItemIcon} ${\r\n              open && classes.drawerItemIconRotated\r\n            }`}\r\n            // style={{ color: selected ? \"white\" : undefined }}\r\n          />\r\n        )}\r\n        {item.icon === \"tune\" && (\r\n          <Icon\r\n            className={classes.drawerItemIcon}\r\n            // style={{ color: selected ? \"white\" : undefined }}\r\n          >\r\n            {item.icon}\r\n          </Icon>\r\n        )}\r\n      </ListItem>\r\n\r\n      {item.isNested && item.nestedListItems && (\r\n        <Collapse className={classes.nested} in={open} timeout=\"auto\">\r\n          <List component=\"div\" disablePadding>\r\n            {item.nestedListItems.map((nestedItem) => (\r\n              <DrawerItem\r\n                key={`drawer-item-${nestedItem.title}`}\r\n                item={nestedItem}\r\n                useDivider={false}\r\n              />\r\n            ))}\r\n          </List>\r\n        </Collapse>\r\n      )}\r\n\r\n      {useDivider && <Divider />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction recursivelySearchDrawerListItem(\r\n  item: drawerItemType,\r\n  predicate: (item: drawerItemType) => boolean\r\n) {\r\n  for (const i of item.nestedListItems || []) {\r\n    if (predicate(i)) return true;\r\n    recursivelySearchDrawerListItem(i, predicate);\r\n  }\r\n  return false;\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  createStyles,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  makeStyles,\r\n  Menu,\r\n  MenuItem,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { Add, Cancel, Close, Edit, MoreVert, Save } from \"@material-ui/icons\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { ChangeEvent, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport {\r\n  add,\r\n  remove,\r\n  selectDashboardById,\r\n} from \"../../../redux/dashboardSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    dialog: {\r\n      // width: \"80vw\",\r\n      // height: \"75vh\",\r\n      overflow: \"visible\",\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function DashboardActions() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[2];\r\n  const history = useHistory();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const handleMenuOpen = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const handleDialogOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDialogClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ButtonGroup\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        disableElevation\r\n        size=\"small\"\r\n      >\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<Edit />}\r\n          onClick={() => history.push(`/dashboard/edit/${thisId}`)}\r\n        >\r\n          Edit\r\n        </Button>\r\n        <Button>Share</Button>\r\n        <Button onClick={handleMenuOpen}>\r\n          <MoreVert />\r\n        </Button>\r\n        <Menu\r\n          id=\"dashboard-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleMenuClose}\r\n        >\r\n          <MenuItem\r\n            onClick={() => {\r\n              handleMenuClose();\r\n              handleDialogOpen();\r\n            }}\r\n          >\r\n            Add New Dashboard\r\n          </MenuItem>\r\n          {thisId !== \"home\" && (\r\n            <MenuItem\r\n              onClick={() => {\r\n                handleMenuClose();\r\n                dispatch(remove({ id: thisId }));\r\n                history.push(`/dashboard/home`);\r\n              }}\r\n            >\r\n              Delete This Dashboard\r\n            </MenuItem>\r\n          )}\r\n        </Menu>\r\n      </ButtonGroup>\r\n      <AddDialog open={open} handleClose={handleDialogClose} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport function DashboardEditActions() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[3];\r\n  const dashboard = useAppSelector(selectDashboardById(thisId));\r\n  const history = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  return (\r\n    <ButtonGroup color=\"primary\" disableElevation>\r\n      <Button\r\n        startIcon={<Cancel />}\r\n        onClick={() => {\r\n          history.push(`/dashboard/${thisId}`);\r\n        }}\r\n      >\r\n        Cancel\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        startIcon={<Save />}\r\n        onClick={() => {\r\n          history.push(`/dashboard/${thisId}`);\r\n          enqueueSnackbar(\r\n            <>\r\n              Successfully saved dashboard:&nbsp;\r\n              <strong>{dashboard?.name || undefined}</strong>\r\n            </>,\r\n            { variant: \"success\" }\r\n          );\r\n        }}\r\n      >\r\n        Save\r\n      </Button>\r\n    </ButtonGroup>\r\n  );\r\n}\r\n\r\nfunction AddDialog({\r\n  open,\r\n  handleClose,\r\n}: {\r\n  open: boolean;\r\n  handleClose: () => void;\r\n}) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleAdd = () => {\r\n    if (name.length === 0) return;\r\n    dispatch(\r\n      add({ newDashboard: { id: `dashboard-${name}`, name, layout: [] } })\r\n    );\r\n    handleClose();\r\n    history.push(`/dashboard/dashboard-${name}`);\r\n    enqueueSnackbar(\r\n      <>\r\n        Successfully added dashboard:&nbsp;\r\n        <strong>{name}</strong>\r\n      </>,\r\n      { variant: \"success\" }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open} fullWidth maxWidth=\"sm\">\r\n      <DialogTitle\r\n        id=\"simple-dialog-title\"\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        Add a Dashboard\r\n        <IconButton onClick={handleClose} className={classes.closeButton}>\r\n          <Close />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent className={classes.dialog}>\r\n        <Box display=\"flex\">\r\n          <TextField\r\n            id=\"standard-name\"\r\n            label=\"Name\"\r\n            value={name}\r\n            variant=\"filled\"\r\n            onChange={handleChange}\r\n            fullWidth\r\n            InputProps={{\r\n              endAdornment: (\r\n                <Button\r\n                  endIcon={<Add />}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={handleAdd}\r\n                >\r\n                  Add\r\n                </Button>\r\n              ),\r\n            }}\r\n          />\r\n        </Box>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Card,\r\n  CardHeader,\r\n  makeStyles,\r\n  TypographyProps,\r\n} from \"@material-ui/core\";\r\nimport classNames from \"classnames\";\r\nimport { CSSProperties, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    // height: \"100%\",\r\n    // width: \"100%\",\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    // flexDirection: \"column\",\r\n  },\r\n  \"@keyframes fadeIn\": {\r\n    \"0%\": {\r\n      transform: \"rotate(0deg)\",\r\n    },\r\n    \"25%\": {\r\n      transform: \"rotate(-1deg)\",\r\n    },\r\n    \"75%\": {\r\n      transform: \"rotate(1deg)\",\r\n    },\r\n    \"100%\": {\r\n      rotate: \"rotate(0deg)\",\r\n    },\r\n  },\r\n  isEditing: {\r\n    border: `1px solid rgba(0, 0, 0, 0)`,\r\n    \"&:active\": {\r\n      border: `1px solid ${theme.palette.primary.light}`,\r\n      boxShadow: theme.shadows[15],\r\n    },\r\n  },\r\n  grabbable: {\r\n    cursor: \"move !important\",\r\n    \"&:hover\": {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n  isDragging: {\r\n    boxShadow: theme.shadows[15],\r\n  },\r\n}));\r\n\r\nexport default function Module({\r\n  title,\r\n  titleTypographyProps,\r\n  children,\r\n  useCard = true,\r\n  cardStyles,\r\n  actions,\r\n}: {\r\n  title: string;\r\n  titleTypographyProps?: TypographyProps;\r\n  children?: any;\r\n  useCard?: boolean;\r\n  cardStyles?: CSSProperties;\r\n  actions?: any;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const location = useLocation();\r\n  const isEditable = location.pathname.includes(\"/dashboard/edit\");\r\n  const [dragging, setDragging] = useState(false);\r\n\r\n  return (\r\n    <Box\r\n      className={classNames(\"ModuleDragHandle\", {\r\n        [classes.grabbable]: isEditable,\r\n      })}\r\n      height=\"100%\"\r\n      width=\"100%\"\r\n      display=\"flex\"\r\n      flexDirection=\"column\"\r\n      onMouseDown={() => setDragging(isEditable && true)}\r\n      onMouseUp={() => setDragging(isEditable && false)}\r\n    >\r\n      <CardHeader\r\n        title={title}\r\n        titleTypographyProps={{ variant: \"h6\", ...titleTypographyProps }}\r\n        style={{ paddingTop: 0, paddingBottom: 0 }}\r\n        action={<Box marginRight={isEditable ? 5 : undefined}>{actions}</Box>}\r\n      />\r\n      {useCard ? (\r\n        <Card\r\n          className={classes.container}\r\n          elevation={dragging ? 15 : 2}\r\n          // variant='outlined'\r\n          style={cardStyles}\r\n        >\r\n          {children}\r\n        </Card>\r\n      ) : (\r\n        children\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import { createStyles, fade, makeStyles, useTheme } from \"@material-ui/core\";\r\nimport { Cell, Label, Pie, PieChart, ResponsiveContainer } from \"recharts\";\r\nimport { v4 } from \"uuid\";\r\nimport { getColor } from \"../../util\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    \"@keyframes fadeIn\": {\r\n      \"0%\": {\r\n        opacity: 0,\r\n        transform: \"translateY(2rem) scale(0.95)\",\r\n      },\r\n      \"100%\": {\r\n        opacity: 1,\r\n        transform: \"translateY(0)\",\r\n      },\r\n    },\r\n    fadeIn: {\r\n      animation: \"$fadeIn 1.5s ease backwards 1s\",\r\n      transformOrigin: \"center\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function PieChartRating({\r\n  percent,\r\n  inverse = false,\r\n  variant = \"normal\",\r\n}: {\r\n  percent: number;\r\n  inverse?: boolean;\r\n  variant?: \"normal\" | \"small\" | \"tiny\";\r\n}) {\r\n  // const [num, setNum] = useState(0);\r\n\r\n  const data = [\r\n    {\r\n      name: \"Group A\",\r\n      value: Math.round(percent * 100),\r\n    },\r\n    {\r\n      name: \"Group B\",\r\n      value: Math.round((1 - percent) * 100),\r\n    },\r\n  ];\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const color = getColor(percent, inverse);\r\n\r\n  if (variant === \"normal\")\r\n    return (\r\n      <ResponsiveContainer minHeight={150}>\r\n        <PieChart>\r\n          <Pie\r\n            data={data}\r\n            dataKey=\"value\"\r\n            nameKey=\"name\"\r\n            startAngle={90}\r\n            endAngle={-270}\r\n            paddingAngle={5}\r\n            innerRadius=\"85%\"\r\n            outerRadius=\"100%\"\r\n            stroke=\"none\"\r\n          >\r\n            {data.map((entry, index) => (\r\n              <Cell\r\n                key={`${v4()}-${entry.name}`}\r\n                fill={index === 0 ? color : fade(color, 0.2)}\r\n              />\r\n            ))}\r\n            <Label\r\n              className={classes.fadeIn}\r\n              value={`${Math.round(percent * 100)}%`}\r\n              position=\"center\"\r\n              dominantBaseline=\"center\"\r\n              fontSize={theme.typography.h4.fontSize}\r\n              fontWeight={600}\r\n              fill={color}\r\n            />\r\n          </Pie>\r\n        </PieChart>\r\n      </ResponsiveContainer>\r\n    );\r\n\r\n  if (variant === \"tiny\" || variant === \"small\")\r\n    return (\r\n      <PieChart\r\n        margin={{ top: 0, bottom: 0, left: 0, right: 0 }}\r\n        height={variant === \"tiny\" ? 24 : 32}\r\n        width={variant === \"tiny\" ? 24 : 32}\r\n      >\r\n        <Pie\r\n          data={data}\r\n          dataKey=\"value\"\r\n          nameKey=\"name\"\r\n          startAngle={90}\r\n          endAngle={-270}\r\n          paddingAngle={0}\r\n          innerRadius=\"60%\"\r\n          outerRadius=\"100%\"\r\n          animationDuration={800}\r\n          stroke=\"none\"\r\n        >\r\n          {data.map((entry, index) => (\r\n            <Cell\r\n              key={`${v4()}-${entry.name}`}\r\n              fill={index === 0 ? color : fade(color, 0.2)}\r\n            />\r\n          ))}\r\n          {color === \"#f1462f\" && (\r\n            <Label\r\n              value=\"!\"\r\n              position=\"center\"\r\n              dominantBaseline=\"center\"\r\n              fontSize={theme.typography.h6.fontSize}\r\n              fontWeight={800}\r\n              fill={color}\r\n            />\r\n          )}\r\n        </Pie>\r\n      </PieChart>\r\n    );\r\n\r\n  return <></>;\r\n}\r\n","export function getColor(percent: number, inverse?: boolean) {\r\n  if (!inverse) {\r\n    if (percent <= 0.33) return \"#3adf5d\";\r\n    else if (percent <= 0.66) return \"#ffa339\";\r\n    else return \"#f1462f\";\r\n  } else {\r\n    if (percent <= 0.33) return \"#f1462f\";\r\n    else if (percent <= 0.66) return \"#ffa339\";\r\n    else return \"#3adf5d\";\r\n  }\r\n}\r\n","import { Button, createStyles, Grid, makeStyles } from \"@material-ui/core\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport { format, parse } from \"date-fns\";\r\nimport { Alert as AlertType } from \"../../../redux/frameworkSlice\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      width: \"100%\",\r\n      // height: \"100%\",\r\n      // maxHeight: \"80vh\",\r\n      // overflow: \"auto\",\r\n      // boxSizing: \"content-box\",\r\n    },\r\n    alert: {\r\n      width: \"100%\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function AlertList({ alerts }: { alerts: AlertType[] }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container className={classes.container} spacing={1}>\r\n      {alerts.map((item) => (\r\n        <Grid item xs={12}>\r\n          <Alert\r\n            className={classes.alert}\r\n            severity={item.severity}\r\n            action={\r\n              <Button color=\"inherit\" size=\"small\">\r\n                DISMISS\r\n              </Button>\r\n            }\r\n          >\r\n            <AlertTitle>{item.title}</AlertTitle>\r\n            {item.child}\r\n            <br />\r\n            <i>\r\n              {format(\r\n                parse(item.timestamp, \"T\", new Date()),\r\n                \"hh:mm bbb, eee LLLL Mo\"\r\n              )}\r\n            </i>\r\n          </Alert>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n","import { createStyles, Grid, makeStyles, Typography } from \"@material-ui/core\";\r\nimport { CheckCircle, Notifications, ReportProblem } from \"@material-ui/icons\";\r\n\r\nimport PieChartRating from \"../../widgets/PieChartRating\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexGrow: 1,\r\n    },\r\n    body: {\r\n      display: \"flex\",\r\n      width: \"100%\",\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    pieContainer: {\r\n      // flexGrow: 1,\r\n    },\r\n  })\r\n);\r\n\r\nexport default function FrameworkSummary({\r\n  title,\r\n  subtitle = \"compliance\",\r\n  percent,\r\n  numControls,\r\n  numControlsCompliant,\r\n  numAlerts,\r\n  numViolations,\r\n}: {\r\n  title: string;\r\n  subtitle?: string;\r\n  percent: number;\r\n  numControls?: number;\r\n  numControlsCompliant?: number;\r\n  numAlerts?: number;\r\n  numViolations?: number;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container className={classes.root} direction=\"column\">\r\n      <Grid item>\r\n        <Typography variant=\"h4\">{title}</Typography>\r\n      </Grid>\r\n      <Grid item>\r\n        <Typography variant=\"h6\">{subtitle}</Typography>\r\n      </Grid>\r\n      <Grid container className={classes.body} alignItems=\"center\">\r\n        <Grid item className={classes.pieContainer} xs={7}>\r\n          <PieChartRating percent={percent} inverse />\r\n        </Grid>\r\n        <Grid item xs={5} container spacing={2}>\r\n          {numAlerts !== undefined && (\r\n            <Grid item container direction=\"row\">\r\n              <Grid item xs={3}>\r\n                <Notifications />\r\n              </Grid>\r\n              <Grid item xs={9}>\r\n                <Typography variant=\"body1\" align=\"left\">\r\n                  {numAlerts} alert\r\n                  {numAlerts > 1 ? \"s\" : \"\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n          {numControls !== undefined && numControlsCompliant !== undefined && (\r\n            <Grid item container direction=\"row\">\r\n              <Grid item xs={3}>\r\n                <CheckCircle />\r\n              </Grid>\r\n              <Grid item xs={9}>\r\n                <Typography variant=\"body1\" align=\"left\">\r\n                  {numControlsCompliant} of&nbsp;\r\n                  {numControls} controls compliant\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n          {numViolations !== undefined && (\r\n            <Grid item container direction=\"row\">\r\n              <Grid item xs={3}>\r\n                <ReportProblem />\r\n              </Grid>\r\n              <Grid item xs={9}>\r\n                <Typography variant=\"body1\" align=\"left\">\r\n                  {numViolations} violation\r\n                  {numViolations > 1 ? \"s\" : \"\"} found\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import {\r\n  Accordion,\r\n  AccordionDetails,\r\n  AccordionSummary,\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  Checkbox,\r\n  Chip,\r\n  Collapse,\r\n  createStyles,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Link,\r\n  makeStyles,\r\n  TextField,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  CheckCircle,\r\n  Close,\r\n  Delete,\r\n  ExpandMore,\r\n  NewReleases,\r\n  NoteAdd,\r\n} from \"@material-ui/icons\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport classNames from \"classnames\";\r\nimport { format } from \"date-fns\";\r\nimport { ChangeEvent, useCallback, useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport {\r\n  Control as ControlType,\r\n  countActiveControlDocuments,\r\n  countActiveControlProcesses,\r\n  countActiveControls,\r\n  countAllControls,\r\n  countCompliantControls,\r\n  countValidControlDocuments,\r\n  countValidControlProcesses,\r\n  Document,\r\n  DataItem,\r\n  Framework as FrameworkType,\r\n  getControlsCompliance,\r\n  Process,\r\n  RequiredDocument,\r\n  RequiredProcess,\r\n  updateControl,\r\n} from \"../../../redux/frameworkSlice\";\r\nimport { useAppDispatch } from \"../../../redux/hooks\";\r\nimport Module from \"../../Module\";\r\nimport PieChartRating from \"../../widgets/PieChartRating\";\r\nimport AlertList from \"./AlertList\";\r\nimport FrameworkSummary from \"./FrameworkSummary\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: theme.spacing(1.5),\r\n      margin: 0,\r\n      width: \"100%\",\r\n    },\r\n    accordion: {\r\n      // transition: \"0.15s\",\r\n      \"&::after\": {\r\n        transform: \"scale(0)\",\r\n        transformOrigin: \"left\",\r\n        transition: \"0.15s\",\r\n        content: '\" \"',\r\n        position: \"absolute\",\r\n        height: `calc(100% - ${theme.spacing(2)}px)`,\r\n        width: 3,\r\n        top: theme.spacing(1),\r\n        left: 0,\r\n        backgroundColor: theme.palette.primary.main,\r\n        borderRadius: theme.shape.borderRadius,\r\n      },\r\n      \"&.open\": {\r\n        // paddingLeft: theme.spacing(2.5),\r\n        \"&::after\": {\r\n          transform: \"scaleX(1)\",\r\n        },\r\n      },\r\n    },\r\n    dialog: {\r\n      // width: \"80vw\",\r\n      height: \"75vh\",\r\n      overflow: \"visible\",\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Framework({\r\n  framework,\r\n  canEdit = false,\r\n}: {\r\n  framework: FrameworkType;\r\n  canEdit?: boolean;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const controls = canEdit\r\n    ? framework.controls\r\n    : framework.controls.filter((item) => item.isActive);\r\n\r\n  const numActive = countActiveControls(controls);\r\n  const numCompliant = countCompliantControls(controls);\r\n\r\n  return (\r\n    <Grid className={classes.container} container spacing={3}>\r\n      {canEdit && <EditHeader framework={framework} />}\r\n      {!canEdit && (\r\n        <Grid item xs={4} style={{ display: \"flex\" }}>\r\n          <Module title=\"COMPLIANCE\" cardStyles={{ flexGrow: \"unset\" }}>\r\n            <Box padding={2}>\r\n              <FrameworkSummary\r\n                title={framework.name}\r\n                subtitle=\"\"\r\n                percent={numCompliant / numActive}\r\n                numControls={numActive}\r\n                numControlsCompliant={numCompliant}\r\n                numAlerts={framework.alerts.length}\r\n                numViolations={numActive - numCompliant}\r\n              />\r\n            </Box>\r\n          </Module>\r\n        </Grid>\r\n      )}\r\n      {!canEdit && (\r\n        <Grid item xs={8}>\r\n          <Module title=\"ALERTS\">\r\n            <Box padding={2} maxHeight=\"60vh\" overflow=\"auto\">\r\n              <AlertList alerts={framework.alerts} />\r\n            </Box>\r\n          </Module>\r\n        </Grid>\r\n      )}\r\n      <Grid item xs={12}>\r\n        <Module title=\"CONTROLS\" useCard={false}>\r\n          <Box>\r\n            <ControlList\r\n              frameworkId={framework.id}\r\n              controls={controls}\r\n              canEdit={canEdit}\r\n            />\r\n          </Box>\r\n        </Module>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction EditHeader({ framework }: { framework: FrameworkType }) {\r\n  const total = countAllControls(framework.controls);\r\n  const numActive = countActiveControls(framework.controls);\r\n\r\n  const totalDocs = countActiveControlDocuments(framework.controls);\r\n  const numDocs = countValidControlDocuments(framework.controls);\r\n\r\n  const totalProcs = countActiveControlProcesses(framework.controls);\r\n  const numProcs = countValidControlProcesses(framework.controls);\r\n\r\n  return (\r\n    <Grid item xs={12} container spacing={3}>\r\n      <Grid item xs={12}>\r\n        <Box width=\"100%\">\r\n          <Alert severity=\"warning\">\r\n            <Typography variant=\"body1\">\r\n              You are editing framework: <strong>{framework.name}</strong>\r\n            </Typography>\r\n          </Alert>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item xs={12} container>\r\n        <Box display=\"flex\" width=\"100%\" justifyContent=\"space-between\">\r\n          <Box>\r\n            <Box display=\"flex\">\r\n              <PieChartRating\r\n                inverse\r\n                variant=\"tiny\"\r\n                percent={numDocs / totalDocs}\r\n              />\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"textSecondary\"\r\n                style={{ marginLeft: 16 }}\r\n              >\r\n                <strong>{numDocs}</strong> of {totalDocs} Documents Present\r\n              </Typography>\r\n            </Box>\r\n            <Box display=\"flex\">\r\n              <PieChartRating\r\n                inverse\r\n                variant=\"tiny\"\r\n                percent={numProcs / totalProcs}\r\n              />\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"textSecondary\"\r\n                style={{ marginLeft: 16 }}\r\n              >\r\n                <strong>{numProcs}</strong> of {totalProcs} Processes Present\r\n              </Typography>\r\n            </Box>\r\n            {/* <Box display=\"flex\">\r\n              <PieChartRating inverse variant=\"tiny\" percent={34 / 42} />\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"textSecondary\"\r\n                style={{ marginLeft: 16 }}\r\n              >\r\n                <strong>34</strong> of 42 Inputs Set\r\n              </Typography>\r\n            </Box> */}\r\n          </Box>\r\n          <Box>\r\n            <Typography variant=\"h4\" color=\"textSecondary\">\r\n              <strong>{numActive}</strong> of {total} Controls Active\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ControlList({\r\n  frameworkId,\r\n  controls,\r\n  canEdit,\r\n}: {\r\n  frameworkId: string;\r\n  controls: ControlType[];\r\n  canEdit: boolean;\r\n}) {\r\n  return (\r\n    <>\r\n      {controls.map((control, index, arr) => (\r\n        <Control\r\n          frameworkId={frameworkId}\r\n          canEdit={canEdit}\r\n          control={control}\r\n          last={index === arr.length - 1}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Control({\r\n  frameworkId,\r\n  control,\r\n  square = false,\r\n  last = false,\r\n  canEdit,\r\n}: {\r\n  frameworkId: string;\r\n  control: ControlType;\r\n  square?: boolean;\r\n  last?: boolean;\r\n  canEdit: boolean;\r\n}) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const dispatch = useAppDispatch();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, checked: boolean) => {\r\n    dispatch(\r\n      updateControl({\r\n        frameworkId: frameworkId,\r\n        controlId: control.id,\r\n        newControl: {\r\n          ...control,\r\n          isActive: checked,\r\n          nestedControls:\r\n            control.nestedControls === undefined\r\n              ? undefined\r\n              : control.nestedControls.map((item) => ({\r\n                  ...item,\r\n                  isActive: checked,\r\n                })),\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const isValid: boolean =\r\n    control.nestedControls !== undefined\r\n      ? countActiveControlDocuments(control.nestedControls) ===\r\n          countValidControlDocuments(control.nestedControls) &&\r\n        countActiveControlProcesses(control.nestedControls) ===\r\n          countValidControlProcesses(control.nestedControls)\r\n      : !control.requiredDocuments\r\n          ?.map((item) => item.document === undefined)\r\n          .includes(true) &&\r\n        !control.requiredProcesses\r\n          ?.map((item) => item.process === undefined)\r\n          .includes(true);\r\n\r\n  const nestedControls = canEdit\r\n    ? control.nestedControls\r\n    : control.nestedControls?.filter((item) => item.isActive);\r\n\r\n  return (\r\n    <>\r\n      <Accordion\r\n        expanded={open}\r\n        onChange={(e) => setOpen((prev) => !prev)}\r\n        style={{\r\n          marginBottom: control.nestedControls ? 0 : undefined,\r\n          borderBottomLeftRadius: last ? theme.shape.borderRadius : undefined,\r\n          borderBottomRightRadius: last ? theme.shape.borderRadius : undefined,\r\n          backgroundColor:\r\n            control.isActive ||\r\n            countActiveControls(control?.nestedControls || []) > 0\r\n              ? undefined\r\n              : theme.palette.background.default,\r\n        }}\r\n        square={square}\r\n      >\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMore />}\r\n          className={classNames(classes.accordion, { open: open })}\r\n        >\r\n          <Grid container spacing={3}>\r\n            {canEdit && (\r\n              <Grid item xs={1}>\r\n                <Checkbox\r\n                  onClick={(event) => event.stopPropagation()}\r\n                  onFocus={(event) => event.stopPropagation()}\r\n                  checked={control.isActive}\r\n                  onChange={handleChange}\r\n                />\r\n              </Grid>\r\n            )}\r\n            <Grid item xs={1}>\r\n              <Typography color=\"textSecondary\" variant=\"subtitle2\">\r\n                {control.id}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={canEdit ? 8 : 9}>\r\n              <Typography variant=\"body1\">{control.description}</Typography>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={2}\r\n              container\r\n              spacing={1}\r\n              justify=\"space-between\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Grid item>\r\n                <Chip\r\n                  label={control.severity}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Grid>\r\n              <Grid item>\r\n                {canEdit ? (\r\n                  control.isActive &&\r\n                  (isValid ? (\r\n                    <CheckCircle\r\n                      style={{ color: theme.palette.success.main }}\r\n                    />\r\n                  ) : (\r\n                    <NewReleases color=\"error\" />\r\n                  ))\r\n                ) : (\r\n                  <PieChartRating\r\n                    inverse\r\n                    variant=\"tiny\"\r\n                    percent={\r\n                      control.compliance ||\r\n                      getControlsCompliance(control.nestedControls || [])\r\n                    }\r\n                  />\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </AccordionSummary>\r\n        {control.requiredDocuments && (\r\n          <AccordionDetails>\r\n            <Box width=\"100%\" boxSizing=\"border-box\">\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                style={{ backgroundColor: \"#f9f7ff\" }}\r\n              >\r\n                {control.requiredDocuments.map((reqDoc) => (\r\n                  <ControlRequiredDocument\r\n                    frameworkId={frameworkId}\r\n                    control={control}\r\n                    reqDoc={reqDoc}\r\n                    canEdit={canEdit}\r\n                  />\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          </AccordionDetails>\r\n        )}\r\n        {control.requiredProcesses && (\r\n          <AccordionDetails>\r\n            <Box width=\"100%\" boxSizing=\"border-box\">\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                style={{ backgroundColor: \"#f9f7ff\" }}\r\n              >\r\n                {control.requiredProcesses.map((reqProc) => (\r\n                  <ControlRequiredProcess\r\n                    frameworkId={frameworkId}\r\n                    control={control}\r\n                    reqProc={reqProc}\r\n                    canEdit={canEdit}\r\n                  />\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          </AccordionDetails>\r\n        )}\r\n        {control.dataItems && (\r\n          <AccordionDetails>\r\n            <Box width=\"100%\" boxSizing=\"border-box\">\r\n              <Grid\r\n                container\r\n                spacing={2}\r\n                // style={{ backgroundColor: \"#f9f7ff\" }}\r\n              >\r\n                {control.dataItems.map((item) => (\r\n                  <ControlDataItem item={item} canEdit={canEdit} />\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          </AccordionDetails>\r\n        )}\r\n      </Accordion>\r\n      {nestedControls !== undefined && (\r\n        <Collapse\r\n          in={open}\r\n          style={{\r\n            marginBottom: open ? 16 : undefined,\r\n            paddingLeft: 60,\r\n            paddingRight: theme.shape.borderRadius * 2,\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <Divider light />\r\n          {nestedControls.map((control, index, arr) => (\r\n            <Control\r\n              frameworkId={frameworkId}\r\n              canEdit={canEdit}\r\n              control={control}\r\n              square={index === 0}\r\n              last={index === arr.length - 1}\r\n            />\r\n          ))}\r\n        </Collapse>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ControlRequiredDocument({\r\n  frameworkId,\r\n  control,\r\n  reqDoc,\r\n  canEdit,\r\n}: {\r\n  frameworkId: string;\r\n  control: ControlType;\r\n  reqDoc: RequiredDocument;\r\n  canEdit: boolean;\r\n}) {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const handleAddOpen = () => {\r\n    setAddOpen(true);\r\n  };\r\n  const handleAddClose = (document?: Document) => {\r\n    setAddOpen(false);\r\n    dispatch(\r\n      updateControl({\r\n        frameworkId,\r\n        controlId: control.id,\r\n        newControl: {\r\n          ...control,\r\n          requiredDocuments:\r\n            control.requiredDocuments === undefined\r\n              ? undefined\r\n              : control.requiredDocuments.map((doc) =>\r\n                  doc.name === reqDoc.name ? { name: doc.name, document } : doc\r\n                ),\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Divider style={{ width: \"100%\" }} />\r\n      <Grid item xs={12} container spacing={3}>\r\n        <Grid item xs={1} />\r\n        <RequirementSubItem title=\"DOCUMENT\">\r\n          <Typography variant=\"body1\">{reqDoc.name}</Typography>\r\n        </RequirementSubItem>\r\n        {reqDoc.document ? (\r\n          <>\r\n            <RequirementSubItem title=\"FILE NAME\">\r\n              <Link\r\n                component=\"button\"\r\n                variant=\"body1\"\r\n                onClick={handleClickOpen}\r\n              >\r\n                {reqDoc.document.name}\r\n              </Link>\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"STATUS\">\r\n              <Chip label={reqDoc.document.status} size=\"small\" />\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"ACTIONS\">\r\n              <ButtonGroup size=\"small\">\r\n                <Button onClick={handleClickOpen}>View</Button>\r\n                <Button>Share</Button>\r\n                <Button>Download</Button>\r\n                {canEdit && <Button startIcon={<Delete />}>Delete</Button>}\r\n              </ButtonGroup>\r\n            </RequirementSubItem>\r\n            <PdfDialog\r\n              title={reqDoc.document.name}\r\n              open={open}\r\n              link={reqDoc.document.link}\r\n              handleClose={handleClose}\r\n            />\r\n          </>\r\n        ) : (\r\n          <Grid item alignContent=\"center\">\r\n            {canEdit ? (\r\n              <Button\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                fullWidth\r\n                startIcon={<NoteAdd />}\r\n                onClick={handleAddOpen}\r\n              >\r\n                ADD A DOCUMENT\r\n              </Button>\r\n            ) : (\r\n              <Typography>NO DOCUMENT FOUND</Typography>\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n      <AddDocumentDialog open={addOpen} handleClose={handleAddClose} />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ControlRequiredProcess({\r\n  frameworkId,\r\n  control,\r\n  reqProc,\r\n  canEdit,\r\n}: {\r\n  frameworkId: string;\r\n  control: ControlType;\r\n  reqProc: RequiredProcess;\r\n  canEdit: boolean;\r\n}) {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const handleAddOpen = () => {\r\n    setAddOpen(true);\r\n  };\r\n  const handleAddClose = (process?: Process) => {\r\n    setAddOpen(false);\r\n    dispatch(\r\n      updateControl({\r\n        frameworkId,\r\n        controlId: control.id,\r\n        newControl: {\r\n          ...control,\r\n          requiredProcesses:\r\n            control.requiredProcesses === undefined\r\n              ? undefined\r\n              : control.requiredProcesses.map((proc) =>\r\n                  proc.name === reqProc.name\r\n                    ? { name: proc.name, process }\r\n                    : proc\r\n                ),\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Divider style={{ width: \"100%\" }} />\r\n      <Grid item xs={12} container spacing={3}>\r\n        <Grid item xs={1} />\r\n        <RequirementSubItem title=\"PROCESS\">\r\n          <Typography variant=\"body1\">{reqProc.name}</Typography>\r\n        </RequirementSubItem>\r\n        {reqProc.process ? (\r\n          <>\r\n            <RequirementSubItem title=\"FILE NAME\">\r\n              <Link\r\n                component=\"button\"\r\n                variant=\"body1\"\r\n                onClick={handleClickOpen}\r\n              >\r\n                {reqProc.process.name}\r\n              </Link>\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"STATUS\">\r\n              <Chip label={reqProc.process.status} size=\"small\" />\r\n            </RequirementSubItem>\r\n            <RequirementSubItem title=\"ACTIONS\">\r\n              <ButtonGroup size=\"small\">\r\n                <Button onClick={handleClickOpen}>View</Button>\r\n                <Button>Share</Button>\r\n                <Button>Download</Button>\r\n                {canEdit && <Button startIcon={<Delete />}>Delete</Button>}\r\n              </ButtonGroup>\r\n            </RequirementSubItem>\r\n            <PdfDialog\r\n              title={reqProc.process.name}\r\n              open={open}\r\n              link={reqProc.process.link}\r\n              handleClose={handleClose}\r\n            />\r\n          </>\r\n        ) : (\r\n          <Grid item xs container alignContent=\"center\">\r\n            {canEdit ? (\r\n              <Button\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                fullWidth\r\n                startIcon={<NoteAdd />}\r\n                onClick={handleAddOpen}\r\n              >\r\n                ADD A PROCESS\r\n              </Button>\r\n            ) : (\r\n              <Typography>NO PROCESS FOUND</Typography>\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n      <AddProcessDialog open={addOpen} handleClose={handleAddClose} />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ControlDataItem({\r\n  item,\r\n  canEdit,\r\n}: {\r\n  item: DataItem;\r\n  canEdit: boolean;\r\n}) {\r\n  const [value, setValue] = useState(item.value);\r\n\r\n  const getInput = () => {\r\n    if (item.type === \"number\")\r\n      return (\r\n        <TextField\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          value={value}\r\n          type={canEdit ? \"number\" : \"submit\"}\r\n          onChange={(e) => {\r\n            setValue(parseInt(e.target.value));\r\n          }}\r\n        />\r\n      );\r\n\r\n    return <></>;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Divider style={{ width: \"100%\" }} />\r\n      <Grid item xs={12} container spacing={3}>\r\n        <Grid item xs={1} />\r\n        <RequirementSubItem title=\"DATA ITEM\">\r\n          <Typography variant=\"body1\">{item.name}</Typography>\r\n        </RequirementSubItem>\r\n        <Grid item xs container alignContent=\"center\">\r\n          {getInput()}\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction RequirementSubItem({\r\n  title,\r\n  children,\r\n}: {\r\n  title: string;\r\n  children: any;\r\n}) {\r\n  return (\r\n    <Grid item xs container direction=\"column\">\r\n      <Grid item>\r\n        <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n          {title}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item>{children}</Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport function PdfDialog({\r\n  title,\r\n  open,\r\n  link,\r\n  handleClose,\r\n}: {\r\n  title: string;\r\n  open: boolean;\r\n  link: string;\r\n  handleClose: () => void;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open} fullWidth maxWidth=\"md\">\r\n      <DialogTitle\r\n        id=\"simple-dialog-title\"\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        {title}\r\n        <IconButton onClick={handleClose} className={classes.closeButton}>\r\n          <Close />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent className={classes.dialog}>\r\n        <object\r\n          data={link}\r\n          // type='application/pdf'\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n        >\r\n          <p>\r\n            link to <a href={link}>link to{link}</a>\r\n          </p>\r\n        </object>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction AddProcessDialog({\r\n  open,\r\n  handleClose,\r\n}: {\r\n  open: boolean;\r\n  handleClose: (process?: Process) => void;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const [file, setFile] = useState<File | null>(null);\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    console.log(acceptedFiles[0]);\r\n    setFile(acceptedFiles[0]);\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <Dialog onClose={() => handleClose()} open={open} fullWidth maxWidth=\"md\">\r\n      <DialogTitle\r\n        id=\"simple-dialog-title\"\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        Upload a Process\r\n        <IconButton\r\n          onClick={() => handleClose()}\r\n          className={classes.closeButton}\r\n        >\r\n          <Close />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {file ? (\r\n          <>\r\n            <Box\r\n              border=\"2px dashed grey\"\r\n              bgcolor=\"#eee\"\r\n              height={300}\r\n              marginBottom={2}\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Typography variant=\"h6\">\r\n                Upload File: <u>{file.name}</u>?\r\n              </Typography>\r\n            </Box>\r\n            <DialogActions>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() =>\r\n                  handleClose({\r\n                    id: file.name,\r\n                    name: file.name,\r\n                    dateUploaded: format(new Date(), \"T\"),\r\n                    link: \"https://s2.q4cdn.com/175719177/files/doc_presentations/Placeholder-PDF.pdf\",\r\n                    status: \"in-effect\",\r\n                  })\r\n                }\r\n              >\r\n                Upload\r\n              </Button>\r\n            </DialogActions>\r\n          </>\r\n        ) : (\r\n          <Box\r\n            {...getRootProps()}\r\n            border=\"2px dashed grey\"\r\n            bgcolor=\"#eee\"\r\n            height={300}\r\n            marginBottom={2}\r\n            display=\"flex\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <input {...getInputProps()} />\r\n            {isDragActive ? (\r\n              <p>Drop file here ...</p>\r\n            ) : (\r\n              <p>Drag 'n' drop some files here, or click to select files</p>\r\n            )}\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction AddDocumentDialog({\r\n  open,\r\n  handleClose,\r\n}: {\r\n  open: boolean;\r\n  handleClose: (document?: Document) => void;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const [file, setFile] = useState<File | null>(null);\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    console.log(acceptedFiles[0]);\r\n    setFile(acceptedFiles[0]);\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <Dialog onClose={() => handleClose()} open={open} fullWidth maxWidth=\"md\">\r\n      <DialogTitle\r\n        id=\"simple-dialog-title\"\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        Upload a Document\r\n        <IconButton\r\n          onClick={() => handleClose()}\r\n          className={classes.closeButton}\r\n        >\r\n          <Close />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {file ? (\r\n          <>\r\n            <Box\r\n              border=\"2px dashed grey\"\r\n              bgcolor=\"#eee\"\r\n              height={300}\r\n              marginBottom={2}\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Typography variant=\"h6\">\r\n                Upload File: <u>{file.name}</u>?\r\n              </Typography>\r\n            </Box>\r\n            <DialogActions>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() =>\r\n                  handleClose({\r\n                    id: file.name,\r\n                    name: file.name,\r\n                    dateUploaded: format(new Date(), \"T\"),\r\n                    link: \"https://s2.q4cdn.com/175719177/files/doc_presentations/Placeholder-PDF.pdf\",\r\n                    status: \"in-effect\",\r\n                  })\r\n                }\r\n              >\r\n                Upload\r\n              </Button>\r\n            </DialogActions>\r\n          </>\r\n        ) : (\r\n          <Box\r\n            {...getRootProps()}\r\n            border=\"2px dashed grey\"\r\n            bgcolor=\"#eee\"\r\n            height={300}\r\n            marginBottom={2}\r\n            display=\"flex\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <input {...getInputProps()} />\r\n            {isDragActive ? (\r\n              <p>Drop file here ...</p>\r\n            ) : (\r\n              <p>Drag 'n' drop some files here, or click to select files</p>\r\n            )}\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {\r\n  Backdrop,\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  CircularProgress,\r\n  createStyles,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Assignment, Cancel, Save } from \"@material-ui/icons\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { selectFrameworkById } from \"../../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport { PdfDialog } from \"./Framework\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      color: \"#fff\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function FrameworkActions() {\r\n  const classes = useStyles();\r\n\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[2];\r\n  const framework = useAppSelector(selectFrameworkById(thisId));\r\n\r\n  const [loadOpen, setLoadOpen] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const handleClickOpen = () => {\r\n    setLoadOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loadOpen) {\r\n      setTimeout(() => {\r\n        setLoadOpen(false);\r\n        setOpen(true);\r\n      }, 1500);\r\n    }\r\n  }, [loadOpen]);\r\n\r\n  return (\r\n    <>\r\n      <ButtonGroup variant=\"contained\" color=\"primary\" disableElevation>\r\n        <Button startIcon={<Assignment />} onClick={handleClickOpen}>\r\n          Report\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Backdrop\r\n        className={classes.backdrop}\r\n        open={loadOpen}\r\n        onClick={handleClose}\r\n      >\r\n        <Box display=\"flex\" flexDirection=\"column\">\r\n          <Box display=\"flex\" justifyContent=\"center\">\r\n            <CircularProgress color=\"inherit\" />\r\n          </Box>\r\n          <Typography variant=\"h6\">Fetching Report</Typography>\r\n        </Box>\r\n      </Backdrop>\r\n      {framework && (\r\n        <PdfDialog\r\n          title={framework.name}\r\n          open={open}\r\n          link=\"https://s2.q4cdn.com/175719177/files/doc_presentations/Placeholder-PDF.pdf\"\r\n          handleClose={handleClose}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport function FrameworkEditActions() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[4];\r\n  const framework = useAppSelector(selectFrameworkById(thisId));\r\n  const history = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  return (\r\n    <ButtonGroup color=\"primary\" disableElevation>\r\n      <Button\r\n        startIcon={<Cancel />}\r\n        onClick={() => {\r\n          history.push(`/admin/framework`);\r\n        }}\r\n      >\r\n        Cancel\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        startIcon={<Save />}\r\n        onClick={() => {\r\n          history.push(`/admin/framework`);\r\n          enqueueSnackbar(\r\n            <>\r\n              Successfully saved framework:&nbsp;\r\n              <strong>{framework?.name || \"undefined\"}</strong>\r\n            </>,\r\n            { variant: \"success\" }\r\n          );\r\n        }}\r\n      >\r\n        Save\r\n      </Button>\r\n    </ButtonGroup>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport {\r\n  makeStyles,\r\n  Theme,\r\n  createStyles,\r\n  fade,\r\n} from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport logoIpsum from \"../../assets/logo-12.svg\";\r\nimport { Badge, Button, Menu, MenuItem } from \"@material-ui/core\";\r\nimport {\r\n  AccountCircle,\r\n  ArrowDropDown,\r\n  Notifications,\r\n} from \"@material-ui/icons\";\r\nimport Drawer from \"./Drawer\";\r\nimport { useLocation } from \"react-router\";\r\nimport DashboardActions, {\r\n  DashboardEditActions,\r\n} from \"../pages/Dashboard/DashboardActions\";\r\nimport FrameworkActions, {\r\n  FrameworkEditActions,\r\n} from \"../pages/Framework/FrameworkActions\";\r\nimport { format } from \"date-fns\";\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    appBar: {\r\n      transition: theme.transitions.create([\"margin\", \"width\"], {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      backgroundColor: theme.palette.background.paper,\r\n      color: theme.palette.text.primary,\r\n    },\r\n    appBarShift: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      // marginLeft: drawerWidth,\r\n      transition: theme.transitions.create([\"margin\", \"width\"], {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      // marginRight: theme.spacing(1),\r\n    },\r\n    logoIpsum: {\r\n      display: \"flex\",\r\n      height: \"56px\",\r\n      padding: theme.spacing(2),\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n    },\r\n    search: {\r\n      position: \"relative\",\r\n      borderRadius: \"50px\",\r\n      backgroundColor: fade(theme.palette.common.black, 0.05),\r\n      \"&:hover\": {\r\n        backgroundColor: fade(theme.palette.common.black, 0.1),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: \"100%\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: \"auto\",\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: \"100%\",\r\n      position: \"absolute\",\r\n      pointerEvents: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    inputRoot: {\r\n      color: \"inherit\",\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create(\"width\"),\r\n      width: \"100%\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: \"20ch\",\r\n      },\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      marginLeft: -drawerWidth,\r\n      position: \"relative\",\r\n    },\r\n    contentShift: {\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    },\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-end\",\r\n    },\r\n    badge: {\r\n      backgroundColor: theme.palette.info.main,\r\n      background: theme.gradients.info,\r\n      color: \"white\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Layout({ children }: { children: any }) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(true);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setOpen((prev) => !prev);\r\n  };\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: false,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            onClick={handleDrawerToggle}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <img\r\n            className={classes.logoIpsum}\r\n            src={logoIpsum}\r\n            alt=\"Placeholder Logo\"\r\n          />\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            {format(new Date(), \"hh:mm bbb, eee LLLL Mo (OOO)\")}\r\n          </Typography>\r\n          <PageActions />\r\n          <IconButton color=\"inherit\" style={{ marginLeft: 16 }}>\r\n            <Badge\r\n              badgeContent={6}\r\n              color=\"primary\"\r\n              // classes={{ badge: classes.badge }}\r\n            >\r\n              <Notifications />\r\n            </Badge>\r\n          </IconButton>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            onClick={handleClick}\r\n            startIcon={<AccountCircle />}\r\n            endIcon={<ArrowDropDown />}\r\n            style={{ borderRadius: 20, marginLeft: 16 }}\r\n            size=\"large\"\r\n          >\r\n            Admin\r\n          </Button>\r\n          <Menu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n            anchorOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            }}\r\n          >\r\n            <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n            <MenuItem onClick={handleClose}>My account</MenuItem>\r\n            <MenuItem onClick={handleClose}>Logout</MenuItem>\r\n          </Menu>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer drawerWidth={drawerWidth} open={open} />\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PageActions() {\r\n  const location = useLocation();\r\n  const path = location.pathname;\r\n\r\n  if (path.includes(\"/dashboard/edit\")) return <DashboardEditActions />;\r\n  if (path.includes(\"/dashboard\")) return <DashboardActions />;\r\n  if (path.includes(\"/admin/framework/manage\")) return <FrameworkEditActions />;\r\n  if (path.includes(\"/framework\")) return <FrameworkActions />;\r\n\r\n  return <></>;\r\n}\r\n","import {\r\n  Box,\r\n  FormControl,\r\n  InputLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { ChangeEvent, useEffect, useState } from \"react\";\r\nimport {\r\n  countActiveControls,\r\n  countCompliantControls,\r\n  selectFrameworkById,\r\n  selectFrameworks,\r\n} from \"../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../redux/hooks\";\r\nimport Module from \"../Module\";\r\nimport FrameworkSummary from \"../pages/Framework/FrameworkSummary\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nexport default function FrameworkCompliance() {\r\n  const classes = useStyles();\r\n\r\n  const [selectedFrameworkId, setSelectedFrameworkId] = useState<string>(\"\");\r\n\r\n  const handleChange = (event: ChangeEvent<{ value: unknown }>) => {\r\n    setSelectedFrameworkId(event.target.value as string);\r\n  };\r\n\r\n  const selectedFramework = useAppSelector(\r\n    selectFrameworkById(selectedFrameworkId)\r\n  );\r\n\r\n  const controls =\r\n    selectedFramework?.controls.filter((item) => item.isActive) || [];\r\n\r\n  const numActive = countActiveControls(controls);\r\n  const numCompliant = countCompliantControls(controls);\r\n\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n\r\n  useEffect(() => {\r\n    setSelectedFrameworkId(frameworks[0].id);\r\n  }, [frameworks]);\r\n\r\n  return (\r\n    <Module\r\n      title=\"COMPLIANCE\"\r\n      actions={\r\n        <FormControl\r\n          variant=\"filled\"\r\n          className={classes.formControl}\r\n          size=\"small\"\r\n          style={{ margin: 0 }}\r\n        >\r\n          <InputLabel id=\"demo-simple-select-outlined-label\">\r\n            Framework\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            value={selectedFrameworkId}\r\n            onChange={handleChange}\r\n            label=\"Framework\"\r\n          >\r\n            {frameworks.map((item) => (\r\n              <MenuItem value={item.id}>{item.name}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      }\r\n    >\r\n      <Box padding={2}>\r\n        {selectedFramework ? (\r\n          <FrameworkSummary\r\n            title={selectedFramework.name}\r\n            subtitle=\"\"\r\n            percent={numCompliant / numActive}\r\n            numControls={numActive}\r\n            numControlsCompliant={numCompliant}\r\n            numAlerts={selectedFramework.alerts.length}\r\n            numViolations={numActive - numCompliant}\r\n          />\r\n        ) : (\r\n          <Typography>Select a framework</Typography>\r\n        )}\r\n      </Box>\r\n    </Module>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  FormControl,\r\n  InputLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { ChangeEvent, useEffect, useState } from \"react\";\r\nimport {\r\n  selectFrameworkById,\r\n  selectFrameworks,\r\n} from \"../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../redux/hooks\";\r\nimport Module from \"../Module\";\r\nimport AlertList from \"../pages/Framework/AlertList\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nexport default function FrameworkCompliance() {\r\n  const classes = useStyles();\r\n\r\n  const [selectedFrameworkId, setSelectedFrameworkId] = useState<string>(\"\");\r\n\r\n  const handleChange = (event: ChangeEvent<{ value: unknown }>) => {\r\n    setSelectedFrameworkId(event.target.value as string);\r\n  };\r\n\r\n  const selectedFramework = useAppSelector(\r\n    selectFrameworkById(selectedFrameworkId)\r\n  );\r\n\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n\r\n  useEffect(() => {\r\n    setSelectedFrameworkId(frameworks[0].id);\r\n  }, [frameworks]);\r\n\r\n  return (\r\n    <Module\r\n      title=\"ALERTS\"\r\n      actions={\r\n        <FormControl\r\n          variant=\"filled\"\r\n          className={classes.formControl}\r\n          size=\"small\"\r\n          style={{ margin: 0 }}\r\n        >\r\n          <InputLabel id=\"demo-simple-select-outlined-label\">\r\n            Framework\r\n          </InputLabel>\r\n          <Select\r\n            margin=\"dense\"\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            value={selectedFrameworkId}\r\n            onChange={handleChange}\r\n            label=\"Framework\"\r\n          >\r\n            {frameworks.map((item) => (\r\n              <MenuItem value={item.id}>{item.name}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      }\r\n    >\r\n      <Box padding={2} maxHeight=\"60vh\" overflow=\"auto\">\r\n        {selectedFramework ? (\r\n          <AlertList alerts={selectedFramework.alerts} />\r\n        ) : (\r\n          <Typography>Select a framework</Typography>\r\n        )}\r\n      </Box>\r\n    </Module>\r\n  );\r\n}\r\n","import {\r\n  Chip,\r\n  makeStyles,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@material-ui/core\";\r\nimport Module from \"../Module\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    // height: \"100%\",\r\n    margin: theme.spacing(2),\r\n    marginLeft: 0,\r\n    marginRight: 0,\r\n    boxSizing: \"border-box\",\r\n    overflowY: \"auto\",\r\n  },\r\n  headerCell: {\r\n    fontWeight: 800,\r\n  },\r\n  avatar: {\r\n    margin: 0,\r\n  },\r\n}));\r\n\r\nfunction createData(\r\n  asset: string,\r\n  owner: string,\r\n  severity: string,\r\n  risk: number\r\n) {\r\n  return { asset, owner, severity, risk };\r\n}\r\n\r\nconst rows = [\r\n  createData(\"Frozen yoghurt\", \"Owner A\", \"High\", 24),\r\n  createData(\"Ice cream sandwich\", \"Owner B\", \"Low\", 37),\r\n  createData(\"Eclair\", \"Owner D\", \"Low\", 24),\r\n  createData(\"Cupcake\", \"Owner A\", \"Low\", 67),\r\n  createData(\"Gingerbread\", \"Owner A\", \"Medium\", 49),\r\n];\r\n\r\nfunction SeverityChip({\r\n  severity,\r\n  title,\r\n}: {\r\n  severity: string;\r\n  title: string;\r\n}) {\r\n  const getColor = () => {\r\n    if (severity === \"Low\") return \"green\";\r\n    else if (severity === \"Medium\") return \"orange\";\r\n    else if (severity === \"High\") return \"red\";\r\n  };\r\n\r\n  return (\r\n    <Chip\r\n      label={title}\r\n      size=\"small\"\r\n      variant=\"outlined\"\r\n      style={{\r\n        color: getColor(),\r\n        fontWeight: 600,\r\n        border: `2px solid ${getColor()}`,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default function HighRiskAssets() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Module title=\"HIGH RISK ASSETS\">\r\n      <div className={classes.body}>\r\n        <Table stickyHeader aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell className={classes.headerCell}>Asset</TableCell>\r\n              <TableCell className={classes.headerCell} align=\"right\">\r\n                Owner\r\n              </TableCell>\r\n              <TableCell className={classes.headerCell} align=\"right\">\r\n                Severity\r\n              </TableCell>\r\n              <TableCell className={classes.headerCell} align=\"right\">\r\n                Risk\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row) => (\r\n              <TableRow key={`${row.asset}-tablerow`}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {row.asset}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.owner}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <SeverityChip severity={row.severity} title={row.severity} />\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.risk}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n","import { Card, makeStyles, Typography } from \"@material-ui/core\";\r\nimport Module from \"../Module\";\r\nimport PieChartRating from \"./PieChartRating\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    overflowX: \"auto\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n  ratingCard: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    minWidth: \"130px\",\r\n    maxHeight: \"100%\",\r\n    marginLeft: `${theme.spacing(3)}px`,\r\n    \"&:first-child\": {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  ratingCardTitle: {\r\n    // color: \"white\",\r\n  },\r\n  ratingCardNumber: {\r\n    color: \"grey\",\r\n    fontWeight: 600,\r\n  },\r\n  responsive: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport function RatingCard({\r\n  title,\r\n  percent,\r\n}: {\r\n  title: string;\r\n  percent: number;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card\r\n      className={classes.ratingCard}\r\n      // elevation={5}\r\n      variant=\"outlined\"\r\n    >\r\n      <Typography className={classes.ratingCardTitle} variant=\"h6\">\r\n        {title}\r\n      </Typography>\r\n      <PieChartRating percent={percent} />\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default function Ratings() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Module title=\"RATINGS\">\r\n      {/* <div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: \"0px 16px\",\r\n\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\tboxSizing: \"border-box\",\r\n\t\t\t\t\toverflowX: \"auto\",\r\n\t\t\t\t}}\r\n\t\t\t> */}\r\n      <div className={classes.body}>\r\n        <RatingCard title=\"Risk\" percent={0.17} />\r\n        <RatingCard title=\"Compliance\" percent={0.55} />\r\n        <RatingCard title=\"Threats\" percent={0.11} />\r\n      </div>\r\n      {/* </div> */}\r\n    </Module>\r\n  );\r\n}\r\n","import { makeStyles, useTheme } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  Legend,\r\n  Line,\r\n  LineChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n} from \"recharts\";\r\nimport Module from \"../Module\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n}));\r\n\r\nconst oldData = [\r\n  {\r\n    name: \"March\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"April\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"May\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"June\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"July\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"August\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n  {\r\n    name: \"September\",\r\n    Compliance: 0,\r\n    Risk: 0,\r\n    Threat: 0,\r\n  },\r\n];\r\n\r\nconst newData = [\r\n  {\r\n    name: \"March\",\r\n    Compliance: 40,\r\n    Risk: 24,\r\n    Threat: 34,\r\n  },\r\n  {\r\n    name: \"April\",\r\n    Compliance: 30,\r\n    Risk: 13,\r\n    Threat: 36,\r\n  },\r\n  {\r\n    name: \"May\",\r\n    Compliance: 20,\r\n    Risk: 88,\r\n    Threat: 67,\r\n  },\r\n  {\r\n    name: \"June\",\r\n    Compliance: 27,\r\n    Risk: 39,\r\n    Threat: 38,\r\n  },\r\n  {\r\n    name: \"July\",\r\n    Compliance: 18,\r\n    Risk: 48,\r\n    Threat: 23,\r\n  },\r\n  {\r\n    name: \"August\",\r\n    Compliance: 23,\r\n    Risk: 38,\r\n    Threat: 19,\r\n  },\r\n  {\r\n    name: \"September\",\r\n    Compliance: 34,\r\n    Risk: 43,\r\n    Threat: 14,\r\n  },\r\n];\r\n\r\nexport default function RatingTrends() {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [data, setData] = useState(oldData);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setData(newData);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <Module title=\"RATING TRENDS\">\r\n      <div className={classes.body}>\r\n        <ResponsiveContainer\r\n          height=\"99%\"\r\n          width=\"99%\"\r\n          minHeight=\"0px\"\r\n          minWidth=\"0px\"\r\n        >\r\n          <LineChart data={data}>\r\n            <XAxis dataKey=\"name\" />\r\n            {/* <YAxis type=\"number\" domain={[0, 100]} /> */}\r\n            <Tooltip />\r\n            <Legend />\r\n            <Line\r\n              strokeWidth={2}\r\n              type=\"natural\"\r\n              dataKey=\"Compliance\"\r\n              stroke={theme.palette.primary.dark}\r\n              dot={false}\r\n            />\r\n            <Line\r\n              strokeWidth={2}\r\n              type=\"natural\"\r\n              dataKey=\"Risk\"\r\n              stroke={theme.palette.primary.main}\r\n              dot={false}\r\n            />\r\n            <Line\r\n              strokeWidth={2}\r\n              type=\"natural\"\r\n              dataKey=\"Threat\"\r\n              stroke={theme.palette.primary.light}\r\n              dot={false}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n} from \"recharts\";\r\nimport Module from \"../Module\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n}));\r\n\r\nconst oldData = [\r\n  {\r\n    name: \"PCI\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"ISO\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"NIST\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"HIPAA\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n  {\r\n    name: \"Overall\",\r\n    Low: 0,\r\n    Medium: 0,\r\n    High: 0,\r\n    Complete: 0,\r\n  },\r\n];\r\n\r\nconst newData = [\r\n  {\r\n    name: \"PCI\",\r\n    Low: 40,\r\n    Medium: 24,\r\n    High: 26,\r\n    Complete: 10,\r\n  },\r\n  {\r\n    name: \"ISO\",\r\n    Low: 30,\r\n    Medium: 13,\r\n    High: 27,\r\n    Complete: 30,\r\n  },\r\n  {\r\n    name: \"NIST\",\r\n    Low: 20,\r\n    Medium: 28,\r\n    High: 12,\r\n    Complete: 40,\r\n  },\r\n  {\r\n    name: \"HIPAA\",\r\n    Low: 27,\r\n    Medium: 40,\r\n    High: 20,\r\n    Complete: 13,\r\n  },\r\n  {\r\n    name: \"Overall\",\r\n    Low: 18,\r\n    Medium: 42,\r\n    High: 20,\r\n    Complete: 20,\r\n  },\r\n];\r\n\r\nexport default function RegulatoryCompliance() {\r\n  const classes = useStyles();\r\n\r\n  const [data, setData] = useState(oldData);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setData(newData);\r\n    }, 1500);\r\n  }, []);\r\n\r\n  return (\r\n    <Module title=\"REGULATORY COMPLIANCE\">\r\n      <div className={classes.body}>\r\n        <ResponsiveContainer\r\n          height=\"99%\"\r\n          width=\"99%\"\r\n          minHeight=\"0px\"\r\n          minWidth=\"0px\"\r\n        >\r\n          <BarChart data={data}>\r\n            {/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\r\n            <XAxis dataKey=\"name\" />\r\n            {/* <YAxis type=\"number\" domain={[0, 100]} /> */}\r\n            <Tooltip />\r\n            <Legend />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"Low\"\r\n              stackId=\"a\"\r\n              fill=\"#3adf5d\"\r\n            />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"Medium\"\r\n              stackId=\"a\"\r\n              fill=\"#ffa339\"\r\n            />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"High\"\r\n              stackId=\"a\"\r\n              fill=\"#f1462f\"\r\n            />\r\n            <Bar\r\n              animationDuration={1000}\r\n              dataKey=\"Complete\"\r\n              stackId=\"a\"\r\n              fill=\"#49a9e9\"\r\n            />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n","import { useTheme } from \"@material-ui/core\";\r\nimport { memo } from \"react\";\r\nimport { Marker } from \"react-map-gl\";\r\n\r\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\r\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\r\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\r\n\r\nconst SIZE = 20;\r\n\r\n// Important for perf: the markers never change, avoid rerender when the map viewport changes\r\nfunction PinsUnMemo({ threats }: { threats: Threat[] }) {\r\n  const theme = useTheme();\r\n\r\n  return threats.map((threat) =>\r\n    threat.points.map((item) => (\r\n      <Marker\r\n        key={`marker-${item.latitude}-${item.longitude}`}\r\n        longitude={item.longitude}\r\n        latitude={item.latitude}\r\n      >\r\n        <svg\r\n          height={SIZE}\r\n          viewBox=\"0 0 24 24\"\r\n          style={{\r\n            cursor: \"pointer\",\r\n            fill: theme.palette[threat.severity].main,\r\n            stroke: \"none\",\r\n            transform: `translate(${-SIZE / 2}px,${-SIZE}px)`,\r\n          }}\r\n        >\r\n          <path d={ICON} />\r\n        </svg>\r\n      </Marker>\r\n    ))\r\n  );\r\n}\r\n\r\n/*\r\n// @ts-ignore */\r\nexport const Pins = memo(PinsUnMemo);\r\n\r\nexport interface Threat {\r\n  description: string;\r\n  severity: \"error\" | \"warning\" | \"success\";\r\n  message: string;\r\n  points: {\r\n    longitude: number;\r\n    latitude: number;\r\n  }[];\r\n}\r\n\r\nexport const Threats: Threat[] = [\r\n  {\r\n    description: \"Bruteforce on Account\",\r\n    severity: \"error\",\r\n    message:\r\n      \"Bruteforce on User Account ID : JSmith@ABC_INC.COM. IP address of internal machine 172.16.1.10 located in Calgary and locked out from remote machine 223.154.20.62 in China\",\r\n    points: [\r\n      {\r\n        longitude: -114.008756,\r\n        latitude: 51.128474,\r\n      },\r\n      {\r\n        longitude: 106.654405,\r\n        latitude: 29.554115,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    description: \"Security door open forcefully\",\r\n    severity: \"error\",\r\n    message: \"Breach\",\r\n    points: [\r\n      {\r\n        longitude: -114.004395,\r\n        latitude: 51.130264,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    description: \"Kiosk Down\",\r\n    severity: \"warning\",\r\n    message: \"Kiosk XYZ at ___ is not operational.\",\r\n    points: [\r\n      {\r\n        longitude: -114.007701,\r\n        latitude: 51.133999,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { Card, CardContent } from \"@material-ui/core\";\r\nimport {\r\n  Dispatch,\r\n  SetStateAction,\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\nimport ReactMapGL, { MapEvent, Source, ViewportProps } from \"react-map-gl\";\r\nimport { Layer } from \"recharts\";\r\n\r\nconst dataLayer = {\r\n  id: \"calgary-international-airport-766u7b\",\r\n  type: \"fill\",\r\n  paint: {\r\n    \"fill-color\": \"#007cbf\",\r\n    \"fill-opacity\": 0.8,\r\n  },\r\n};\r\n\r\nexport default function Map({\r\n  viewport,\r\n  setViewport,\r\n  children,\r\n}: {\r\n  viewport: ViewportProps;\r\n  setViewport: Dispatch<SetStateAction<Partial<ViewportProps>>>;\r\n  children?: any;\r\n}) {\r\n  const [data, setData] = useState<GeoJSON.FeatureCollection<GeoJSON.Geometry>>(\r\n    { type: \"FeatureCollection\", features: [] }\r\n  );\r\n\r\n  const [hoverInfo, setHoverInfo] =\r\n    useState<null | { x: number; y: number; feature: { [key: string]: any } }>(\r\n      null\r\n    );\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      \"https://raw.githubusercontent.com/arpithindukuri/keyworks-draft/master/src/data/calgary-international-airport.geojson\"\r\n    )\r\n      .then((resp) => resp.json())\r\n      .then((json) => setData(json));\r\n  }, []);\r\n\r\n  const onHover = useCallback((event: MapEvent) => {\r\n    const { features } = event;\r\n    const { offsetX, offsetY } = event.srcEvent as MouseEvent;\r\n    const hoveredFeature = features && features[0];\r\n\r\n    setHoverInfo(\r\n      hoveredFeature\r\n        ? {\r\n            feature: hoveredFeature,\r\n            x: offsetX,\r\n            y: offsetY,\r\n          }\r\n        : null\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <ReactMapGL\r\n      {...viewport}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      onViewportChange={(viewport: any) => {\r\n        setViewport(viewport);\r\n      }}\r\n      mapStyle=\"mapbox://styles/dannywantsmaps/ckplntm0x3ncs17qp8a0ddghl\"\r\n      interactiveLayerIds={[\"calgary-international-airport-766u7b\"]}\r\n      onHover={onHover}\r\n      onMouseLeave={() => setHoverInfo(null)}\r\n      onMouseOut={() => setHoverInfo(null)}\r\n    >\r\n      <Source\r\n        id=\"calgary-international-airport-766u7b\"\r\n        type=\"geojson\"\r\n        data={data}\r\n      >\r\n        <Layer {...dataLayer} />\r\n      </Source>\r\n      {hoverInfo !== null && (\r\n        <Card\r\n          style={{\r\n            pointerEvents: \"none\",\r\n            touchAction: \"none\",\r\n            position: \"absolute\",\r\n            left: hoverInfo.x,\r\n            top: hoverInfo.y,\r\n          }}\r\n        >\r\n          <CardContent>\r\n            Building: {hoverInfo.feature.properties.name}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n      {children}\r\n    </ReactMapGL>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Module from \"../Module\";\r\nimport { WebMercatorViewport, ViewportProps } from \"react-map-gl\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Pins, Threat, Threats } from \"../../data/ThreatData\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport Map from \"./Map\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n  },\r\n}));\r\n\r\nexport default function TopThreats() {\r\n  const classes = useStyles();\r\n\r\n  const [viewport, setViewport] = useState<ViewportProps>({\r\n    latitude: 51.131604607782684,\r\n    longitude: -114.00645002886303,\r\n    zoom: 14.404946761461456,\r\n  });\r\n\r\n  return (\r\n    <Module title=\"TOP THREATS\">\r\n      <div className={classes.body}>\r\n        <Box flex={3}>\r\n          <ThreatList />\r\n        </Box>\r\n        <Box flex={9}>\r\n          <Map viewport={viewport} setViewport={setViewport}>\r\n            <Pins threats={Threats} />\r\n          </Map>\r\n        </Box>\r\n      </div>\r\n    </Module>\r\n  );\r\n}\r\n\r\nfunction ThreatList() {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedThreat, setSelectedThreat] = useState<Threat | null>(null);\r\n\r\n  const handleClickOpen = (threat: Threat) => {\r\n    setOpen(true);\r\n    setSelectedThreat(threat);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelectedThreat(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        {Threats.map((threat) => (\r\n          <ListItem button onClick={() => handleClickOpen(threat)}>\r\n            <Alert severity={threat.severity} style={{ width: \"100%\" }}>\r\n              <AlertTitle>{threat.description}</AlertTitle>\r\n            </Alert>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      {selectedThreat && (\r\n        <ThreatDialog\r\n          isOpen={open}\r\n          close={handleClose}\r\n          threat={selectedThreat}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ThreatDialog({\r\n  isOpen,\r\n  close,\r\n  threat,\r\n}: {\r\n  isOpen: boolean;\r\n  close: () => void;\r\n  threat: Threat;\r\n}) {\r\n  const [viewport, setViewport] = useState<ViewportProps>({\r\n    latitude: 51.131752410211334,\r\n    longitude: -114.00580603669299,\r\n    zoom: 15.814352345006331,\r\n  });\r\n\r\n  const minLng = Math.min(...threat.points.map((item) => item.longitude));\r\n  const minLat = Math.min(...threat.points.map((item) => item.latitude));\r\n  const maxLng = Math.max(...threat.points.map((item) => item.longitude));\r\n  const maxLat = Math.max(...threat.points.map((item) => item.latitude));\r\n\r\n  const vp = new WebMercatorViewport({ height: 400, width: 800 });\r\n  const { longitude, latitude, zoom } = vp.fitBounds(\r\n    [\r\n      [minLng, minLat],\r\n      [maxLng, maxLat],\r\n    ],\r\n    {\r\n      padding: 40,\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    setViewport(() => ({ longitude, latitude, zoom: Math.min(zoom, 16) }));\r\n  }, [setViewport, longitude, latitude, zoom]);\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={close}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={isOpen}\r\n      fullWidth\r\n      maxWidth=\"xl\"\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">{threat.description}</DialogTitle>\r\n      <DialogContent style={{ height: \"90vh\", display: \"flex\" }}>\r\n        <Box flex={3}>\r\n          <Typography>{threat.message}</Typography>\r\n        </Box>\r\n        <Box flex={9}>\r\n          <Map viewport={viewport} setViewport={setViewport}>\r\n            <Pins threats={[threat]} />\r\n          </Map>\r\n        </Box>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import FrameworkCompliance from \"../components/widgets/FrameworkCompliance\";\r\nimport FrameworkAlerts from \"../components/widgets/FrameworkAlerts\";\r\nimport HighRiskAssets from \"../components/widgets/HighRiskAssets\";\r\nimport Ratings from \"../components/widgets/Ratings\";\r\nimport RatingTrends from \"../components/widgets/RatingTrends\";\r\nimport RegulatoryCompliance from \"../components/widgets/RegulatoryCompliance\";\r\nimport TopThreats from \"../components/widgets/TopThreats\";\r\n\r\nexport type WidgetIdType =\r\n  | \"ratings\"\r\n  | \"trends\"\r\n  | \"regcomp\"\r\n  | \"highriskassets\"\r\n  | \"topthreats\"\r\n  | \"compliance\"\r\n  | \"alerts\"\r\n  | null;\r\n\r\nexport interface Widget {\r\n  title: string;\r\n  i: WidgetIdType;\r\n  w: number;\r\n  h: number;\r\n  minW: number;\r\n  minH: number;\r\n  maxW: number;\r\n  maxH: number;\r\n}\r\n\r\nexport function getWidgetFromId(widgetId: WidgetIdType) {\r\n  switch (widgetId) {\r\n    case \"ratings\":\r\n      return <Ratings />;\r\n    case \"trends\":\r\n      return <RatingTrends />;\r\n    case \"regcomp\":\r\n      return <RegulatoryCompliance />;\r\n    case \"highriskassets\":\r\n      return <HighRiskAssets />;\r\n    case \"topthreats\":\r\n      return <TopThreats />;\r\n    case \"compliance\":\r\n      return <FrameworkCompliance />;\r\n    case \"alerts\":\r\n      return <FrameworkAlerts />;\r\n    default:\r\n      return <></>;\r\n  }\r\n}\r\n\r\nexport function getWidgetDetailsFromId(widgetId: WidgetIdType) {\r\n  return widgetList.find((wid) => wid.i === widgetId);\r\n}\r\n\r\nexport const widgetList: Widget[] = [\r\n  {\r\n    title: \"Ratings\",\r\n    i: \"ratings\",\r\n    w: 6,\r\n    h: 6,\r\n    minW: 5,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Rating Trends\",\r\n    i: \"trends\",\r\n    w: 8,\r\n    h: 5,\r\n    minW: 5,\r\n    minH: 3,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Regulatory Compliance\",\r\n    i: \"regcomp\",\r\n    w: 4,\r\n    h: 5,\r\n    minW: 4,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"High Risk Assets\",\r\n    i: \"highriskassets\",\r\n    w: 10,\r\n    h: 7,\r\n    minW: 8,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Top Threats\",\r\n    i: \"topthreats\",\r\n    w: 12,\r\n    h: 8,\r\n    minW: 6,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n  {\r\n    title: \"Compliance\",\r\n    i: \"compliance\",\r\n    w: 4,\r\n    h: 6,\r\n    minW: 3,\r\n    minH: 4,\r\n    maxW: 10,\r\n    maxH: 10,\r\n  },\r\n  {\r\n    title: \"Alerts\",\r\n    i: \"alerts\",\r\n    w: 9,\r\n    h: 6,\r\n    minW: 5,\r\n    minH: 4,\r\n    maxW: 20,\r\n    maxH: 20,\r\n  },\r\n];\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function DotGrid({\r\n  numX,\r\n  numY,\r\n  heightSpace,\r\n  radius = 4,\r\n  thickness = 1,\r\n  fill = \"#aaa\",\r\n}: {\r\n  numX: number;\r\n  numY: number;\r\n  heightSpace: number;\r\n  radius?: number;\r\n  thickness?: number;\r\n  fill?: string;\r\n}) {\r\n  let dots = [];\r\n  const ref = useRef<SVGSVGElement | null>(null);\r\n  const [width, setWidth] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setWidth(ref.current?.clientWidth || 0);\r\n  }, [ref.current?.clientWidth]);\r\n\r\n  for (let indexWidth = 0; indexWidth <= numX; indexWidth++) {\r\n    for (let indexHeight = 0; indexHeight < numY; indexHeight++) {\r\n      const centerX = indexWidth * (width / numX);\r\n      const centerY = indexHeight * heightSpace;\r\n      const left = centerX - radius;\r\n      const right = centerX + radius;\r\n      const top = centerY - radius;\r\n      const bottom = centerY + radius;\r\n      dots.push(\r\n        // <circle\r\n        // \tkey={`dashboard-dot-${indexWidth}-${indexHeight}`}\r\n        // \tcx={indexWidth * (width / numX)}\r\n        // \tcy={indexHeight * heightSpace}\r\n        // \tr={radius}\r\n        // />\r\n        <line\r\n          x1={left}\r\n          y1={centerY}\r\n          x2={right}\r\n          y2={centerY}\r\n          stroke-width={thickness}\r\n        />,\r\n        <line\r\n          x1={centerX}\r\n          y1={top}\r\n          x2={centerX}\r\n          y2={bottom}\r\n          stroke-width={thickness}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <svg\r\n      ref={ref}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      // viewBox={`0 0 100% 100%`}\r\n      version=\"1.1\"\r\n      overflow=\"visible\"\r\n    >\r\n      <g fill={fill} stroke={fill}>\r\n        {dots}\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","import { Component } from \"react\";\r\n\r\nexport default class ErrorBoundary extends Component<\r\n  {},\r\n  { hasError: boolean }\r\n> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: any) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: any, errorInfo: any) {\r\n    // You can also log the error to an error reporting service\r\n    console.error(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // You can render any custom fallback UI\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  createStyles,\r\n  Fade,\r\n  makeStyles,\r\n  Typography,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { WidthProvider, Responsive, Layout } from \"react-grid-layout\";\r\nimport { withResizeDetector } from \"react-resize-detector\";\r\n\r\nimport { AppContext } from \"../../../context/AppContext\";\r\nimport { useAppDispatch } from \"../../../redux/hooks\";\r\nimport {\r\n  updateDashboardLayout,\r\n  dropLayout,\r\n  Dashboard as DashboardType,\r\n  removeWidget,\r\n} from \"../../../redux/dashboardSlice\";\r\nimport {\r\n  getWidgetDetailsFromId,\r\n  getWidgetFromId,\r\n  WidgetIdType,\r\n} from \"../../../redux/widgetSlice\";\r\nimport DotGrid from \"../../DotGrid\";\r\nimport ErrorBoundary from \"../../ErrorBoundary\";\r\nimport { Close } from \"@material-ui/icons\";\r\n\r\nconst ReactGridLayout = WidthProvider(\r\n  withResizeDetector(Responsive, {\r\n    refreshMode: \"debounce\",\r\n    refreshRate: 50,\r\n  })\r\n);\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    \"@keyframes fadeIn\": {\r\n      \"0%\": {\r\n        opacity: 0,\r\n      },\r\n      \"100%\": {\r\n        opacity: 1,\r\n      },\r\n    },\r\n    selector: {\r\n      animation: \"$fadeIn 0.3s ease-in-out 0.25s\",\r\n      // animationDelay: \"0.5s\",\r\n      animationFillMode: \"backwards\",\r\n    },\r\n    placeholder: ({ height }: { height: number }) => ({\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      minHeight: \"calc(100vh - 90px)\",\r\n      height: `calc(${height}px - 90px)`,\r\n      top: \"12px\",\r\n      left: \"12px\",\r\n      right: \"12px\",\r\n      transition: \"0.3s\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      pointerEvents: \"none\",\r\n      touchAction: \"none\",\r\n      // border: `2px dashed ${theme.palette.grey[300]}`,\r\n      color: theme.palette.grey[500],\r\n      boxSizing: \"border-box\",\r\n      overflow: \"visible\",\r\n    }),\r\n    container: {\r\n      minHeight: \"calc(100vh - 66px) !important\",\r\n      transition: \"0.3s\",\r\n      display: \"flex\",\r\n      flexGrow: 1,\r\n      overflow: \"hidden !important\",\r\n      // overflowX: \"hidden\",\r\n      // overflowY: \"visible\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Dashboard({\r\n  dashboard,\r\n  canEdit = false,\r\n}: {\r\n  dashboard: DashboardType;\r\n  canEdit?: boolean;\r\n}) {\r\n  const theme = useTheme();\r\n  const { state } = useContext(AppContext);\r\n  const dispatch = useAppDispatch();\r\n  const thisId = dashboard.id;\r\n\r\n  const [layout, setLayout] = useState<Layout[]>([]);\r\n  const [isDotGridVisible, setIsDotGridVisible] = useState(false);\r\n  const [height, setHeight] = useState(0);\r\n  const margin = theme.spacing(3);\r\n  const rowHeight = 50;\r\n\r\n  const classes = useStyles({ height: height });\r\n\r\n  const newItemType = getWidgetDetailsFromId(state.type);\r\n\r\n  useEffect(() => {\r\n    setLayout(() =>\r\n      dashboard.layout.map((widget) => {\r\n        const widgetDefaults = getWidgetDetailsFromId(\r\n          widget.i.split(\"-\")[0] as WidgetIdType\r\n        );\r\n        return {\r\n          ...widget,\r\n          minW: widgetDefaults?.minW,\r\n          minH: widgetDefaults?.minH,\r\n          maxW: widgetDefaults?.maxW,\r\n          maxH: widgetDefaults?.maxH,\r\n          isBounded: canEdit,\r\n          isDraggable: canEdit,\r\n          isResizable: canEdit,\r\n        };\r\n      })\r\n    );\r\n    console.log(\"changed\");\r\n  }, [dashboard.layout, canEdit]);\r\n\r\n  // const layout = dashboard.layout.map((widget) => {\r\n  // \tconst widgetDefaults = getWidgetDetailsFromId(\r\n  // \t\twidget.i.split(\"-\")[0] as WidgetIdType\r\n  // \t);\r\n  // \treturn {\r\n  // \t\t...widget,\r\n  // \t\tminW: widgetDefaults?.minW,\r\n  // \t\tminH: widgetDefaults?.minH,\r\n  // \t\tmaxW: widgetDefaults?.maxW,\r\n  // \t\tmaxH: widgetDefaults?.maxH,\r\n  // \t};\r\n  // });\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <div className={classes.placeholder}>\r\n        <Fade in={isDotGridVisible}>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              bottom: 0,\r\n              right: 0,\r\n            }}\r\n          >\r\n            <DotGrid\r\n              numX={16}\r\n              numY={Math.max(\r\n                Math.floor(height / (rowHeight + margin / 2)),\r\n                Math.floor((window.innerHeight - 66) / (rowHeight + margin / 2))\r\n              )}\r\n              heightSpace={rowHeight + margin}\r\n            />\r\n          </div>\r\n        </Fade>\r\n        {/* {isDotGridVisible && (\r\n\t\t\t\t\t<DotGrid\r\n\t\t\t\t\t\tnumX={16}\r\n\t\t\t\t\t\tnumY={Math.max(\r\n\t\t\t\t\t\t\tMath.floor(height / (rowHeight + margin / 2)),\r\n\t\t\t\t\t\t\tMath.floor(\r\n\t\t\t\t\t\t\t\t(window.innerHeight - 66) /\r\n\t\t\t\t\t\t\t\t\t(rowHeight + margin / 2)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\theightSpace={rowHeight + margin}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)} */}\r\n        {layout.length === 0 && (\r\n          <Typography\r\n            variant=\"h4\"\r\n            display=\"block\"\r\n            style={{ position: \"absolute\" }}\r\n          >\r\n            This Dashboard is Empty <br />\r\n            {`Click \"Edit\" in the top right to add a widget`}\r\n          </Typography>\r\n        )}\r\n      </div>\r\n      <ErrorBoundary>\r\n        <ReactGridLayout\r\n          // useCSSTransforms={false}\r\n          isDraggable={canEdit}\r\n          isResizable={canEdit}\r\n          isDroppable={canEdit}\r\n          measureBeforeMount\r\n          className={`layout ${classes.container}`}\r\n          // style={{ height: `${height}px` }}\r\n          layouts={{\r\n            lg: layout,\r\n            md: layout,\r\n            sm: layout,\r\n            xs: layout,\r\n            xxs: layout,\r\n          }}\r\n          width={1000}\r\n          rowHeight={rowHeight}\r\n          cols={{ lg: 16, md: 16, sm: 16, xs: 16, xxs: 16 }}\r\n          margin={[margin, margin]}\r\n          draggableHandle={\".ModuleDragHandle\"}\r\n          onDragStart={() => {\r\n            setIsDotGridVisible(true);\r\n          }}\r\n          onDragStop={(newLayout) => {\r\n            setIsDotGridVisible(false);\r\n            dispatch(\r\n              updateDashboardLayout({\r\n                id: thisId,\r\n                newLayout: newLayout,\r\n              })\r\n            );\r\n          }}\r\n          onResizeStart={() => {\r\n            setIsDotGridVisible(true);\r\n          }}\r\n          onResizeStop={(newLayout) => {\r\n            setIsDotGridVisible(false);\r\n            dispatch(\r\n              updateDashboardLayout({\r\n                id: thisId,\r\n                newLayout: newLayout,\r\n              })\r\n            );\r\n          }}\r\n          onLayoutChange={(layout) => {\r\n            if (!layout.find((li) => li.i === \"__dropping-elem__\")) {\r\n              setLayout(() => layout);\r\n              // dispatch(\r\n              // \tupdateDashboardLayout({\r\n              // \t\tid: thisId,\r\n              // \t\tnewLayout: layout,\r\n              // \t})\r\n              // );\r\n            }\r\n            let h = 0;\r\n            layout.forEach((li) => {\r\n              if (li.y + li.h > h) h = li.y + li.h;\r\n            });\r\n            setHeight(() => h * (rowHeight + margin) + margin);\r\n          }}\r\n          droppingItem={\r\n            newItemType !== undefined\r\n              ? {\r\n                  i: \"__dropping-elem__\",\r\n                  w: newItemType.w,\r\n                  h: newItemType.h,\r\n                }\r\n              : { i: \"__dropping-elem__\", w: 3, h: 3 }\r\n          }\r\n          onDrop={(layout, item) => {\r\n            if (newItemType !== undefined) {\r\n              const droppingElemIndex = layout.findIndex(\r\n                (item) => item.i === \"__dropping-elem__\"\r\n              );\r\n              if (droppingElemIndex > -1) {\r\n                let num = 0;\r\n                for (let i = 0; i < layout.length; i++) {\r\n                  num += layout[i].i.split(\"-\")[0] === state.type ? 1 : 0;\r\n                }\r\n                const newLayoutItem = {\r\n                  ...item,\r\n                  ...newItemType,\r\n                  i: `${state.type}-${dashboard.id}-${num}`,\r\n                };\r\n                const newLayout = layout;\r\n                newLayout.splice(droppingElemIndex, 1, newLayoutItem);\r\n                dispatch(\r\n                  dropLayout({\r\n                    id: thisId,\r\n                    // newLayoutItem: newLI,\r\n                    newLayout,\r\n                  })\r\n                );\r\n              }\r\n              // setLayout((prev) => {\r\n              // \tconst newLayout = [...prev, newLI].sort(\r\n              // \t\t(a, b) => {\r\n              // \t\t\tif (a.y < b.y) return -1;\r\n              // \t\t\tif (a.y > b.y) return 1;\r\n              // \t\t\tif (a.y === b.y) {\r\n              // \t\t\t\tif (a.x < b.x) return -1;\r\n              // \t\t\t\tif (a.x > b.x) return 1;\r\n              // \t\t\t}\r\n              // \t\t\treturn 0;\r\n              // \t\t}\r\n              // \t);\r\n              // \treturn newLayout;\r\n              // });\r\n            }\r\n          }}\r\n        >\r\n          {layout.map((widget) => {\r\n            const widgetEl = getWidgetFromId(\r\n              widget.i.split(\"-\")[0] as WidgetIdType\r\n            );\r\n            return (\r\n              <div\r\n                key={widget.i}\r\n                className={\r\n                  widget.i === \"__dropping-elem__\" ? \"\" : \"\" // classes.selector\r\n                }\r\n              >\r\n                {canEdit && widgetEl ? (\r\n                  <Actions dashboardId={dashboard.id} widgetId={widget.i} />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {widgetEl ? widgetEl : \"\"}\r\n              </div>\r\n            );\r\n          })}\r\n        </ReactGridLayout>\r\n      </ErrorBoundary>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Actions({\r\n  dashboardId,\r\n  widgetId,\r\n}: {\r\n  dashboardId: string;\r\n  widgetId: string;\r\n}) {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <Box position=\"absolute\" right={0}>\r\n      <ButtonGroup size=\"small\" variant=\"text\">\r\n        <Button\r\n          onClick={() => dispatch(removeWidget({ dashboardId, widgetId }))}\r\n        >\r\n          <Close />\r\n        </Button>\r\n      </ButtonGroup>\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n  createStyles,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useContext } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { AppContext } from \"../../../context/AppContext\";\r\nimport { selectDashboardById } from \"../../../redux/dashboardSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport { WidgetIdType, widgetList } from \"../../../redux/widgetSlice\";\r\nimport Dashboard from \"./Dashboard\";\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      position: \"absolute\",\r\n      width: drawerWidth,\r\n    },\r\n    drawerContainer: {\r\n      overflow: \"auto\",\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      position: \"relative\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function EditDashboard() {\r\n  const location = useLocation();\r\n  const dashboardId = location.pathname.split(\"/\")[3];\r\n  const dashboard = useAppSelector(selectDashboardById(dashboardId));\r\n\r\n  const classes = useStyles();\r\n\r\n  if (dashboard === undefined)\r\n    return <Typography variant=\"h4\">404: No such dashboard found</Typography>;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <CssBaseline /> */}\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerContainer}>\r\n          <List>\r\n            <ListItem>\r\n              <Typography variant=\"h5\">Editing Dashboard:</Typography>\r\n            </ListItem>\r\n            <ListItem>\r\n              <Typography variant=\"h6\" color=\"textSecondary\">\r\n                {dashboard?.name}\r\n              </Typography>\r\n            </ListItem>\r\n            {/* <ListItem>\r\n              <ButtonGroup fullWidth color=\"primary\" disableElevation>\r\n                <Tooltip title=\"Does not work LOL\">\r\n                  <Button startIcon={<Cancel />}>Cancel</Button>\r\n                </Tooltip>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  startIcon={<Save />}\r\n                  onClick={() => {\r\n                    history.push(`/dashboard/${dashboardId}`);\r\n                    enqueueSnackbar(\r\n                      <>\r\n                        Successfully saved dashboard:&nbsp;\r\n                        <strong>{dashboard.name}</strong>\r\n                      </>,\r\n                      { variant: \"success\" }\r\n                    );\r\n                  }}\r\n                >\r\n                  Save\r\n                </Button>\r\n              </ButtonGroup>\r\n            </ListItem> */}\r\n            <Divider />\r\n            {widgetList.map((widget) => (\r\n              <WidgetListItem\r\n                key={`widget-list-item-${widget.title}`}\r\n                title={widget.title}\r\n                widgetType={widget.i}\r\n              />\r\n            ))}\r\n          </List>\r\n        </div>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <Dashboard dashboard={dashboard} canEdit />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction WidgetListItem({\r\n  title,\r\n  widgetType,\r\n}: {\r\n  title: string;\r\n  widgetType: WidgetIdType;\r\n}) {\r\n  const { setType, clearType } = useContext(AppContext);\r\n\r\n  return (\r\n    <div\r\n      draggable={true}\r\n      onDragStart={(e) => {\r\n        e.dataTransfer.setData(\"text/plain\", \"\");\r\n        setType(widgetType);\r\n      }}\r\n      onDragEnd={() => {\r\n        clearType();\r\n      }}\r\n    >\r\n      <ListItem button disableRipple disableTouchRipple>\r\n        <ListItemText\r\n          primary={title}\r\n          primaryTypographyProps={{ noWrap: true }}\r\n        />\r\n      </ListItem>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport { Color } from \"@material-ui/lab\";\r\nimport { createStyles } from \"@material-ui/styles\";\r\n\r\nexport type alertType = {\r\n  title: string;\r\n  text: JSX.Element;\r\n  severity: Color;\r\n};\r\n\r\nexport function createAlert(\r\n  title: string,\r\n  text: JSX.Element,\r\n  severity: Color\r\n): alertType {\r\n  return { title, text, severity };\r\n}\r\n\r\nexport type controlType = {\r\n  control: string;\r\n  description: string;\r\n  severity: string;\r\n  violations: number;\r\n  needsReview: boolean;\r\n};\r\n\r\nexport function createControl(\r\n  control: string,\r\n  description: string,\r\n  severity: string,\r\n  violations: number,\r\n  needsReview: boolean\r\n): controlType {\r\n  return { control, description, severity, violations, needsReview };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      // display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function AllOverviews() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {/* <FrameworkOverview\r\n\t\t\t\ttitle='PCI'\r\n\t\t\t\tpercent={0.78}\r\n\t\t\t\talerts={PCIAlerts}\r\n\t\t\t\tcontrols={PCIControls}\r\n\t\t\t/>\r\n\t\t\t<FrameworkOverview\r\n\t\t\t\ttitle='ISO27001'\r\n\t\t\t\tpercent={0.56}\r\n\t\t\t\talerts={ISOAlerts}\r\n\t\t\t\tcontrols={ISOControls}\r\n\t\t\t/>\r\n\t\t\t<FrameworkOverview\r\n\t\t\t\ttitle='NIST'\r\n\t\t\t\tpercent={0.9}\r\n\t\t\t\talerts={NISTAlerts}\r\n\t\t\t\tcontrols={NISTControls}\r\n\t\t\t/> */}\r\n    </div>\r\n  );\r\n}\r\n","import { AvailableFramework } from \"../redux/frameworkSlice\";\r\n\r\nexport const AvailableFrameworks: AvailableFramework[] = [\r\n  {\r\n    id: \"pci-framework-id\",\r\n    name: \"PCI DSS\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"iso27001-framework-id\",\r\n    name: \"ISO 27001\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nist-framework-id\",\r\n    name: \"NIST\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"cobit-framework-id\",\r\n    name: \"CobiT\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"cis-framework-id\",\r\n    name: \"CIS Controls\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nist80053-framework-id\",\r\n    name: \"NIST 800-53\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"iso27002-framework-id\",\r\n    name: \"ISO 27002\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"isa-framework-id\",\r\n    name: \"ISA Framework\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"aicpa-framework-id\",\r\n    name: \"AICPA Trust Services Criteria\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"hitrust-framework-id\",\r\n    name: \"HITRUST\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"scf-framework-id\",\r\n    name: \"Secure Controls Framework\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nymity-framework-id\",\r\n    name: \"Nymity Privacy Framework\",\r\n    link: \"example.com\",\r\n  },\r\n  {\r\n    id: \"nistir-framework-id\",\r\n    name: \"NISTIR 8204\",\r\n    link: \"example.com\",\r\n  },\r\n];\r\n","import { format } from \"date-fns\";\r\nimport { Alert, Control } from \"../redux/frameworkSlice\";\r\n\r\nexport const PCIAlerts: Alert[] = [\r\n  {\r\n    title: \"Control 4.1.1\",\r\n    child: (\r\n      <>\r\n        <strong>High Risk Alert:</strong> A PCI transaction contains unencrypted\r\n        data and is in violation of PCI Control 4.1.1\r\n      </>\r\n    ),\r\n    severity: \"error\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control 5.2\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> 4 systems currently do not have\r\n        functioning antivirus and are in violation of PCI Control 5.2\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n  {\r\n    title: \"Control 6.5.1\",\r\n    child: (\r\n      <>\r\n        <strong>Medium Risk Alert:</strong> A data server is vulnerable to SQL\r\n        injection attacks, and is in violation of PCI Control 6.5.1\r\n      </>\r\n    ),\r\n    severity: \"warning\",\r\n    timestamp: format(new Date(), \"T\"),\r\n  },\r\n];\r\n\r\nexport const PCIControls: Control[] = [\r\n  {\r\n    id: \"1.1\",\r\n    isActive: false,\r\n    description:\r\n      \"Establish and implement firewall and router configuration standards that include the following:\",\r\n    severity: \"low\",\r\n    nestedControls: [\r\n      {\r\n        id: \"1.1.1\",\r\n        isActive: false,\r\n        description:\r\n          \"A formal process for approving and testing all network connections and changes to the firewall and router configuration\",\r\n        severity: \"high\",\r\n        compliance: Math.random(),\r\n        requiredProcesses: [\r\n          {\r\n            name: \"An inventory of authorized wireless access points with listed business justifications (11.1.1)\",\r\n            process: {\r\n              id: \"doc-1.1.1-a\",\r\n              name: \"doc-1.1.1-a\",\r\n              dateUploaded: format(new Date(), \"T\"),\r\n              link: \"https://s2.q4cdn.com/175719177/files/doc_presentations/Placeholder-PDF.pdf\",\r\n              status: \"needs-review\",\r\n            },\r\n          },\r\n          {\r\n            name: \"Have a process in place to keep up to date with the latest identified security vulnerabilities and their threat level. (6.1, 6.5.6)\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"1.1.2\",\r\n        isActive: false,\r\n        description:\r\n          \"Current network diagram that identifies all connections between the cardholder data environment and other networks, including any wireless network\",\r\n        severity: \"medium\",\r\n        compliance: Math.random(),\r\n        dataItems: [\r\n          {\r\n            name: \"How many days until this diagram should be updated\",\r\n            type: \"number\",\r\n            value: 200,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"1.1.3\",\r\n        isActive: false,\r\n        description:\r\n          \"Current diagram that shows all cardholder data flows across systems and network\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.1.4\",\r\n        isActive: false,\r\n        description:\r\n          \"Requirements for a firewall at each Internet connection and between any demilitarized zone (DMZ) and the internal network zone\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.1.5\",\r\n        isActive: false,\r\n        description:\r\n          \"Description of groups, roles, and responsibilities for management of network component\",\r\n        severity: \"high\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.1.6\",\r\n        isActive: false,\r\n        description:\r\n          \"Documentation of business justification and approval for use of all services, protocols, and ports allowed, including documentation of security features implemented for those protocols considered to be insecure\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n        requiredDocuments: [\r\n          {\r\n            name: \"Documented business justification for each port or protocol allowed through the firewall (1.1.6a)\",\r\n            document: {\r\n              id: \"doc-1.1.6-a\",\r\n              name: \"doc-1.1.6-a\",\r\n              dateUploaded: format(new Date(), \"T\"),\r\n              link: \"https://s2.q4cdn.com/175719177/files/doc_presentations/Placeholder-PDF.pdf\",\r\n              status: \"in-effect\",\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        id: \"1.1.7\",\r\n        isActive: false,\r\n        description:\r\n          \"Requirement to review firewall and router rule sets at least every six month\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"1.2\",\r\n    isActive: false,\r\n    description:\r\n      \"Build firewall and router configurations that restrict connections between untrusted networks and any system components in the cardholder data environment\",\r\n    severity: \"medium\",\r\n    nestedControls: [\r\n      {\r\n        id: \"1.2.1\",\r\n        isActive: false,\r\n        description:\r\n          \"Restrict inbound and outbound traffic to that which is necessary for the cardholder data environment, and specifically deny all other traffic\",\r\n        severity: \"medium\",\r\n        compliance: Math.random(),\r\n      },\r\n      {\r\n        id: \"1.2.2\",\r\n        isActive: false,\r\n        description: \"Secure and synchronize router configuration files\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.2.3\",\r\n        isActive: false,\r\n        description:\r\n          \"Install perimeter firewalls between all wireless networks and the cardholder data environment, and configure these firewalls to deny or, if traffic is necessary for business purposes, permit only authorized traffic between the wireless environment and the cardholder data environment\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"1.3\",\r\n    isActive: false,\r\n    description:\r\n      \"Prohibit direct public access between the Internet and any system component in the cardholder data environment\",\r\n    severity: \"low\",\r\n    nestedControls: [\r\n      {\r\n        id: \"1.3.1\",\r\n        isActive: false,\r\n        description:\r\n          \"Implement a DMZ to limit inbound traffic to only system components that provide authorized publicly accessible services, protocols, and ports\",\r\n        severity: \"medium\",\r\n        compliance: Math.random(),\r\n      },\r\n      {\r\n        id: \"1.3.2\",\r\n        isActive: false,\r\n        description:\r\n          \"Limit inbound Internet traffic to IP addresses within the DMZ\",\r\n        severity: \"low\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.3\",\r\n        isActive: false,\r\n        description:\r\n          \"Implement anti-spoofing measures to detect and block forged source IP addresses from entering the network\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.4\",\r\n        isActive: false,\r\n        description:\r\n          \"Do not allow unauthorized outbound traffic from the cardholder data environment to the Internet\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.5\",\r\n        isActive: false,\r\n        description: \"Permit only “established” connections into the network\",\r\n        severity: \"medium\",\r\n        compliance: 1,\r\n      },\r\n      {\r\n        id: \"1.3.6\",\r\n        isActive: false,\r\n        description:\r\n          \"Place system components that store cardholder data (such as a database) in an internal network zone, segregated from the DMZ and other untrusted networks\",\r\n        severity: \"low\",\r\n        compliance: Math.random(),\r\n      },\r\n      {\r\n        id: \"1.3.7\",\r\n        isActive: false,\r\n        description:\r\n          \"Do not disclose private IP addresses and routing information to unauthorized parties\",\r\n        severity: \"low\",\r\n        compliance: Math.random(),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"1.4\",\r\n    isActive: false,\r\n    description:\r\n      \"Install personal firewall software or equivalent functionality on any portable computing devices (including company and/or employee-owned) that connect to the Internet when outside the network (for example, laptops used by employees), and which are also used to access the CDE\",\r\n    severity: \"low\",\r\n    compliance: 1,\r\n  },\r\n  {\r\n    id: \"1.5\",\r\n    isActive: false,\r\n    description:\r\n      \"Ensure that security policies and operational procedures for managing firewalls are documented, in use, and known to all affected parties\",\r\n    severity: \"medium\",\r\n    compliance: 1,\r\n  },\r\n];\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  createStyles,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  FilledInput,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  makeStyles,\r\n  Table,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Add, MoreVert, Search } from \"@material-ui/icons\";\r\nimport { format, parse } from \"date-fns\";\r\nimport Fuse from \"fuse.js\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { AvailableFrameworks } from \"../../../data/AvailableFrameworks\";\r\nimport { PCIAlerts, PCIControls } from \"../../../data/PCIData\";\r\nimport {\r\n  add,\r\n  AvailableFramework,\r\n  Framework,\r\n  selectFrameworks,\r\n} from \"../../../redux/frameworkSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: theme.spacing(1.5),\r\n      margin: 0,\r\n      width: \"100%\",\r\n    },\r\n    frameworkSummary: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      padding: theme.spacing(2),\r\n    },\r\n    tableHeader: {\r\n      backgroundColor: theme.palette.background.default,\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  })\r\n);\r\n\r\nexport default function FrameworkAdmin() {\r\n  const classes = useStyles();\r\n\r\n  const frameworks = useAppSelector(selectFrameworks);\r\n  return (\r\n    <Grid className={classes.container} container spacing={3}>\r\n      <AddFramework />\r\n      {frameworks.map((frame) => (\r\n        <FrameworkSummary\r\n          key={`framework-summary-${frame.id}`}\r\n          framework={frame}\r\n        />\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction AddFramework() {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid item xs={12} md={12}>\r\n        <CardHeader\r\n          title=\"Active Frameworks\"\r\n          titleTypographyProps={{ variant: \"h4\" }}\r\n          action={\r\n            <ButtonGroup color=\"primary\">\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<Add />}\r\n                onClick={handleClickOpen}\r\n              >\r\n                Add Framework\r\n              </Button>\r\n            </ButtonGroup>\r\n          }\r\n        />\r\n      </Grid>\r\n      <AddFrameworkDialog isOpen={open} close={handleClose} />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction FrameworkSummary({ framework }: { framework: Framework }) {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Grid item xs={12} md={4}>\r\n      <Card>\r\n        <CardHeader\r\n          title={framework.name}\r\n          // titleTypographyProps={{ variant: \"h4\" }}\r\n          action={\r\n            <IconButton>\r\n              <MoreVert />\r\n            </IconButton>\r\n          }\r\n        />\r\n        <CardContent>\r\n          <Grid container direction=\"column\" spacing={2}>\r\n            <SubItem title=\"DATE ADOPTED\">\r\n              <Typography>\r\n                {format(\r\n                  parse(framework.dateAdopted, \"T\", new Date()),\r\n                  \"hh:mm bbb, eee LLLL Mo\"\r\n                )}\r\n              </Typography>\r\n            </SubItem>\r\n            <SubItem title=\"LAST MODIFIED\">\r\n              <Typography>\r\n                {format(\r\n                  parse(framework.dateAdopted, \"T\", new Date()),\r\n                  \"hh:mm bbb, eee LLLL Mo\"\r\n                )}\r\n              </Typography>\r\n            </SubItem>\r\n            <SubItem title=\"ACTIONS\">\r\n              <Button\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() =>\r\n                  history.push(`/admin/framework/manage/${framework.id}`)\r\n                }\r\n              >\r\n                Manage\r\n              </Button>\r\n              <Box marginTop={1}>\r\n                <ButtonGroup fullWidth>\r\n                  <Button\r\n                    onClick={() => history.push(`/framework/${framework.id}`)}\r\n                  >\r\n                    View\r\n                  </Button>\r\n                  <Button>Renew</Button>\r\n                  <Button>Remove</Button>\r\n                </ButtonGroup>\r\n              </Box>\r\n            </SubItem>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction SubItem({ title, children }: { title: string; children: any }) {\r\n  return (\r\n    <Grid item>\r\n      <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n        {title}\r\n      </Typography>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction AddFrameworkDialog({\r\n  isOpen,\r\n  close,\r\n}: {\r\n  isOpen: boolean;\r\n  close: () => void;\r\n}) {\r\n  const [selectedFramework, setSelectedFramework] =\r\n    useState<AvailableFramework | null>(null);\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={close}\r\n      aria-labelledby=\"form-dialog-title\"\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n      style={{ transition: \"0.3s\" }}\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">Add a Framework</DialogTitle>\r\n      <DialogContent style={{ paddingTop: 0 }}>\r\n        {selectedFramework === null ? (\r\n          <AvailableFrameworkList setSelectedFramework={setSelectedFramework} />\r\n        ) : (\r\n          <ValidateFramework\r\n            framework={selectedFramework}\r\n            back={() => setSelectedFramework(null)}\r\n            close={close}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={close} color=\"primary\" variant=\"outlined\">\r\n          Cancel\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction AvailableFrameworkList({\r\n  setSelectedFramework,\r\n}: {\r\n  setSelectedFramework: (framework: AvailableFramework) => void;\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const options: Fuse.IFuseOptions<AvailableFramework> = {\r\n    keys: [\"name\"],\r\n    threshold: 0.3,\r\n  };\r\n  const fuse = new Fuse(AvailableFrameworks, options);\r\n\r\n  return (\r\n    <>\r\n      <Box width=\"100%\">\r\n        <FormControl fullWidth>\r\n          <InputLabel htmlFor=\"add-framework-search-field\">\r\n            <Box paddingLeft={3}>Search</Box>\r\n          </InputLabel>\r\n          <FilledInput\r\n            id=\"add-framework-search-field\"\r\n            type=\"search\"\r\n            fullWidth\r\n            endAdornment={<Search />}\r\n            value={search}\r\n            onChange={(event) => {\r\n              setSearch(event.target.value);\r\n            }}\r\n          />\r\n        </FormControl>\r\n      </Box>\r\n      <Table stickyHeader>\r\n        <TableHead className={classes.tableHeader}>\r\n          <TableCell>Framework</TableCell>\r\n          <TableCell>Link</TableCell>\r\n          <TableCell></TableCell>\r\n        </TableHead>\r\n        {(search.length === 0\r\n          ? AvailableFrameworks\r\n          : fuse.search(search).map((result) => result.item)\r\n        ).map((framework) => (\r\n          <TableRow>\r\n            <TableCell>{framework.name}</TableCell>\r\n            <TableCell>{framework.link}</TableCell>\r\n            <TableCell padding=\"none\" align=\"right\">\r\n              <Button\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={() => setSelectedFramework(framework)}\r\n              >\r\n                Add\r\n              </Button>\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n      </Table>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ValidateFramework({\r\n  framework,\r\n  back,\r\n  close,\r\n}: {\r\n  framework: AvailableFramework;\r\n  back: () => void;\r\n  close: () => void;\r\n}) {\r\n  const dispatch = useAppDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [license, setLicense] = useState(\"\");\r\n  const [error, setError] =\r\n    useState<\"Cannot be empty\" | \"Invalid License Key\" | \"success\">(\"success\");\r\n\r\n  const handleAdd = () => {\r\n    console.log(license.length, error);\r\n    if (license.length === 0) setError(() => \"Cannot be empty\");\r\n    // else if (error !== \"Invalid License Key\")\r\n    //   setError(() => \"Invalid License Key\");\r\n    else {\r\n      setError(\"success\");\r\n      dispatch(\r\n        add({\r\n          newFramework: {\r\n            id: framework.id,\r\n            name: framework.name,\r\n            alerts: framework.name === \"PCI DSS\" ? PCIAlerts : [],\r\n            controls: framework.name === \"PCI DSS\" ? PCIControls : [],\r\n            dateAdopted: format(new Date(), \"T\"),\r\n          },\r\n        })\r\n      );\r\n      enqueueSnackbar(\r\n        <>\r\n          Successfully added new framework:&nbsp;\r\n          <strong>{framework.name}</strong>\r\n        </>,\r\n        { variant: \"success\" }\r\n      );\r\n      close();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DialogContentText>\r\n        Please enter your license key for <strong>{framework.name}</strong>\r\n      </DialogContentText>\r\n      <FormControl fullWidth>\r\n        <TextField\r\n          type=\"enter\"\r\n          variant=\"outlined\"\r\n          label=\"License Key\"\r\n          error={error !== \"success\"}\r\n          helperText={error !== \"success\" && error}\r\n          id=\"add-framework-license-field\"\r\n          fullWidth\r\n          inputProps={{\r\n            endAdornment: <Search />,\r\n          }}\r\n          value={license}\r\n          onChange={(event) => {\r\n            setLicense(event.target.value);\r\n          }}\r\n        />\r\n      </FormControl>\r\n      <DialogActions>\r\n        <Button onClick={back} color=\"primary\">\r\n          Back\r\n        </Button>\r\n        <Button onClick={handleAdd} color=\"primary\" variant=\"contained\">\r\n          Add\r\n        </Button>\r\n      </DialogActions>\r\n    </>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  CardHeader,\r\n  Checkbox,\r\n  createStyles,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  fade,\r\n  Grid,\r\n  GridSize,\r\n  IconButton,\r\n  InputAdornment,\r\n  Link,\r\n  makeStyles,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AssignmentTurnedIn,\r\n  Close,\r\n  MoreVert,\r\n  Search,\r\n} from \"@material-ui/icons\";\r\nimport ReactJson from \"react-json-view\";\r\nimport {\r\n  API,\r\n  selectThreatFeeds,\r\n  updateThreatFeed,\r\n} from \"../../../redux/threatFeedSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\nimport { format, parse } from \"date-fns\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: theme.spacing(3),\r\n      width: \"100%\",\r\n    },\r\n    threatFeedSummary: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      padding: theme.spacing(2),\r\n    },\r\n    addNew: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      width: \"100%\",\r\n      padding: theme.spacing(3.5),\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.primary.light, 0.1),\r\n      border: `3px dashed ${fade(theme.palette.primary.main, 0.1)}`,\r\n      color: fade(theme.palette.primary.dark, 0.7),\r\n      fontSize: theme.typography.h6.fontSize,\r\n    },\r\n    dialog: {\r\n      // width: \"80vw\",\r\n      height: \"75vh\",\r\n      overflow: \"visible\",\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function ManageThreatFeed() {\r\n  const classes = useStyles();\r\n\r\n  const threatFeeds = useAppSelector(selectThreatFeeds);\r\n\r\n  return (\r\n    <Grid className={classes.container} container spacing={2}>\r\n      <Header />\r\n      {threatFeeds.map((dash) => (\r\n        <ThreatFeedSummary\r\n          key={`threatFeed-summary-${dash.id}`}\r\n          threatFeed={dash}\r\n        />\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction Header() {\r\n  return (\r\n    <Grid item xs={12}>\r\n      <CardHeader\r\n        title=\"Threat Intelligence Feeds\"\r\n        action={\r\n          <Box display=\"flex\">\r\n            <TextField\r\n              label=\"Search\"\r\n              id=\"threat-feed-search-field\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            <Box marginLeft={3} display=\"flex\">\r\n              <Button variant=\"contained\" color=\"primary\">\r\n                Add New Feed\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        }\r\n      />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport function ThreatFeedSummary({ threatFeed }: { threatFeed: API }) {\r\n  const classes = useStyles();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Grid item xs={12}>\r\n      <Paper className={classes.threatFeedSummary}>\r\n        <Grid container direction=\"row\" spacing={2}>\r\n          <ThreatFeedSummaryItem title=\"ACTIVE\">\r\n            <Checkbox\r\n              checked={threatFeed.isActive}\r\n              color=\"primary\"\r\n              onChange={(e, checked) => {\r\n                dispatch(\r\n                  updateThreatFeed({\r\n                    id: threatFeed.id,\r\n                    newThreatFeed: {\r\n                      ...threatFeed,\r\n                      isActive: checked,\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n            />\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"NAME\">\r\n            <Typography>{threatFeed.name}</Typography>\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"URL\">\r\n            <Typography>\r\n              <Link href={threatFeed.url} rel=\"noopener noreferrer\">\r\n                <Typography\r\n                  variant=\"body2\"\r\n                  style={{ maxWidth: \"200px\" }}\r\n                  noWrap\r\n                >\r\n                  {threatFeed.url}\r\n                </Typography>\r\n              </Link>\r\n            </Typography>\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"LAST SYNCED\">\r\n            {format(\r\n              parse(threatFeed.lastSyncTimestamp, \"T\", new Date()),\r\n              \"hh:mm bbb, eee LLLL Mo\"\r\n            )}\r\n          </ThreatFeedSummaryItem>\r\n          <ThreatFeedSummaryItem title=\"POLL INTERVAL\">\r\n            {threatFeed.pollInterval}\r\n          </ThreatFeedSummaryItem>\r\n        </Grid>\r\n        <Divider flexItem orientation=\"vertical\" variant=\"middle\" />\r\n        <ThreatFeedSummaryItem title=\"ACTIONS\">\r\n          <ButtonGroup\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            disableElevation\r\n            size=\"small\"\r\n          >\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<AssignmentTurnedIn />}\r\n              onClick={handleClickOpen}\r\n            >\r\n              Test\r\n            </Button>\r\n            <Button>auth</Button>\r\n            <Button onClick={handleClickOpen}>\r\n              <MoreVert />\r\n            </Button>\r\n          </ButtonGroup>\r\n        </ThreatFeedSummaryItem>\r\n        <TestDialog\r\n          title={threatFeed.name}\r\n          open={open}\r\n          // url={threatFeed.url}\r\n          handleClose={handleClose}\r\n        />\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction ThreatFeedSummaryItem({\r\n  title,\r\n  children,\r\n  xs,\r\n}: {\r\n  title: string;\r\n  children: any;\r\n  xs?: GridSize;\r\n}) {\r\n  return (\r\n    <Grid\r\n      item\r\n      xs={xs || true}\r\n      container\r\n      direction=\"column\"\r\n      // alignItems='center'\r\n    >\r\n      <Grid item>\r\n        <Typography color=\"textSecondary\" variant=\"subtitle2\">\r\n          {title}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs container alignContent=\"center\">\r\n        {children}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction TestDialog({\r\n  title,\r\n  open,\r\n  handleClose,\r\n}: {\r\n  title: string;\r\n  open: boolean;\r\n  handleClose: () => void;\r\n}) {\r\n  const classes = useStyles();\r\n  const [data, setData] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    setData(null);\r\n  }, []);\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open} fullWidth maxWidth=\"md\">\r\n      <DialogTitle\r\n        id=\"simple-dialog-title\"\r\n        // classes={{ root: classes.dialog }}\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        Testing: {title}\r\n        <IconButton onClick={handleClose} className={classes.closeButton}>\r\n          <Close />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent className={classes.dialog}>\r\n        <Box display=\"flex\" marginY={1}>\r\n          <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" paddingX={2}>\r\n            <TextField\r\n              label=\"Token\"\r\n              id=\"password-field\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            />\r\n          </Box>\r\n          <Divider orientation=\"vertical\" />\r\n          <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" paddingX={2}>\r\n            <TextField\r\n              label=\"Username\"\r\n              id=\"username-field\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            />\r\n            <TextField\r\n              label=\"Password\"\r\n              id=\"password-field\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            />\r\n          </Box>\r\n        </Box>\r\n        <Button\r\n          fullWidth\r\n          variant=\"contained\"\r\n          onClick={() => setData(getJson())}\r\n        >\r\n          Test\r\n        </Button>\r\n        <Box marginBottom={2} />\r\n        <Divider />\r\n        {data !== null && <ReactJson src={data} theme=\"monokai\" />}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst getJson = () => {\r\n  return {\r\n    response: {\r\n      numFound: 5418,\r\n      start: 0,\r\n      maxScore: 6.539637,\r\n      docs: [\r\n        {\r\n          id: \"10.1371/journal.pone.0000290\",\r\n          journal: \"PLoS ONE\",\r\n          eissn: \"1932-6203\",\r\n          publication_date: \"2007-03-14T00:00:00Z\",\r\n          article_type: \"Research Article\",\r\n          author_display: [\r\n            \"Rayna I. Kraeva\",\r\n            \"Dragomir B. Krastev\",\r\n            \"Assen Roguev\",\r\n            \"Anna Ivanova\",\r\n            \"Marina N. Nedelcheva-Veleva\",\r\n            \"Stoyno S. Stoynov\",\r\n          ],\r\n          abstract: [\r\n            \"Nucleic acids, due to their structural and chemical properties, can form double-stranded secondary structures that assist the transfer of genetic information and can modulate gene expression. However, the nucleotide sequence alone is insufficient in explaining phenomena like intron-exon recognition during RNA processing. This raises the question whether nucleic acids are endowed with other attributes that can contribute to their biological functions. In this work, we present a calculation of thermodynamic stability of DNA/DNA and mRNA/DNA duplexes across the genomes of four species in the genus Saccharomyces by nearest-neighbor method. The results show that coding regions are more thermodynamically stable than introns, 3′-untranslated regions and intergenic sequences. Furthermore, open reading frames have more stable sense mRNA/DNA duplexes than the potential antisense duplexes, a property that can aid gene discovery. The lower stability of the DNA/DNA and mRNA/DNA duplexes of 3′-untranslated regions and the higher stability of genes correlates with increased mRNA level. These results suggest that the thermodynamic stability of DNA/DNA and mRNA/DNA duplexes affects mRNA transcription.\",\r\n          ],\r\n          title_display:\r\n            \"Stability of mRNA/DNA and DNA/DNA Duplexes Affects mRNA Transcription\",\r\n          score: 6.539637,\r\n        },\r\n      ],\r\n    },\r\n  };\r\n};\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  CardHeader,\r\n  createStyles,\r\n  fade,\r\n  Grid,\r\n  InputAdornment,\r\n  makeStyles,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport { selectAPIs } from \"../../../redux/threatFeedSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport { ThreatFeedSummary } from \"./ManageThreatFeed\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      padding: theme.spacing(3),\r\n      width: \"100%\",\r\n    },\r\n    threatFeedSummary: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      padding: theme.spacing(2),\r\n    },\r\n    addNew: {\r\n      display: \"flex\",\r\n      minHeight: \"50px\",\r\n      width: \"100%\",\r\n      padding: theme.spacing(3.5),\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.primary.light, 0.1),\r\n      border: `3px dashed ${fade(theme.palette.primary.main, 0.1)}`,\r\n      color: fade(theme.palette.primary.dark, 0.7),\r\n      fontSize: theme.typography.h6.fontSize,\r\n    },\r\n    dialog: {\r\n      // width: \"80vw\",\r\n      height: \"75vh\",\r\n      overflow: \"visible\",\r\n      paddingBottom: theme.spacing(3),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n  })\r\n);\r\n\r\nexport default function ManageAPI() {\r\n  const classes = useStyles();\r\n\r\n  const threatFeeds = useAppSelector(selectAPIs);\r\n\r\n  return (\r\n    <Grid className={classes.container} container spacing={2}>\r\n      <Header />\r\n      {threatFeeds.map((dash) => (\r\n        <ThreatFeedSummary key={`api-summary-${dash.id}`} threatFeed={dash} />\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction Header() {\r\n  return (\r\n    <Grid item xs={12}>\r\n      <CardHeader\r\n        title=\"APIs\"\r\n        action={\r\n          <Box display=\"flex\">\r\n            <TextField\r\n              label=\"Search\"\r\n              id=\"threat-feed-search-field\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            <Box marginLeft={3} display=\"flex\">\r\n              <ButtonGroup color=\"primary\">\r\n                <Button>Manage API Users</Button>\r\n                <Button variant=\"contained\">Add New Feed</Button>\r\n              </ButtonGroup>\r\n            </Box>\r\n          </Box>\r\n        }\r\n      />\r\n    </Grid>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  Chip,\r\n  createStyles,\r\n  Divider,\r\n  FormControlLabel,\r\n  makeStyles,\r\n  Switch,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { ChangeEvent, useState } from \"react\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport { Role, selectUsers } from \"../../../redux/userSlice\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      // boxSizing: \"border-box\",\r\n      // margin: theme.spacing(3),\r\n      flexGrow: 1,\r\n      // overflow: \"hidden\",\r\n    },\r\n    container: {\r\n      // paddingLeft: theme.spacing(2),\r\n      // paddingRight: theme.spacing(2),\r\n      maxHeight: \"70vh\",\r\n    },\r\n    tableHeader: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n  })\r\n);\r\n\r\ninterface Column {\r\n  id: \"name\" | \"email\" | \"role\" | \"actions\";\r\n  label: string;\r\n  minWidth?: number;\r\n  align: \"right\" | \"center\" | \"left\";\r\n  format?: (item: any) => JSX.Element;\r\n}\r\n\r\nconst columns: Column[] = [\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n    minWidth: 170,\r\n    align: \"left\",\r\n  },\r\n  {\r\n    id: \"email\",\r\n    label: \"Email\",\r\n    minWidth: 300,\r\n    align: \"left\",\r\n  },\r\n  {\r\n    id: \"role\",\r\n    label: \"Role\",\r\n    minWidth: 60,\r\n    align: \"center\",\r\n    format: (item: Role) => <Chip label={item} size=\"small\" />,\r\n  },\r\n  {\r\n    id: \"actions\",\r\n    label: \"Actions\",\r\n    minWidth: 60,\r\n    align: \"right\",\r\n  },\r\n];\r\n\r\nexport default function Users() {\r\n  return (\r\n    <Box padding={3}>\r\n      <ActiveDirectory />\r\n      <Box marginBottom={3} />\r\n      <LocalUserList />\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction ActiveDirectory() {\r\n  const [state, setState] = useState(false);\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setState(event.target.checked);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CardHeader\r\n        title=\"Active Directory\"\r\n        action={\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={state}\r\n                onChange={handleChange}\r\n                name=\"checkedA\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label={state ? \"Active\" : \"Inactive\"}\r\n          />\r\n        }\r\n      />\r\n      <Card>\r\n        <CardContent>\r\n          <Box display=\"flex\">\r\n            <Box flex={8}>\r\n              <TextField\r\n                id=\"fqdn-field\"\r\n                label=\"Active Directory Server FQDN\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n              />\r\n            </Box>\r\n            <Box marginX={3}>\r\n              <Divider orientation=\"vertical\" />\r\n            </Box>\r\n            <Box flex={4}>\r\n              <TextField\r\n                id=\"port-field\"\r\n                label=\"Port\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n              />\r\n            </Box>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction LocalUserList() {\r\n  const classes = useStyles();\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(25);\r\n\r\n  const handleChangePage = (event: unknown, newPage: number) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const users = useAppSelector(selectUsers);\r\n  return (\r\n    <>\r\n      <CardHeader\r\n        title=\"Local Users\"\r\n        // style={{ paddingBottom: 0 }}\r\n        action={\r\n          <Button color=\"primary\" variant=\"contained\">\r\n            Add User\r\n          </Button>\r\n        }\r\n      />\r\n      <Card className={classes.root}>\r\n        <CardContent>\r\n          <TableContainer className={classes.container}>\r\n            <Table stickyHeader aria-label=\"sticky table\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  {columns.map((column) => (\r\n                    <TableCell\r\n                      key={column.id}\r\n                      align={column.align}\r\n                      style={{ minWidth: column.minWidth }}\r\n                    >\r\n                      {column.label}\r\n                    </TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {users\r\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                  .map((user) => {\r\n                    return (\r\n                      <TableRow\r\n                        hover\r\n                        role=\"checkbox\"\r\n                        tabIndex={-1}\r\n                        key={user.id}\r\n                      >\r\n                        {columns.map((column) => {\r\n                          const value =\r\n                            column.id === \"actions\" ? (\r\n                              <ButtonGroup size=\"small\" color=\"primary\">\r\n                                <Button>Edit User</Button>\r\n                                <Button>Remove User</Button>\r\n                              </ButtonGroup>\r\n                            ) : (\r\n                              user[column.id]\r\n                            );\r\n                          return (\r\n                            <TableCell key={column.id} align={column.align}>\r\n                              {column.format ? column.format(value) : value}\r\n                            </TableCell>\r\n                          );\r\n                        })}\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </CardContent>\r\n        <TablePagination\r\n          rowsPerPageOptions={[10, 25, 100]}\r\n          component=\"div\"\r\n          count={users.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n","import { Redirect } from \"react-router\";\r\nimport EditDashboard from \"./components/pages/Dashboard/EditDashboard\";\r\nimport ViewDashboard from \"./components/pages/Dashboard/ViewDashboard\";\r\nimport AllOverviews from \"./components/pages/Framework/AllOverviews\";\r\nimport FrameworkAdmin from \"./components/pages/Framework/FrameworkAdmin\";\r\nimport ManageFramework from \"./components/pages/Framework/ManageFramework\";\r\nimport ViewFramework from \"./components/pages/Framework/ViewFramework\";\r\nimport ManageThreatFeed from \"./components/pages/API/ManageThreatFeed\";\r\nimport ManageAPI from \"./components/pages/API/ManageAPI\";\r\nimport ViewUsers from \"./components/pages/User/ViewUsers\";\r\n\r\nexport interface Route {\r\n  path: string;\r\n  component: any;\r\n  props?: { [key: string]: any };\r\n}\r\n\r\nexport const routes: Route[] = [\r\n  {\r\n    path: \"/admin/users\",\r\n    component: ViewUsers,\r\n  },\r\n  {\r\n    path: \"/admin/api\",\r\n    component: ManageAPI,\r\n  },\r\n  {\r\n    path: \"/admin/threatfeed\",\r\n    component: ManageThreatFeed,\r\n  },\r\n  {\r\n    path: \"/admin/framework/manage\",\r\n    component: ManageFramework,\r\n  },\r\n  {\r\n    path: \"/admin/framework\",\r\n    component: FrameworkAdmin,\r\n  },\r\n  {\r\n    path: \"/framework/overview\",\r\n    component: AllOverviews,\r\n  },\r\n  {\r\n    path: \"/framework/\",\r\n    component: ViewFramework,\r\n  },\r\n  {\r\n    path: \"/dashboard/edit\",\r\n    component: EditDashboard,\r\n  },\r\n  {\r\n    path: \"/dashboard\",\r\n    component: ViewDashboard,\r\n  },\r\n  {\r\n    path: \"/\",\r\n    component: RedirectToHome,\r\n  },\r\n];\r\n\r\nexport function RedirectToHome() {\r\n  return <Redirect to=\"/dashboard/home\" />;\r\n}\r\n\r\n// export function getElementFromPath(\r\n// \tpath: string,\r\n// \tprops?: { [key: string]: any }\r\n// ) {\r\n// \tswitch (path) {\r\n// \t\tcase \"/\":\r\n// \t\t\treturn <Redirect to='/home' />;\r\n// \t\tcase \"/home\":\r\n// \t\t\treturn <Home />;\r\n// \t\tcase \"/dashboard\":\r\n// \t\t\treturn <Dashboard dashboardId={props?.dashboardId} />;\r\n// \t\tcase \"/dashboard/manage\":\r\n// \t\t\treturn <ManageDashboard />;\r\n// \t\tcase \"/framework/overview\":\r\n// \t\t\treturn <AllOverviews />;\r\n// \t\tdefault:\r\n// \t\t\treturn <Home />;\r\n// \t}\r\n// }\r\n","import Users from \"./Users\";\r\n\r\nexport default function ViewDashboard() {\r\n  return <Users />;\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { useLocation } from \"react-router\";\r\nimport { selectFrameworkById } from \"../../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport Framework from \"./Framework\";\r\n\r\nexport default function ManageFramework() {\r\n  const location = useLocation();\r\n\r\n  const frameworkId = location.pathname.split(\"/\")[4];\r\n\r\n  const framework = useAppSelector(selectFrameworkById(frameworkId));\r\n\r\n  if (framework === undefined)\r\n    return <Typography variant=\"h4\">404: No such framework found</Typography>;\r\n\r\n  return <Framework framework={framework} canEdit={true} />;\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { useLocation } from \"react-router\";\r\nimport { selectFrameworkById } from \"../../../redux/frameworkSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport Framework from \"./Framework\";\r\n\r\nexport default function ViewFramework() {\r\n  const location = useLocation();\r\n\r\n  const frameworkId = location.pathname.split(\"/\")[2];\r\n\r\n  const framework = useAppSelector(selectFrameworkById(frameworkId));\r\n\r\n  if (framework === undefined)\r\n    return <Typography variant=\"h4\">404: No such framework found</Typography>;\r\n\r\n  return <Framework framework={framework} />;\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { useLocation } from \"react-router\";\r\nimport { selectDashboardById } from \"../../../redux/dashboardSlice\";\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport Dashboard from \"./Dashboard\";\r\n\r\nexport default function ViewDashboard() {\r\n  const location = useLocation();\r\n  const thisId = location.pathname.split(\"/\")[2];\r\n  const dashboard = useAppSelector(selectDashboardById(thisId));\r\n\r\n  if (dashboard !== undefined)\r\n    return <Dashboard dashboard={dashboard} canEdit={false} />;\r\n\r\n  return <Typography variant=\"h4\">404: No such dashboard found</Typography>;\r\n}\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { ThemeOptions } from \"@material-ui/core/styles\";\r\n\r\nimport \"react-grid-layout/css/styles.css\";\r\nimport \"react-resizable/css/styles.css\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\ndeclare module \"@material-ui/core/styles/createMuiTheme\" {\r\n  interface Theme {\r\n    gradients: {\r\n      success: string;\r\n      warning: string;\r\n      error: string;\r\n      info: string;\r\n    };\r\n  }\r\n  // allow configuration using `createMuiTheme`\r\n  interface ThemeOptions {\r\n    gradients?: {\r\n      success: string;\r\n      warning: string;\r\n      error: string;\r\n      info: string;\r\n    };\r\n  }\r\n}\r\n\r\nfunction createMyTheme(options: ThemeOptions) {\r\n  return createMuiTheme({\r\n    // gradients: {},\r\n    ...options,\r\n  });\r\n}\r\n\r\nexport const defaultBorderRadius = 10;\r\n\r\nexport const defaultPrimary = {\r\n  light: \"#ab87ff\",\r\n  main: \"#7559e9\",\r\n  dark: \"#3c2eb6\",\r\n  contrastText: \"#fff\",\r\n};\r\n\r\nexport const defaultSecondary = {\r\n  light: \"#756f7f\",\r\n  main: \"#494453\",\r\n  dark: \"#211d2a\",\r\n  contrastText: \"#fff\",\r\n};\r\n\r\nexport const defaultSpacing = (num: number) => num * 8;\r\n\r\nconst getTheme = (paletteType: \"dark\" | \"light\") =>\r\n  createMyTheme({\r\n    shape: {\r\n      borderRadius: defaultBorderRadius,\r\n    },\r\n    palette: {\r\n      type: paletteType,\r\n      primary: defaultPrimary,\r\n      secondary: defaultSecondary,\r\n      background: {\r\n        default: paletteType === \"light\" ? grey[100] : grey[900],\r\n      },\r\n    },\r\n    spacing: defaultSpacing(1),\r\n    gradients: {\r\n      success:\r\n        \"linear-gradient(to left top, #4caf50, #41ac56, #35a95b, #29a560, #1ba265, #119f6a, #069b6e, #009871, #009474, #009177, #008d79, #00897b)\",\r\n      warning:\r\n        \"linear-gradient(to left top, #ff9800, #f29a00, #e59b00, #d99c00, #cd9d00, #c29d00, #b79d00, #ac9d00, #a09d00, #939c00, #869c00, #789b00)\",\r\n      error:\r\n        \"linear-gradient(to left top, #f44336, #f23c42, #ef374e, #eb3458, #e53262, #df326a, #d83472, #d13679, #c83a80, #be3d86, #b4418b, #a9458f)\",\r\n      info: \"linear-gradient(to left top, #2196f3, #3693f0, #448fec, #508ce8, #5988e4, #6085e0, #6781dc, #6d7ed8, #737bd3, #7877cf, #7c74ca, #8071c5)\",\r\n    },\r\n    overrides: {\r\n      MuiList: {\r\n        padding: {\r\n          padding: defaultSpacing(1),\r\n        },\r\n      },\r\n      MuiListItem: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius,\r\n          marginTop: defaultSpacing(0.5),\r\n          marginBottom: defaultSpacing(0.5),\r\n          backgroundColor: \"transparent\",\r\n          position: \"relative\",\r\n          transition: \"0.15s !important\",\r\n          // \"&:last-child\": {\r\n          // \tmarginBottom: 0,\r\n          // },\r\n          \"&$selected\": {\r\n            backgroundColor: \"transparent\",\r\n            // background: `linear-gradient(143deg, ${defaultPrimary.light} 0%, ${defaultPrimary.main} 100%)`,\r\n            color: defaultPrimary.main,\r\n            \"& .MuiIcon-root\": {\r\n              color: defaultPrimary.main,\r\n            },\r\n            \"& .MuiSvgIcon-root\": {\r\n              color: defaultPrimary.main,\r\n            },\r\n            paddingLeft: defaultSpacing(1.5),\r\n            \"&::after\": {\r\n              transform: \"scaleX(1)\",\r\n            },\r\n          },\r\n          \"&::after\": {\r\n            transform: \"scale(0)\",\r\n            transformOrigin: \"left\",\r\n            transition: \"0.15s\",\r\n            content: '\" \"',\r\n            position: \"absolute\",\r\n            height: `calc(100% - ${defaultSpacing(2)}px)`,\r\n            width: 3,\r\n            top: defaultSpacing(1),\r\n            left: 0,\r\n            backgroundColor: defaultPrimary.main,\r\n            borderRadius: defaultBorderRadius,\r\n          },\r\n        },\r\n        gutters: {\r\n          paddingLeft: defaultSpacing(1),\r\n          paddingRight: defaultSpacing(1),\r\n        },\r\n      },\r\n      MuiListItemIcon: {\r\n        root: {\r\n          minWidth: 0,\r\n        },\r\n      },\r\n      MuiListItemText: {\r\n        root: {\r\n          marginLeft: defaultSpacing(1),\r\n        },\r\n      },\r\n      MuiCardContent: {\r\n        root: {\r\n          \"&:last-child\": {\r\n            paddingBottom: defaultSpacing(2),\r\n          },\r\n        },\r\n      },\r\n      MuiChip: {\r\n        label: {\r\n          fontWeight: 500,\r\n        },\r\n      },\r\n      MuiButton: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius / 2,\r\n        },\r\n      },\r\n      MuiInputBase: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius / 2,\r\n        },\r\n      },\r\n      MuiOutlinedInput: {\r\n        root: {\r\n          borderRadius: defaultBorderRadius / 2,\r\n        },\r\n      },\r\n    },\r\n    typography: {\r\n      fontFamily: [\"Poppins\"].join(\",\"),\r\n      fontSize: 13,\r\n      h5: {\r\n        fontWeight: 500,\r\n      },\r\n    },\r\n  });\r\n\r\nexport default getTheme;\r\n","import { makeStyles, ThemeProvider } from \"@material-ui/core\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport AppProvider from \"./context/AppContext\";\r\nimport Layout from \"./components/layout/Layout\";\r\nimport { routes } from \"./Router\";\r\nimport getTheme, { defaultBorderRadius } from \"./Theme\";\r\n\r\nimport \"react-grid-layout/css/styles.css\";\r\nimport \"react-resizable/css/styles.css\";\r\n\r\nconst theme = getTheme(\"light\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \"@global\": {\r\n    \".react-grid-item.react-grid-placeholder\": {\r\n      backgroundColor: \"unset\",\r\n      opacity: \"unset\",\r\n      borderRadius: theme.shape.borderRadius,\r\n      border: `1px solid ${theme.palette.primary.light}`,\r\n    },\r\n    \".react-resizable-handle::after\": {\r\n      width: `${defaultBorderRadius}px !important`,\r\n      height: `${defaultBorderRadius}px !important`,\r\n      borderRadius: `0 0 ${defaultBorderRadius / 1.5}px 0`,\r\n      borderRight: \"4px solid rgba(0, 0, 0, 0.4) !important\",\r\n      borderBottom: \"4px solid rgba(0, 0, 0, 0.4) !important\",\r\n    },\r\n  },\r\n  container: {\r\n    overflow: \"visible\",\r\n  },\r\n  appBody: () => ({\r\n    position: \"relative\",\r\n    transition: \"0.3s\",\r\n    boxSizing: \"border-box\",\r\n  }),\r\n}));\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Router>\r\n      <ThemeProvider theme={theme}>\r\n        <AppProvider>\r\n          <SnackbarProvider\r\n            maxSnack={5}\r\n            anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\r\n          >\r\n            <div className={classes.container}>\r\n              <Layout>\r\n                <div className={classes.appBody}>\r\n                  <Switch>\r\n                    {routes.map((route) => {\r\n                      return (\r\n                        <Route\r\n                          key={`${route.path}`}\r\n                          path={route.path}\r\n                          component={route.component}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </Switch>\r\n                </div>\r\n              </Layout>\r\n            </div>\r\n          </SnackbarProvider>\r\n        </AppProvider>\r\n      </ThemeProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}